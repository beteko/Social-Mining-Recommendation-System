articles assemblage pdfUne approche fondée sur la corrélation entre prédicats pour le traitement des réponses pléthoriques Patrick Bosc Allel Hadjali Olivier Pivert Grégory Smits Irisa ENSSAT Univ Rennes 1 Lannion France {bosc hadjali pivert} enssat fr Irisa IUT Lannion Univ Rennes 1 Lannion France gregory smits univ rennes1 fr Résumé L’interrogation de bases de données dont les dimensions ne cessent de croître se heurte fréquemment au problème de la gestion des réponses plé thoriques Une des approches envisageables pour réduire l’ensemble des résul tats retournés et le rendre exploitable est de contraindre la requête initiale par l’ajout de nouvelles conditions L’approche présentée dans cet article s’appuie sur l’identification de liens de corrélation entre prédicats associés aux attributs de la relation concernée La requête initiale peut ainsi être intensifiée automati quement ou par validation de l’utilisateur à travers l’ajout de prédicats proches sémantiquement de ceux spécifiés 1 Introduction Depuis le début des années 90 il a été reconnu que l’enrichissement des systèmes d’accès à l’information par des approches coopératives était devenu un besoin pragmatique et indé niable Gaasterland 1992 souligne que le principal enjeu des approches coopératives d’accès à l’information est de fournir des résultats corrects fiables et utiles en réponse aux requêtes utilisateurs au lieu de résultats littéraux Les réponses coopératives ont également pour objec tif de fournir des résultats répondant aux besoins et attentes des utilisateurs et ne nécessitant aucun effort et traitement supplémentaires pour être examinés et exploités En ce sens deux problèmes distincts sont fréquemment soulevés Le premier concerne la gestion des requêtes retournant un ensemble de résultats vide Lorsque aucun enregistrement ne répond pleinement à la requête soumise par l’utilisateur l’enjeu des approches coopéra tives est alors de fournir des réponses alternatives Le second problème concerne le cas des requêtes fournissant des résultats pléthoriques Ces requêtes retournent un nombre de réponses trop important pour être exploitées efficacement et facilement par l’utilisateur Cette situation problématique est d’autant plus actuelle que la présence et l’accès à des bases de données de plus en plus volumineuses se démocratisent et se généralisent notamment via Internet Parmi l’ensemble volumineux des résultats retournés l’utilisateur n’est généralement intéressé que par un sous ensemble de ces résultats qu’il juge plus pertinent Pour extraire ce sous ensemble l’utilisateur doit parcourir la totalité des résultats retournés ce qui constitue une tâche fasti dieuse et malaisée Cet article vise à résoudre ce dernier problème en proposant une méthode RNTI E 19 273 Traitement des réponses pléthoriques par corrélation entre prédicats permettant d’extraire un tel sous ensemble des résultats initiaux qui soit pertinent pour l’utili sateur et de taille raisonnable Notons que ce problème de réponses pléthoriques a déjà été largement abordé par la com munauté des bases de données selon deux axes Le premier axe guidé par les données consiste à considérer l’ensemble initial des résultats retournés comme point de départ et à lui appliquer des procédures de classement pour ensuite retourner les k meilleurs Cette approche se heurte fréquemment à la difficulté de différencier deux à deux des résultats qui répondent tous plei nement à la requête initiale Une autre approche de cet axe consiste à résumer l’ensemble des résultats pour en fournir une vue synthétique voir par exemple Ughetto et al 2008 Le second axe guidé par la requête agit sur la requête utilisateur pour la rendre plus restric tive ou fournir des informations ad hoc permettant de réduire l’ensemble des résultats retournés ou en privilégier certains Au sein de cet axe nous pouvons distinguer différentes approches La première consiste en une intensification des prédicats spécifiés pour contraindre la requête initiale par exemple le prédicat A ∈ [a1 a2] devient A ∈ [a1 +δ a2−δ] Pour certains types de requêtes cette intensification n’est pas souhaitable dans la mesure où elle peut conduire à une modification importante de la sémantique de la requête initiale De plus les requêtes atomiques comportant une contrainte sur une valeur unique ne peuvent être intensifiées En s’appuyant à la fois sur une extension du langage d’interrogation des bases de données et sur une modélisation des préférences une seconde approche consiste à solliciter l’utilisateur pour qu’il spécifie en complément des contraintes de sélection des préférences sur d’autres attributs Ces connaissances peuvent ainsi être exploitées pour privilégier parmi un ensemble de résultats ceux respectant le mieux les préférences spécifiées Une troisième approche consiste à compléter la requête initiale par des contraintes sup plémentaires afin de la rendre plus restrictive C’est dans cette dernière approche que s’ins crivent les travaux présentés dans cet article Le principe de l’approche proposée est basé sur l’identification de liens de corrélation entre prédicats applicables sur les attributs de la relation concernée afin de contraindre la requête initiale par l’ajout de nouveaux prédicats Ces prédi cats sont choisis car ils partagent un lien sémantique avec ceux spécifiés par l’utilisateur Cette démarche vise à réduire la cardinalité de l’ensemble des résultats retournés à l’utilisateur tout en respectant le sens des souhaits véhiculés dans la requête Le processus d’intensification présenté dans ce document peut être déployé de manière automatique ou semi automatique en demandant à l’utilisateur de choisir le prédicat à intégrer à sa requête initiale parmi ceux identifiés comme les plus corrélés Après une présentation des principaux travaux existants dans la section 2 la section 3 décrit les fondements de notre approche et plus particulièrement l’identification des relations de corrélation entre prédicats La section 4 montre comment ces relations de corrélation sont exploitées pour contraindre des requêtes atomiques ainsi que des requêtes conjonctives Un exemple complet et concret illustre cette approche dans la section 5 2 Travaux existants Réduire ou organiser un ensemble trop volumineux de résultats pour faciliter son analyse par un utilisateur est une problématique récurrente qui dépasse le cadre de l’interrogation des bases de données Dans le contexte de la recherche d’information les documents retournés sont associés à un score représentant des mesures de similarité de pertinence et de popularité RNTI E 19 274 Bosc et al en accord avec les mots clés spécifiés dans une requête utilisateur Différentes stratégies ont été envisagées pour classer les documents retournés allant des modèles vectoriels introduits par Salton et al 1975 aux modèles de langues statistiques cf Croft et Lafferty 2003 en passant par les systèmes de recherche d’information probabilistes dont un exemple est donné dans Jones et al 2000 Ces stratégies restent cependant focalisées sur les attributs textuels et sont difficilement transposables aux attributs numériques et catégoriels Différents travaux dans le domaine de l’interrogation de bases de données relationnelles ont été proposés pour fournir des méthodes de classement des résultats retournés Rui et al 1997 et Wu et al 2000 exploitent notamment les retours ou exemples donnés par l’utilisateur pour identifier et classer les objets multimédia les plus pertinents par rapport à une requête initiale Les approches probabilistes en recherche d’information ont également été plus directement reprises par Chaudhuri et al 2004 pour proposer un modèle de classement prenant en compte les dépendances et corrélations entre attributs spécifiés et non spécifiés dans la requête afin d’associer un score à chaque tuple retourné Outre le fait que cette dernière approche ne traite que les requêtes comportant des contraintes de type attribut = valeur ces différents travaux nécessitent de disposer d’un historique de requêtes ou de retours d’utilisateurs pour construire leurs modèles Ces connaissances ne sont pas toujours disponibles surtout pour les nouvelles bases de données Dans un contexte plus restrictif de bases de données commerciales Su et al 2006 proposent de classer les produits retournés par une requête utilisateur en fonction de leur intérêt commercial présence obligatoire d’un attribut prix Les travaux de Kießling 2002 et Chomicki 2002 visent également à fournir des mé thodes permettant de classer un ensemble potentiellement trop volumineux de résultats Ces méthodes s’appuient sur des préférences spécifiées par l’utilisateur au sein de la requête et donc une extension des langages d’interrogation de bases de données relationnelles Cette ap proche exige cependant de l’utilisateur qu’il considère des préférences sur des attributs ne concernant pas directement l’objet de sa requête initiale Dans le contexte de l’interrogation flexible de bases de données Bodenhofer et Küng 2003 enrichissent le langage VQS à l’aide d’opérateurs et proposent un classement des tuples retournés par une requête initiale Dans ce même contexte de requêtes flexibles Bosc et al 2008 proposent d’utiliser un opérateur d’érosion sur un des prédicats flous de la requête ini tiale pour contraindre cette dernière et ainsi réduire l’ensemble des résultats retournés Pour certains prédicats cette dernière approche entraîne cependant une modification importante et pas forcément souhaitée par l’utilisateur de la portée et du sens de la requête initiale L’étude proposée par Ozawa et Yamada 1994 pour le traitement des requêtes à réponses pléthoriques est celle qui se rapproche le plus de nos travaux Dans Ozawa et Yamada 1994 les données de la base concernée sont classées dans différents ensembles flous caractérisés par une étiquette linguistique associée à une fonction d’appartenance Ces ensembles flous constituent une macro expression des données exprimant leur distribution au sein de la base En s’appuyant sur ces connaissances établies a priori un degré de dispersion des résultats retournés par la requête initiale est calculé pour chaque attribut L’approche définie par Ozawa et Yamada 1994 propose ensuite à l’utilisateur d’enrichir sa requête initiale à l’aide d’une nouvelle contrainte portant sur l’attribut sur lequel les résultats de la requête initiale sont le plus dispersés La limite de cette approche réside dans le fait que l’attribut identifié comme celui proposant une dispersion maximale peut correspondre à une caractéristique non importante pour l’utilisateur et surtout n’ayant aucun lien avec les contraintes spécifiées dans la requête RNTI E 19 275 Traitement des réponses pléthoriques par corrélation entre prédicats initiale Pour illustrer cette limite prenons l’exemple d’une base décrivant un ensemble important de véhicules d’occasion et comportant notamment une relation R_Véhicules composée des attributs {désignation prix km année puissance type indiceSecurité indiceConfort vitesseMax} Soit la requête Q SELECT * FROM R_Véhicules WHERE km < 30000 AND type = ’break’ L’approche envisagée par Ozawa et Yamada 1994 pourrait proposer à l’utilisateur de rajouter une contrainte sur le prix ou la puissance en observant par exemple que les voitures de moins de 30000 km et de type break sont dispersées sur ces attributs L’approche présentée dans cet article adopte une démarche différente en partant notam ment de l’hypothèse que les propriétés les plus importantes pour l’utilisateur sont spécifiées dans sa requête et que cette requête doit être complétée par des contraintes respectant le sens de la requête initiale Notre approche propose d’intégrer de nouveaux prédicats à la requête initiale mais ces prédicats ne sont pas choisis par rapport à la dispersion des données qu’ils caractérisent mais principalement pour leur lien sémantique avec un des prédicats spécifiés Pour cet exemple notre approche proposera en priorité à l’utilisateur les voitures récentes et disposant d’indices de sécurité et de confort élevés qui apparaissent comme des propriétés corrélées sémantiquement à celles spécifiées dans la requête Q 3 Corrélation entre prédicats 3 1 Présentation du problème Soit une relation R contenant n tuples {t1 t2 tn} définis sur un ensemble Z de m attri buts numériques ou catégoriels {Z1 Z2 Zm} Soit Q une requête sur R de la forme SELECT * FROM R WHERE Z1 = z1 AND Z2 > z2 AND AND Zk IN zk1 zk2 zks ou plus généralement une requête composée d’une conjonction de prédicats d’égalité inégalité d’intervalle d’apparte nance etc Chaque Zi correspond à un attribut de R et les zi à des valeurs de son domaine de définition L’ensemble de tuples ΣQ = {t1 t2 tp} désigne les résultats de la requête Q sur la base concernée Le problème de la gestion des résultats pléthoriques apparaît lorsque la cardinalité de l’ensemble des résultats i e |ΣQ| est trop grand 1 pour être facilement exploité par l’uti lisateur Ainsi pour réduire l’ensemble ΣQ des résultats retournés nous proposons d’intégrer de nouveaux prédicats à la requête initiale Q pour former une requête Q′ plus sélective et ainsi retourner à l’utilisateur un ensemble ΣQ′ tq ΣQ′ ⊂ ΣQ Comme suggéré par Chaudhuri et al 2004 il peut paraître plus judicieux de privilégier les tuples de ΣQ qui possèdent des pro priétés non spécifiées liées sémantiquement aux propriétés spécifiées dans la requête Q Nous proposons d’identifier ces liens sémantiques en nous appuyant sur la notion de corrélation entre des prédicats prédéfinis et la requête de l’utilisateur 3 2 Connaissances disponibles a priori Nous supposons disponibles a priori des connaissances renseignant sur la distribution des données de la base Ces connaissances sur la distribution des données sont matérialisées par des 1 Cette limite est évidemment dépendante du contexte applicatif dans lequel le problème est considéré RNTI E 19 276 Bosc et al partitions du domaine de définition de chacun des attributs de la relation concernée Un attribut Zi est donc associé à une partition Pi = {Pi1 Pi2 Pisi} Ces partitions sont construites lors de la définition du schéma de la base par un expert Pour les attributs numériques ces partitions définissent des plages de données qui corres pondent à des prédicats d’intervalle et pouvant décrire un regroupement de tuples possédant une propriété commune sur l’attribut concerné Par exemple sur l’attribut année de la relation R_Vehicules la plage de valeur [0 3] peut constituer un intervalle décrivant les voitures très récentes En ce qui concerne les attributs catégoriels les différentes valeurs constituent individuellement ou par regroupement des éléments de la partition Pour rendre ces partitions plus exploitables et surtout décrire la propriété exprimée par chaque regroupement de valeurs un ensemble de labels linguistiques est associé à chaque partition Fig 1 Ainsi la partition Pi portant sur l’attribut Zi est associée à l’ensemble de labels Li = {Li1 Li2 Lisi} Ces labels décrivent d’une manière linguistique et naturelle les propriétés possédées par les éléments des partitions par ex Lannée = {"très récente" "récente" "d’âge moyen" "ancienne" "très ancienne"} Pour chaque élément Pij de la partition Pi d’un attribut Zi nous dénotons par bmin Pij et bmax Pij les bornes inférieure et supérieure de l’intervalle de valeurs qui le caractérise et par card Pij le nombre de tuples de la base qui ont une valeur appartenant à l’intervalle concerné Cette dernière information soulève évidemment le problème de l’adéquation et de la mise à jour de cette donnée en fonction de l’évolution de la base de données Sans toutefois dé velopper cet aspect récurrent dans les approches basées sur une représentation des distributions de données une solution consisterait à actualiser ces connaissances de manière incrémentale après une ou plusieurs modifications opérées sur la base Xi card P ij P i1 P i2 P is Li1 Li2 Lis p p p p FIG 1 – Partition et étiquetage d’un attribut Ainsi chaque élément Pij de la partition Pi d’un attribut Zi constitue un prédicat d’inter valle décrit par une étiquette Lij et que nous nommons prédicat prédéfini noté P p ij par opposition aux prédicats spécifiés notés P si qui désignent les prédicats présents dans la requête initiale L’intensification d’une requête repose sur l’intégration de un ou plu sieurs prédicats prédéfinis comme contraintes de la forme zi BETWEEN bmin Pij AND bmax Pij si Zi est un attribut quantitatif et zi IN elem Pij 2 si Zi est un attribut catégoriel Ozawa et Yamada 1994 exploitent des connaissances similaires aux partitions présen tées précédemment qui constituent ce qu’ils nomment une macro expression de la base de données Cette macro expression de la base est construite automatiquement en exploitant les résultats d’un processus de classification automatique floue Fuzzy C Means décrit dans Bez 2 elem Pij désigne la ou les catégories désignées par Pij RNTI E 19 277 Traitement des réponses pléthoriques par corrélation entre prédicats dek 1984 Les classes floues qui correspondent aux éléments de nos partitions avec des li mites graduelles sont ensuite associées à des étiquettes linguistiques définies manuellement et a priori ceci également afin d’améliorer la compréhension des classes construites Les partitions du domaine de définition des attributs pourraient également être obtenues en utilisant les méthodes de construction d’histogrammes Ioannidis 2003 Cependant telle que nous l’utilisons la partition du domaine de définition d’un attribut n’a pas pour objectif principal de capturer une distribution figée des données de la base sur cet attribut mais bien d’associer un sens ou plutôt une propriété à un intervalle de valeurs par l’intermédiaire d’une étiquette linguistique C’est pourquoi nous considérons que ces partitions sont établies lors de la création de la base par un expert et reflètent des regroupements de valeurs cohérents et de bon sens apportant une connaissance supplémentaire d’ordre sémantique sur les attributs 3 3 Corrélation entre prédicats et requête L’idée sous jacente de notre approche est de considérer qu’un prédicat prédéfini est corrélé à une requête utilisateur s’il caractérise un ensemble d’éléments similaire à celui retourné par la requête Par exemple nous considérons qu’un prédicat désignant les voitures récentes vé tusté inférieure à 3 ans est corrélé à une requête visant à sélectionner les véhicules de faible kilométrage dans la mesure où les véhicules récents ont souvent un kilométrage faible Pour évaluer cette corrélation nous comparons l’ensemble des résultats retournés par la requête et les tuples décrits par le prédicat prédéfini Pour quantifier ce lien de corrélation nous utili sons une mesure définie sur l’intervalle unité [0 1] exprimant l’égalité graduelle entre deux ensembles Ainsi plus le degré d’égalité entre ces deux ensembles de tuples est élevé plus la requête et le prédicat prédéfini sont corrélés Soit une requête Q et ΣQ l’ensemble des tuples retournés Soit P p ij le j eme prédicat prédé fini sur l’attribut Zi attribut non spécifié dans Q et B l’ensemble des tuples caractérisés par ce prédicat Le degré de corrélation entre P pij et Q noté cor P p ij Q repose donc sur le calcul du degré d’égalité entre ΣQ et B cor P pij Q = card ΣQ ∩ B card ΣQ ∪ B Ce degré de corrélation qui correspond à l’indice de Jaccard vérifie les propriétés de ré flexivité cor P pij P p ij = 1 et de symétrie cor Q P p ij = cor P p ij Q Capacité de réduction d’un prédicat Le choix du prédicat prédéfini pour l’intensification de la requête initiale ne peut reposer uniquement sur la maximisation du degré de corrélation avec les prédicats spécifiés En ef fet cette stratégie pourrait conduire à sélectionner un prédicat prédéfini entièrement ou très fortement corrélé à un prédicat spécifié degré de corrélation égal ou proche 1 et l’ajout de cette propriété ne réduirait pas suffisamment l’ensemble initial des résultats retournés Pour pallier ce problème nous appliquons sur le degré de corrélation une fonction d’appartenance triangulaire sur l’intervalle [0 1] permettant de favoriser les prédicats offrant un compromis entre corrélation et capacité de réduction Cette fonction notée μcorMod [0 1] → [0 1] est définie par un seul point γ caractérisant le degré de corrélation de référence comme l’illustre la RNTI E 19 278 Bosc et al figure 2 Le résultat de l’application de cette fonction sur un degré de corrélation cor P pij Q est appelé degré de corrélation modifié noté corMod P pij Q 1 0 1 cor P Q pij corMod cor P Q pij� FIG 2 – Fonction de calcul du degré de corrélation modifié Le point γ permet d’influer sur le comportement du processus d’intensification En favori sant les degrés de corrélation élevés les prédicats prédéfinis les plus corrélés seront privilégiés au détriment de leur capacité de réduction Les degrés les plus faibles permettront une réduc tion plus rapide de l’ensemble initial des résultats mais entraîneront l’ajout des prédicats les moins corrélés Algo 1 Actuellement le point γ décrivant cette fonction est un paramètre technique possédant une valeur par défaut γ = 0 6 Nous envisageons cependant de développer une méthode permettant d’ajuster automatiquement la valeur de ce paramètre en fonction des spécificités de la requête L’idée sous jacente est d’exploiter la clause TOP N de la requête si celle ci est spécifiée ou bien de demander à l’utilisateur le nombre N de résultats attendu À partir de ces informations et d’une estimation du nombre de résultats obtenus suite à l’intégration de chacun des prédicats pré définis les plus corrélés à la requête initiale il sera possible d’identifier la valeur γ garantissant le meilleur compromis entre corrélation et capacité de réduction 4 Intensification des requêtes 4 1 Tables de corrélation entre prédicats Il serait inefficace de calculer à chaque fois que l’on est confronté à une requête à réponses pléthoriques les degrés de corrélation entre la requête et tous les prédicats prédéfinis sur tous les attributs de la relation Nous proposons donc d’établir et de maintenir une table de corréla tion dans laquelle sont stockées ces connaissances Cette table contient autant de lignes et de colonnes qu’il y a de prédicats prédéfinis et renseigne pour chaque couple de prédicats prédé finis P pij P p kl k �= i le degré de corrélation cor P p ij Q entre le prédicat P p ij et une requête Q = P pkl À partir de ces informations nous pouvons stocker pour chaque prédicat prédéfini P pij la liste des autres prédicats prédéfinis classés par ordre décroissant de leur degré de corré lation vis à vis d’une requête Q = P pkl Nous estimons qu’il n’est pas nécessaire de conserver la liste ordonnée de tous les prédicats les plus corrélés à chaque prédicat prédéfini dans la me sure où l’intégration de plus de 3 ou 4 prédicats supplémentaires conduirait à une modification trop importante de la visée de la requête Nous ne conservons et n’exploitons ainsi que les cinq prédicats les plus corrélés RNTI E 19 279 Traitement des réponses pléthoriques par corrélation entre prédicats Afin d’exploiter les connaissances stockées dans cette table il est nécessaire d’identifier pour chaque prédicat spécifié son prédicat prédéfini le plus proche dans le domaine de défini tion de l’attribut concerné Pour les attributs numériques nous utilisons une mesure de distance entre deux prédicats P si et P p ij inspirée de la distance de Hausdorff notée dist P s i P p ij dist P si P p ij = max |bmin P si − bmin P p ij | |bmax P si − bmax P p ij | Dans le cas où les prédicats P si et P p ij portent sur des attributs catégoriels cette mesure est remplacée par le nombre de catégories désignées par P si ou P p ij moins celles en commun entre P si et P p ij i e |elem P si ∪ elem P p ij | − |elem P si ∩ elem P p ij | Le prédicat le plus proche P ′si d’un prédicat P s i défini sur l’attribut Zi attribut associé à la partition Pi = {P pi1 P p i2 P p ih} est celui qui minimise cette distance P ′si = P p ij tel que dist P p ij P s i = infj=1 hdist P p ij P s i 4 2 Processus d’intensification 4 2 1 Requêtes atomiques L’intensification d’une requête atomique Q = P si peut être automatisée en appliquant l’algorithme 1 Algorithme 1 Intensification d’une requête Q = P si Entrée Q = P si requête initiale γ degré de corrélation de référence ΣQ = resultats Q *Recherche du prédicat prédéfini P ′si le plus proche de P s i * P ′si = P p ij tel que dist P p ij P s i = infj=1 hdist P p ij P s i *Récupération des cinq prédicats prédéfinis les plus corrélés à P ′si * C = correles 5 P ′si *Récupération des cinq prédicats possédant les plus forts degrés de corrélation modifiés avec P ′si * I = modificationDegres γ C k = 1 tantque est_plethorique ΣQ faire *intégration du keme prédicat prédéfini maximisant le degré de corrélation modifié avec Q ou du prédicat choisi par l’utilisateur si l’intensification n’est pas automatique* Q = Q ∧ I[k] ΣQ = execute Q k = k + 1 fin tantque Sortie ΣQ En exploitant la table de corrélation l’intensification d’une requête atomique devient un processus efficace reposant sur l’application directe de l’algorithme 1 L’identification du pré dicat prédéfini P ′si le plus proche du prédicat spécifié P s i dans la requête Q nécessite cependant une comparaison avec l’ensemble des prédicats prédéfinis sur l’attribut Zi La récupération des RNTI E 19 280 Bosc et al prédicats prédéfinis les plus corrélés au prédicat prédéfini le plus proche du prédicat spécifié est directe étant donné que ces informations sont accessibles dans la table de corrélation De même le degré de corrélation modifié est calculé uniquement sur les cinq prédicats prédéfinis les plus corrélés L’exécution de la requête intensifiée est évidemment effectuée sur l’ensemble des résultats de la requête initiale et non sur la totalité de la base si tous les attributs nécessaires font partie de la projection initiale 4 2 2 Requêtes conjonctives Dans le cas d’une requête conjonctive Q = P s1 ∧ P s2 ∧ ∧ P sr conduisant à des résultats pléthoriques la méthode de sélection des prédicats prédéfinis à intégrer diffère quelque peu Pour chaque prédicat spécifié P si i = 1 r nous conservons toujours les 5 prédicats pré définis maximisant le degré de corrélation vis à vis de chaque requête Q′ = P ′si i = 1 r où nous rappelons que P ′si est le prédicat prédéfini le plus proche de P s i Après calcul du degré de corrélation modifié nous reclassons ces prédicats par ordre décroissant de leur degré de corrélation modifié moyen Soit P pij un des prédicats prédéfinis conservés Le degré de corrélation modifié de ce pré dicat par rapport à la requête conjonctive Q et à la fonction de modification du degré de corré lation μcorMod est recalculé de la façon suivante corMod P pij Q = 1 r r∑ k=1 μcorMod cor P p ij P ′s k En tenant compte de ce nouveau classement partiel l’algorithme 1 est ensuite appliqué pour l’intensification des requêtes conjonctives 5 Exemple Pour illustrer cette approche reprenons l’exemple de la relation de test R_Vehicules introduit en section 2 et la requête Q = SELECT * FROM R_Vehicules WHERE km BETWEEN 10000 AND 30000 AND type = ‘break’ Pour illustrer notre approche nous considérons l’ensemble des résultats ΣQ pléthorique avec notamment |ΣQ| = 108 La figure 3 illustre des partitions possibles des attributs année et type concernés par la requête Q On remarque que les prédicats prédéfinis les plus proches des prédicats spécifiés P s1 = km BETWEEN 10000 AND 30000et P s2 = type = ‘break’ sont respectivement P pkm1 Lkm1 = ‘très faible’ et P ptype5 Ltype5 = familial’ d’où P ′s1 = P pkm1 et P ′s2 = P p type5 La table 5 propose des extraits de la table de corrélation et de réduction disponible per mettant notamment d’appréhender la distribution des tuples appartenant à ΣQ Pour cet exemple nous considérons que |P ′s1 | = 234 et |P ′s2 | = 172 De même la car dinalité de chaque partition est spécifiée après chaque label linguistique entre parenthèses Pour chaque couple de prédicats prédéfinis P ′sk P p ij nous donnons leur degré de corrélation cor P ′sk Q = P p ij et pour information nous avons ajouté entre parenthèses le cardinal de l’intersection des ensembles de tuples retournés par ces deux prédicats P ′sk ∧ P p ij RNTI E 19 281 Traitement des réponses pléthoriques par corrélation entre prédicats Xkm card P kmj P km1 Lkm1 0 4 0 k 8 0 k 1 2 0 k 1 6 0 k 2 0 0 k 2 4 0 k 'très faible' 'faible' 'élevé' 'très élevé' P km2 P km3 P km4 P km5 Lkm2 Lkm3 Lkm4 Lkm5 'moyen' km BETWEEN 10000 AND 30000 Xtype card P typej P type1 Ltype1 u ti lit a ir e s p o rt c o u p é b re a k 4 x 4 m o n o s p a c e 'utilitaire' 'sport' 'coupé' 'familial' c a m p in g c a r P type2 P type3 P type4 P type5 P type6 Ltype2 Ltype3 Ltype4 Ltype5 Ltype6 '4x4' 'camping car' type = 'break' p p p p p p p p p p p p p FIG 3 – Partitions des attributs km et type Attribut puissance Lpuissancei ‘faible’ 275 moyenne’ 502 ‘élevée’ 435 P ′s1 0 067 32 0 059 41 0 055 35 P ′s2 0 067 28 0 039 25 0 1 55 Attribut prix Lprixi ‘bas’ 161 ‘moyen’ 342 ‘élevé’ 417 ‘très élevé’ 262 P ′s1 0 008 3 0 016 9 0 085 51 0 102 46 P ′s2 0 034 11 0 078 37 0 069 38 0 053 22 Attribut année Lanneei ‘très récent’ 90 ‘récent’ 302 ‘moyen’ 339 ‘ancien’ 310 ‘très ancien’ 171 P ′s1 0 286 72 0 045 23 0 016 9 0 006 3 0 02 1 P ′s2 0 087 21 0 049 22 0 045 22 0 057 26 0 052 17 Attribut indiceConfort LindiceConforti ‘faible’ 349 ‘moyen’ 435 ‘élevé’ 368 ‘très élevé’ 60 P ′s1 0 021 12 0 032 21 0 058 33 0 167 42 P ′s2 0 012 6 0 032 19 0 084 42 0 215 41 Attribut indiceSecurite LindiceSecuritei ‘bas’ 107 ‘moyen’ 442 ‘élevé’ 399 ‘très élevé’ 264 P ′s1 0 018 6 0 034 22 0 082 48 0 117 52 P ′s2 0 004 1 0 022 13 0 071 38 0 147 56 Attribut vitesseMax LvitesseMaxi ‘faible’ 276 ‘moyen’ 542 élevée’ 394 P ′s1 0 065 31 0 057 42 0 059 35 P ′s2 0 067 28 0 08 53 0 05 27 TAB 1 – Extraits de la table de connaissances pour P ′s1 P ′s 2 RNTI E 19 282 Bosc et al Sur cet exemple nous utilisons une fonction de modification du degré de corrélation définie par γ = 0 6 Ainsi on constate que les cinq prédicats maximisant le degré de corrélation mo difié avec les prédicats P ′s1 et P ′s 2 sont respectivement {année ‘très récent’ 0 477 indiceConfort ‘très élevé’ 0 278 indiceSécurité ‘très élevé’ 0 195 p rix ‘très élevé’ 0 17 prix ‘élevé’ 0 142} et {indiceConfort ‘très élevé’ 0 358 indiceSécurité ‘très élevé’ 0 245 puissance ‘élevée’ 0 167 an née ‘très récent’ 0 145 indiceConfort ‘élevé’ 0 14} Ces prédicats prédéfi nis apparaissent bien comme porteurs de propriétés sémantiquement proches de celles spéci fiées dans la requête initiale Nous fusionnons ensuite ces classements pour établir un classement final des prédicats selon leur degré de corrélation modifié moyen On obtient alors {indiceConfort ‘très élevé’ 0 318 année ‘très récent’ 0 311 indiceSécurité ‘très élevé’ 0 22 prix ‘très élevé’ 0 085 puissance ‘élevée’ 0 083 prix ‘élevé’ 0 071 indiceConfort ‘élevé’ 0 07} Ce classement final est soit exploité pour intensifier automatiquement la requête initiale par application de l’algorithme 1 soit suggéré à l’utilisateur pour qu’il choisisse le ou les prédicat s prédéfini s à intégrer à sa requête initiale Si dans notre exemple l’utilisateur choisit le prédicat année ‘très récent’ pour intensifier sa requête initiale Q la re quête Q’ = SELECT * FROM R_Vehicule WHERE km BETWEEN 10000 AND 30000 AND type = ’break’ AND année BETWEEN bmin P pannee4 AND bmax P p annee4 3 sera construite et exécutée pour générer un ensemble de résul tats ΣQ′ tq ΣQ′ ⊂ ΣQ ΣQ′ est retourné à l’utilisateur ainsi le cas échéant que le classement calculé précédemment des prédicats prédéfinis les plus corrélés à Q afin de procéder si néces saire à une nouvelle intensification 6 Conclusion et perspectives L’approche proposée pour le traitement des requêtes à réponses pléthoriques est basée sur le principe d’intensification de requêtes au moyen de prédicats prédéfinis Le choix et l’ordre des prédicats à intégrer sont déterminés en utilisant une mesure de corrélation entre les pré dicats prédéfinis associés aux attributs de la relation concernée Un des avantages majeurs de l’approche est qu’elle ne conduit pas à une dégradation importante de la requête initiale Ceci est clairement illustré dans l’exemple considéré La complexité de l’approche est maintenue acceptable grâce à la table de connaissances qui renseigne sur les corrélations entre les prédi cats prédéfinis Ces connaissances sont établies a priori puis maintenues à jour Après une validation du fondement de cette approche nous envisageons de mettre en place une évaluation qualitative de l’intérêt de ce processus d’intensification par retour d’utilisateurs dans un contexte applicatif donné interrogation de la base de données cinématographique IMDB imdb com En plus de présenter à l’utilisateur les prédicats les plus corrélés à sa requête initiale nous envisageons également d’exploiter les connaissances dispo nibles à travers les partitions des domaines de valeurs des attributs pour approximer le nombre de tuples qui lui seront retournés suite à l’intégration de chacun de ces prédicats 3 Rappel P pannee4 correspond au quatrième élément de la partition définie sur l’attribut année RNTI E 19 283 Traitement des réponses pléthoriques par corrélation entre prédicats Références Bezdek J 1984 Fcm The fuzzy c means clustering algorithm Computers and Geosciences Bodenhofer U et J Küng 2003 Fuzzy orderings in flexible query answering systems Soft Computing 8 512–522 Bosc P A Hadjali et O Pivert 2008 Empty versus overabundant answers to flexible rela tional queries Fuzzy sets and systems 159 12 1450–1467 Chaudhuri S V H G Das et G Weikum 2004 Probabilistic ranking of databases query In Proc of Int Conf on Very Large Databases pp 888–899 Chomicki J 2002 Querying with intrinsic preferences EDBT 34–52 Croft W et J Lafferty 2003 Language Modeling for Information Retrieval Kluwer Gaasterland T 1992 Relaxation as a platform for cooperative answering Journal of Intel ligent Information Systems 1 3 4 296–321 Ioannidis Y 2003 The history of histograms abridged In Proc of the 29th Int Conf on Very Large DataBases Jones K S S Walker et S Robertson 2000 A probabilistic model of information retrieval development and comparative experiments Inf Process Management Part 1 809–840 Kießling W 2002 Foundations of preferences in database systems In Proc of the 28th Int Conf on Very Large DataBases pp 311–322 Ozawa J et K Yamada 1994 Cooperative answering with macro expression of a database In Proc of the IPMU conf pp 17–22 Rui Y T Huang et S Merhotra 1997 Content based image retrieval with relevance feed back in mars In Proc IEEE Int Conf on Image Processing pp 815–818 Salton G A Wong et C Yang 1975 A vector space model for automatic indexing Com munications of ACM Information Retrieval and Language Processing 8 11 Su W J Wang Q Huang et F Lochovsky 2006 Query result ranking over e commerce databases In Proc of the CIKM Ughetto L W Voglozin et N Mouaddib 2008 Database querying with personalized voca bulary using data summaries Fuzzy Sets and Systems 159 2030–2046 Wu L C Faloutsos K Sycara et T Payne 2000 Falcon Feedback adaptive loop for content based retrieval In Proc of the 26th Int Conf on Very Large DataBases pp 297– 306 Summary Retrieving desired data from large scale databases often leads to an overabundant answers problem A possible approach to reduce the set of retrieved items and to make it more manage able is to constrain the initial query with additional predicates The approach presented in this paper relies on the identification of correlation links between predicates related to attributes of the relation of interest Thus the inital query is intensified by additional predicates that are semantically close with the user specified ones RNTI E 19 284 