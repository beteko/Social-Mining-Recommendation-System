 Modèle de supervision d’interactions non intrusif basé sur les ontologies Willy Allègre Thomas Burger Pascal Berruet Jean Yves Antoine Université de Bretagne Sud Lab STICC Centre de recherche BP 92116 56321 Lorient Cedex France contact willy allegre univ ubs fr Université François Rabelais de Tours Laboratoire d’Informatique 3 place Jean Jaurès F 41000 Blois Cedex France Résumé L’automatisation et la supervision des systèmes pervasifs est à l’heure actuelle principalement basée sur l’utilisation massive de capteurs distribués dans l’environnement Dans cet article nous proposons un modèle de super vision d’interactions basé sur l’analyse sémantique des logs domotiques com mandes émises par l’utilisateur visant à limiter l’utilisation de ces capteurs le principe est d’utiliser des outils d’inférences avancés afin de déduire les in formations habituellement captées Pour cela une ontologie automatiquement dérivée d’un processus dirigé par les modèles définit les interactions utilisateur système L’utilisation d’un système de règles permet ensuite d’inférer des infor mations sur la localisation et l’intention de l’utilisateur dans le but de réaliser du monitoring et de proposer des services domotiques adaptés 1 Introduction La course à la miniaturisation des équipements électroniques et à leur diffusion dans le milieu ambiant fait que la domotique ne se cantonne plus au simple contrôle d’équipements domestiques Ce domaine d’application évolue de plus en plus vers les systèmes pervasifs Weiser 1993 Dans ce contexte savoir qui fait quoi et où est essentiel pour adapter le système aux besoins de l’utilisateur spécialement dans le domaine de l’assistance à la personne L’utilisation de capteurs distribués dans l’environnement est actuellement la solution la plus répandue pour recueillir ces informations contextuelles On peut distinguer principale ment deux méthodes qui peuvent être couplées Yu et al 2006 Nourizadeh et al 2009 l’utilisation de caméras qui présente une solution intrusive et le déploiement massif de cap teurs dans l’environnement qui représente un investissement financier important Les travaux issus de Truong et al 2009 ont pu mettre en avant l’intérêt d’analyser les logs domotiques enregistrés à l’exécution pour limiter l’utilisation de ces capteurs Ils proposent un modèle de supervision qui repose sur la caractérisation de services sur une base statistique les services étant interprétés comme des motifs d’activités récurrentes dans le temps Pour répondre à la problématique d’extraction de connaissances à partir de logs domo tiques cet article présente un modèle de supervision d’interactions basé sur une ontologie 95 Modèle de supervision d’interactions non intrusif basé sur les ontologies L’utilisation de ce modèle de représentation logique pour l’analyse sémantique des logs est dis cutée dans la section 2 L’ontologie définie pour modéliser les interactions utilisateur système ainsi que les règles d’inférences associées sont ensuite détaillées dans la section 3 Un cas d’étude section 4 présente finalement une application possible de ces travaux 2 Analyse sémantique des logs domotiques Le modèle de Truong et al 2009 repose sur le postulat d’existence d’activités très régu lières ce qui n’est pas toujours vérifié en pratique Par exemple l’utilisateur a besoin d’allumer ou d’éteindre les lumières dans les pièces qu’il traverse la nuit Ces interactions peuvent être réalisées ponctuellement à n’importe quelle heure de la nuit à n’importe quelle journée de la semaine etc À l’inverse d’une étude statistique seule une analyse logique des logs permet d’inférer l’intention de l’utilisateur à un instant t et de lui proposer ce genre de services Tierce personneOntologieServeurUtilisateur Demande d'un service Assertion ontologie Connaissance Retour d'informations Activation d'un service Raisonnement moteur d'inférences Définition de règles Proposition de services Proposition de services Monitoring Partie commande Partie supervisionLégende FIG 1 – Intégration d’ontologies pour la supervision d’interactions non intrusive Pour modéliser et interpréter la sémantique associée aux logs domotiques nous proposons d’utiliser une ontologie Gruber et al 1995 dont l’intégration pour la supervision d’inter actions domotiques est illustrée dans la figure 1 Lorsque l’utilisateur sollicite un service la commande émise est traitée par un serveur puis le résultat d’exécution est retourné à l’utili sateur La requête de l’utilisateur est également traduite en assertion dans l’ontologie chargée de représenter et partager les informations de contexte issues de différentes plateformes do motiques Un moteur d’inférences interprète ensuite cette assertion pour enrichir la base de connaissances i d’une ou plusieurs informations de monitoring et ii d’une proposition de services basée sur les informations précédement inférées Dans nos travaux l’ontologie n’est pas développée de manière ad hoc mais est dérivée d’éléments issus de modèles métier dédiés à la conception de systèmes domotiques d’assis tance À partir d’un flot de conception dirigé par les modèles permettant de générer le code de commande de ces systèmes Allègre et al 2011 un modèle de supervision d’interactions basé sur une ontologie est généré Si cette partie dépasse le cadre de cet article la section suivante détaille en revanche l’ontologie retenue dont les individus sont automatiquement générés 96 W Allègre et al 3 Supervision d’interactions non intrusive 3 1 Présentation générale La modélisation des interactions utilisateur système sans utiliser de capteurs physiques a pour but de réaliser du monitoring d’activités non intrusif et d’aboutir à la proposition de services Pour cela quelques hyppothèses doivent être préalablement formulées 1 L’utilisateur est seul dans son habitat les informations de contexte sont inférées pour déterminer cette situation et activer l’application en conséquence 2 L’utilisateur fait une utilisation logique de son système domotique l’ontologie basée sur les logiques de description a été définie en considérant ce fait L’ontologie développée comprend 6 concepts fondamentaux qui se déclinent par la suite Un utilisateur User peut utiliser un système domotique System faisant intervenir à la fois des équipements Device et des services élémentaires BasicService Ces derniers concepts peuvent être classés en deux types d’activation locale ou à distance À partir d’une description du contexte utilisant ces informations il est possible d’inférer l’emplacement Location dans lequel se trouve l’utilisateur et son intention associée à la propriété d’effet Effect 3 2 Localisation de l’utilisateur La localisation est une information de contexte importante à partir de laquelle des activités peuvent être inférées La figure 2 montre une partie de la terminologie TBox avec les concepts et les liens sémantiques associés pour la localisation de l’utilisateur Les ressources d’activation locale LocalDevice et les ressources d’activation à distance RemoteDevice concepts mutuel lement exclusifs et inverses sont définies pour représenter respectivement i les ressources qui sont activées lorsque l’utilisateur se trouve dans la même pièce et ii les ressources qui sont activées à distance e g à partir d’une pièce voisine Le concept porte Door est défini avec deux liens isBetween vers exactement deux concepts Room À partir de cette représen tation logique des règles sont exprimées dans le but d’inférer des propriétés comme isLoca tedIn isEntering et isLeaving suivant l’activation de services élémentaires Considérons par exemple la propriété 1 du tableau 1 un utilisateur u qui utilise une ressource d’activation locale d se trouvant dans une pièce r se trouve lui même dans cette pièce 3 3 Proposition de services À partir des informations présentées dans la section précédente il est possible d’aboutir à la proposition de services nous introduisons pour cela la propriété d’effets Lorsque l’utilisa teur demande l’activation d’un service il le fait dans le but d’obtenir un certain effet sur son environnement Ainsi tous les services élémentaires BasicService ont une propriété d’effet principal Luminosity Darkness Heat Quietness etc qui leur est associée à travers la re lation hasEffect cf figure 2 L’intention de l’utilisateur peut ainsi être inférée à partir de cette propriété Considérons par exemple la propriété 5 du tableau 1 un utilisateur u qui demande l’activation d’un service élémentaire b veut en réalité l’effet e associé à ce service En couplant l’intention de l’utilisateur avec les informations de localisation cf section 3 2 il est possible de proposer des services Par exemple un utilisateur qui veut de la lumière e g 97 Modèle de supervision d’interactions non intrusif basé sur les ontologies FIG 2 – Ontologie extraits localisation gauche et proposition de services droite noir liens modélisés vert liens inférés itération n magenta liens inférés itération n+1 N◦ Nom Expression SWRL Semantic Web Rule Language 1 isLocatedIn LocalDevice d Room r User u isLocatedIn d r isUsing u d → is LocatedIn u r 2 isUsingFrom Door d Room r User u isLocatedIn u r isUsingBy d u → isUsing From d r 3 isLeaving Door d Room r User u isUsing u d isUsingFrom d r → isLea ving u r 4 isEntering Door d Room r1 Room r2 User u isBetween d r1 isBet ween d r2 isLeaving u r1 isLinkedWith r1 r2 → isEntering u r2 5 wants BasicService s Effect e User u hasEffect s e isAskingForSer vice u s → wants u e 6 isUsingFrom Door d Room r User u isLocatedIn u r isUsingBy d u → isUsing From d r 7 isWantedIn Effect e Room r User u isEntering u r isWantedBy e u → isWante dIn e r 8 suggestDevice BasicService b Device d Effect e Room r System s hasToPro vide s e isLocatedIn d r isProvidedBy e b isWantedIn e r service ProvidedBy b d → suggestDeviceActivation s d 9 suggestService BasicService b Device d Effect e Room r System s hasTo Provide s e isLocatedIn d r isProvidedBy e b isWantedIn e r serviceProvidedBy b d → suggestServiceActivation d b TAB 1 – Règles SWRL pour la localisation 1 2 3 4 et la proposition de services 5 6 7 8 9 wants User1 Luminosity qui entre ensuite dans une pièce se verra proposer des services permettant d’augmenter la luminosité de la pièce où il entre à travers l’utilisation des proprié tés suggestDevice et SuggestService qui s’appliquent respectivement aux concepts System et Device cf tabeau 1 Le cas d’étude de la section suivante présente une instanciation possible de cette ontologie dont les individus sont automatiquement générés par transformations de modèles 98 W Allègre et al 4 Cas d’étude Afin de valider notre approche nous avons modélisé une application de suivi de personnes qui se base sur les services d’aide à la personne installés dans les appartements témoins du centre de rééducation de Kerpape 1 Notre objectif était d’étudier la proposition dynamique de services à l’aide de notre modèle sur un cas d’étude proche de la réalité Légende Etape 1 Etape 2 Etape 3 Etape 4 Etape 5 FIG 3 – Scénario de vie dans les appartements témoins du centre de Kerpape 1 L’utilisateur User1 regarde la TV chaîne 1 de sa chambre après en avoir demandé l’activation “[Log] TV3 Ch1” Ce log est traduit par les assertions suivantes 2 “[Assertion 1] User1 isAskingForService Ch1” et “[Assertion 2] User1 isUsing TV3” Sachant que TV3 est une ressource d’activation locale localisée dans la pièce BedRoom2 que cette ressource a comme service Ch1 ayant comme effet WatchCh1 les règles 1 et 5 du tableau 1 peuvent s’appliquer L’exécution du moteur d’inférences permet d’aboutir aux inférences suivantes [Inf 1] User1 isLocatedIn BedRoom2 et [Inf 2] User1 wants WatchCh1 2 L’utilisateur veut à présent se rendre dans le salon il allume tout d’abord la lumière de sa chambre “[Log] L8 SwitchON” De la même manière sachant qu’une lampe est consi dérée comme une ressource d’activation locale les inférences suivantes sont réalisées [Inf 3] User1 isLocatedIn BedRoom2 et [Inf 4] User1 wants Luminosity 3 Pour entrer dans le salon il commande l’ouverture de la porte D4 “[Log] D4 Open” Une porte est définie comme étant liée à exactement deux pièces par la propriété isBetween Les règles 3 et 4 du tableau 1 peuvent être appliquées [Inf 5] User1 isEntering LivingRoom2 et [Inf 6] User1 isLeaving BedRoom2 4 Le système propose d’allumer les lumières et la TV du salon d’après les intentions et la localisation de l’utilisateur inférées précédement Ces inférences sont rendues possibles grâce aux règles 8 et 9 du tableau 1 5 Le système propose également d’éteindre la lumière et la TV de la chambre en se basant sur la propriété inverse des effets e g Luminosity isInverseOf Darkness 1 Centre Mutualiste de Rééducation et de Réadaptation Fonctionelle de Kerpape kerpape mutualite56 fr 2 Chaque log domotique est décomposé de la même manière avec les propriétés isAskingForService et isUsing 99 Modèle de supervision d’interactions non intrusif basé sur les ontologies 5 Conclusion Cet article présente un modèle de supervision d’interactions non intrusif basé sur une onto logie pour les systèmes domotiques d’assistance La supervision de tels systèmes se base non pas sur l’utilisation de capteurs mais sur l’analyse sémantique des logs enregistrés à chaque demande de services de l’utilisateur L’ontologie couplée à un système de règles permet à un moteur d’inférences d’extraire des informations habituellement captées Un cas d’étude permet enfin d’illustrer le suivi de personnes et la proposition dynamique de services L’approche proposée dans cet article n’a volontairement recours à l’utilisation d’aucun capteurs physiques Un mécanisme d’inférences logiques permet par exemple de déduire la localisation de l’utilisateur se substituant ainsi à l’utilisation de capteurs de présence Cepen dant pour aboutir à un système de monitoring complet cette approche doit logiquement être combinée avec l’utilisation de capteurs dont les informations ne peuvent être inférées à partir de logs domotiques Les informations véhiculées par des capteurs bio médicaux e g pres sion tension chute etc ou encore des informations précises de mesure e g température luminosité etc peuvent également être traduites en assertions dans le modèle de supervision Néanmoins cette approche permet de limiter l’utilisation de capteurs et de ce fait permet d’offrir une solution moins intrusive et moins chère susceptible d’être mieux acceptée Références Allègre W P Berruet et T Burger 2011 Model driven flow for assistive home automation system design In Proceedings of the 18th IFAC World Congress Gruber T et al 1995 Toward principles for the design of ontologies used for knowledge sharing International Journal of Human Computer Studies 43 5 907–928 Nourizadeh S C Deroussent Y Song et J Thomesse 2009 Medical and home automation sensor networks for senior citizens telehomecare Truong T F de Lamotte J Diguet et al 2009 Proactive remote healthcare based on multimedia and home automation services In Proceedings of the 5th IEEE CASE Weiser M 1993 Some computer science issues in ubiquitous computing Communications of the ACM 36 75–84 Yu C C Wu C Lu et L Fu 2006 Human localization via multi cameras and floor sensors in smart home In Proceedings of IEEE SMC’06 Volume 5 pp 3822–3827 IEEE Summary Automation and supervision of pervasive systems is mainly based on a widespread use of sensors in current solutions In this paper we propose an interaction supervision model based on the semantic analysis of home automation logs Our goal is to replace as many sensors as possible by using advanced tools to infer information usually sensored First an ontology automatically derived by a model driven process defines interactions between user and system Then the use of rules allows to infer information about location and user’s intention in order to monitor activities and to propose adapted home automation services 100 