 Analyse exploratoire par k Coclustering avec Khiops CoViz Bruno Guerraz Marc Boullé Dominique Gay Vincent Lemaire Fabrice Clérot Orange Labs Laboratoire d’Informatique et de Mathématiques Université de La Réunion Résumé En analyse exploratoire l’identification et la visualisation des interac tions entre variables dans les grandes bases de données est un défi Dhillon et al 2003 Kolda et Sun 2008 Nous présentons Khiops CoViz un outil qui permet d’explorer par visualisation les relations importantes entre deux ou plusieurs variables qu’elles soient catégorielles et ou numériques La visualisation d’un résultat de coclustering de variables prend la forme d’une grille ou matrice dont les dimensions sont partitionnées les variables catégorielles sont partitionnées en clusters et les variables numériques en intervalles L’outil permet plusieurs va riantes de visualisations à différentes échelles de la grille au moyen de plusieurs critères d’intérêt révélant diverses facettes des relations entre les variables 1 Khiops CoViz Visualisation des modèles en grille Khiops CoViz développée en Flex est la brique logicielle de visualisation de Khiops Co clustering KHC 1 Étant données deux ou plus variables catégorielles ou numériques KHC réalise un partitionnement simultané des variables les valeurs de variables catégorielles sont groupées en clusters et les variables numériques sont partitionnées en intervalles – ce qui re vient à un problème de coclustering Le produit des partitions uni variées forme une partition multivariée de l’espace de représentation i e une grille ou matrice de cellules et il représente aussi un estimateur de densité jointe des variables Afin de choisir la “meilleure” grille M connaissant les données de l’espace de modèles M nous exploitons une approche Bayé sienne dite Maximum A Posteriori MAP KHC explore l’espace de modèles en minimisant un critère Bayésien appelé cost qui réalise un compromis entre la précision et la robustesse du modèle cost M = − log p M | D ︸ ︷︷ ︸ posterior ∝ − log p M ︸ ︷︷ ︸ prior × p D |M ︸ ︷︷ ︸ vraisemblance 1 KHC construit aussi une hiérarchie des parties de chaque dimension i e clusters ou intervalles adjacents en utilisant un stratégie agglomérative ascendante en partant de M la grille opti male résultant de la procédure d’optimisation jusqu’à M∅ le modèle nul i e la grille unicel lulaire où aucune dimension n’est partitionnée Les hiérarchies sont construites en fusionnant 1 khiops com – Pour plus de détails sur l’implémentation de KHC voir Boullé 2011 493 Analyse exploratoire par k Coclustering avec Khiops CoViz les parties qui minimisent l’indice de dissimilarité ∆ c1 c2 = cost Mc1∪c2 − cost M où c1 c2 sont deux parties d’une partition d’une dimension de la grille M et Mc1∪c2 la grille après fusion de c1 et c2 De cette manière la fusion de parties minimise la dégradation du critère cost donc minimise la perte d’information par rapport à la grille M avant fusion L’uti lisateur peut ainsi choisir la granularité de la grille nécessaire à son analyse tout en contrôlant soit le nombre de parties soit le taux d’information i e le pourcentage d’information gardé dans le modèle IR M ′ = cost M ′ −cost M∅ cost M −cost M∅ La grille opti male M et les hiérarchies correspondantes constituent les principales structures de notre outil de visualisation 2 Interface utilisateur Exploration Interactivité La figure 1 présente l’interface utilisateur de l’outil pour un sous ensemble de données de la base DBLP Nous considérons des données à trois dimensions Author × Y ear × Event pour 16 000 auteurs ayant publié au moins une fois dans une des principales conférences de Bases de Données ou de Fouille de Données – Y ear est l’année de la publication Le panneau principal de visualisation de l’outil est composé des hiérarchies de deux dimensions sélection nées des parties terminales des hiérarchies et de la composition d’une partie sélectionnée La visualisation de la grille correspondante est aussi disponible via le panneau principal voir la figure 2 à gauche L’outil permet de naviguer parmi les parties d’une dimension tandis que les deux autres dimensions sont fixées et dédiées à la visualisation pour le cas à plus de deux variables FIG 1 – Panneau principal de Khiops CoViz de gauche à droite les hiérarchies des parties de deux dimensions Author and Event la liste des parties terminales des hiérarchies et la composition des parties sélectionnées 494 B Guerraz et al Choisir la granularité voulue pour visualiser la grille se fait au moyen de la fonctionnalité “unfold hierarchy” voir figure 2 à droite Un analyste peut contrôler le nombre de parties par dimension ou le taux d’information comme décrit plus haut par fusion optimale ou par fusion personnalisée non optimale Selon les données d’applications la grille optimale peut être composée de beaucoup de clusters peut être trop pour l’analyste et fusionner des clus ters augmente mécaniquement le nombre de valeurs par cluster pour faciliter l’analyse des clusters l’outil propose deux mesures l’intérêt d’un cluster et la typicité d’une valeur dans un cluster Ces deux mesures sont dérivées du critère cost Guigourès 2013 et sont utiles pour ordonner les clusters ou les valeurs de clusters par intérêt et se focaliser sur les composantes les plus intéressantes voir figure 1 Panneau de visualisation Pour deux variables partitionnées X et Y à visualiser les visua lisations classiques telles les “heat map” sont disponibles il est ainsi possible de visualiser la fréquence des cellules la probabilité jointe la probabilité conditionnelle la densité jointe ou conditionnelle De plus l’outil propose deux critères dérivés de l’information mutuelle MI X Y voir Guigourès 2013 pour les définitions complètes qui fournissent des infor mations supplémentaires sur les interactions entre variables – Contribution à l’Information Mutuelle La CMI indique comment les cellules contri buent à l’information mutuelle MI X Y positivement rouge négativement bleu nullement blanc indique respectivement un excès d’interactions un déficit ou aucune interaction particulière comparée à ce qui est attendu en cas d’indépendance des va riables partitionnées – Contraste Le contraste est dédié aux grilles 3D ou plus Étant données deux variables partitionnées fixées X Y à visualiser et une partie Pi d’une troisième variable K ap pelée contexte le contraste met en lumière les cellules qui caractérisent Pi par rapport à toute les données Comme précédemment un contraste positif négatif ou nul est diffé rencié par les couleurs rouge bleue et blanche FIG 2 – Gauche Visualisation de la contribution à l’information mutuelle pour Y ear × Event Droite Panneau de sélection de la granularité de la grille 495 Analyse exploratoire par k Coclustering avec Khiops CoViz 3 Usage multiple des modèles en grille L’analyse exploratoire des interactions entre variables par le biais de la visualisation des modèles en grilles est adaptée à plusieurs types de données et domaines d’applications Bondu et al 2013 Nous présentons une liste non exhaustive des données d’applications typiques qui ont déjà été étudié via Khiops CoViz – Pour le cas à deux dimensions – Marketing Les clients avec la liste des produits achetés Client × Produit – Web Mining analyse de logs web pour identifier des comportements de navigation Cookie × PageWeb – Télécom Dimensionnement de réseau mobile par l’analyse des comptes rendus d’ap pels CDRs AntenneSource × AntenneCible e g analyse exploratoire des CDRs à l’échelle d’un pays Guigourès et al 2015 – Fouille de textes co clustering de textes Texte ×Mot – Pour le cas à 3 dimensions – Fouille de graphes Données multigraphes temporels NoeudSource × NoeudCible × Temps e g analyse des locations de vélos à Londres Guigourès et al 2012 – Clustering de données fonctionnelles séries temporelles numériques ou catégorielles Boullé 2012 Gay et al 2015 TimeSeriesId× Time×Value ou TimeSeriesId× Time× Event e g le clustering de courbes Boullé 2012 l’analyse de consommation électrique Boullé et al 2012 ou encore l’analyse de données bibliographiques Gay et al 2015 Une sélection de ces données d’application serviront à la démonstration de Khiops CoViz Par ailleurs une démonstration de l’outil sur les données du “Défi EGC 2016 2” sera également proposée 4 Conclusion Travaux futurs Nous présentons Khiops CoViz un outil basé sur les modèles en grilles pour identifier et visualiser les interactions intéressantes entre variables catégorielles et ou numériques Cepen dant pour de nombreuses applications l’analyste a souvent besoin de plus qu’une représenta tion matricielle des résultats e g de représentations graphiques pour les données de graphes des projections sur cartes pour les données géographiques des extensions de l’outil par des plug ins dédiés aux applications sont actuellement étudiées Références Bondu A M Boullé et D Gay 2013 Les modèles en grilles Principes évaluation algo rithmes et applications Tutorial given at EGC 2 egc asso fr Manifestations_dEGC 71 FR Defi_EGC_2016_ Communaute_EGC_quelle_histoire_et_quel_avenir 496 B Guerraz et al Boullé M 2011 Data grid models for preparation and modeling in supervised learning In I Guyon G Cawley G Dror et A Saffari Eds Hands On Pattern Recognition Chal lenges in Machine Learning volume 1 pp 99–130 Microtome Publishing Boullé M 2012 Functional data clustering via piecewise constant nonparametric density estimation Pattern Recognition 45 12 4389–4401 Boullé M R Guigourès et F Rossi 2012 Nonparametric hierarchical clustering of func tional data In EGC best of volume pp 15–35 Dhillon I S S Mallela et D S Modha 2003 Information theoretic co clustering In Proceedings of the Ninth ACM SIGKDD International Conference on Knowledge Discovery and Data Mining Washington DC USA August 24 27 2003 pp 89–98 Gay D R Guigourès M Boullé et F Clérot 2015 TESS Temporal event sequence summarization In IEEE International Conference on Data Science and Advanced Analytics DSAA’15 Paris France October 19 21 Guigourès R 2013 Utilisation des modèles de co clustering pour l’analyse exploratoire des données Ph D thesis Université Paris 1 Panthéon Sorbonne Guigourès R M Boullé et F Rossi 2012 A triclustering approach for time evolving graphs In 12th IEEE International Conference on Data Mining Workshops ICDM Work shops Brussels Belgium December 10 2012 pp 115–122 Guigourès R D Gay M Boullé F Clérot et F Rossi 2015 Country scale exploratory analysis of call detail records through the lens of data grid models In Machine Learning and Knowledge Discovery in Databases European Conference ECML PKDD 2015 Porto Portugal September 7 11 2015 Proceedings Part III pp 37–52 Kolda T G et J Sun 2008 Scalable tensor decompositions for multi aspect data mining In Proceedings of the 8th IEEE International Conference on Data Mining ICDM 2008 December 15 19 2008 Pisa Italy pp 363–372 Summary Identifying and visually analyzing interesting interactions between variables in large scale data sets through k coclustering is of high importance We present Khiops CoViz a tool for visual analysis of interesting relationships between two or more variables categorical and or numerical The visualization of k variables coclustering takes the form of a grid matrix whose dimensions are partitioned categorical variables are grouped into clusters and numerical vari ables are discretized The tool allows several kinds of visualization at various scales for grid representation of coclustering results by means of several criteria each of which providing different insights into the data 497 