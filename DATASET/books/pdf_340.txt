 Intégration de plusieurs formes de représentations spatiales dans un modèle de simulation Mathieu Castets Pascal Degenne Danny Lo Seen Pascal Poncelet CIRAD UMR TETIS Territoire Environnement Télédétection et Information Spatiale {Mathieu Castets Pascal Degenne Danny Lo Seen} teledetection fr LIRMM Laboratoire d’Informatique de Robotique et de Microélectronique de Montpellier Pascal Poncelet lirmm fr 1 Introduction L’étude de l’évolution d’un système complexe spatialisé devient critique dans de nombreux domaines Par exemple pour comprendre l’influence de l’homme sur le ruissellement dans les entités spatiales et selon leurs types d’occupation du sol culture urbanisation habitation de manière à permettre aux décideurs d’anticiper les politiques d’urbanisme et d’agriculture Dans cette démonstration nous nous intéressons plus particulièrement à la modélisation des com pétences de l’expert pour simuler les dynamiques spatiales de systèmes paysagers complexes La représentation de l’espace nécessite de pouvoir manipuler différentes entités géométriques ainsi que les interactions qui peuvent exister entre ces entités Actuellement la plupart des ap proches nécessite de sélectionner au préalable le format de discrétisation de l’espace i le format vectoriel où les entités sont représentées par leur forme géométrique ou ii le décou page de l’espace en éléments réguliers raster Nous proposons dans cette démonstration une extension d’un langage de modélisation appelé Ocelet qui utilise des graphes d’interaction afin de décrire les dynamiques spatiales Nous montrons dans la section 2 qu’il est possible via Ocelet de combiner différentes représentations spatiales dans les processus de modélisation Nous décrivons en section 3 un cas réel d’application sur un modèle de ruissellement en milieu insulaire tropical 2 Présentation d’Ocelet Ocelet est un langage de programmation métier pour la modélisation de dynamiques spatiales et paysagères Degenne 2012 Les concepts clés du langage ont été définis pour permettre aux modélisateurs de décrire un paysage à l’aide d’entités spatiales en interaction dynamique Les relations entre entités sont exprimées à l’aide du concept de graphe d’inter action où les nœuds sont les entités et les arcs entre entités portent les fonctions traduisant la nature des interactions entre ces entités Le système évolue dans le temps suite aux appels à des fonctions d’interaction à partir du scénario Un modèle Ocelet contient ainsi plusieurs 597 Modéliser avec plusieurs formats de données spatiales graphes d’interaction que l’on peut comparer à un réseau sémantique qui représente la partie statique des connaissances sur un système Curé et al 2010 Mais avec Ocelet on fait aussi porter pour chaque type d’arc une sémantique opérationnelle décrivant les changements d’état des entités résultant de leur interaction Cette sémantique opérationnelle décrit les aspects dy namiques du système Une génération de code à partir de ces descriptions permet d’obtenir un programme exécutable pour simuler l’évolution du système Degenne et al 2010 Ocelet permet déjà de simuler les dynamiques paysagères en utilisant des géométries format vecto riel Cependant les géométries ne sont pas appropriées pour représenter un champ continu de valeurs telle qu’une hétérogénéité à l’intérieur de la géométrie qui peut être utile pour modéli ser certains processus Ce constat nous a amené à doter Ocelet de la capacité à manipuler dans un même modèle des entités ayant des représentations duales vecteur et raster Cette dualité permet d’utiliser la forme raster soit en tant que grille de cellules soit en tant que réseau d’en tités en interaction les unes avec les autres On peut ainsi s’appuyer sur les concepts de base du langage pour exprimer les dynamiques à différentes échelles en choisissant la représentation la plus appropriée à chaque niveau 3 Cas d’application Nous avons expérimenté l’usage d’Ocelet ainsi étendu avec la construction d’un modèle de ruissellement sur une zone située sur le territoire de la côte ouest de l’ile de La Réunion TCO Le modèle doit permettre de simuler le ruissellement en tenant compte de l’artificialisation des sols Ce cas d’expérimentation est en lien avec un modèle hydrologique développé dans le cadre de l’ANR Descartes Augusseau et al 2013 Le modèle intègre ici la connaissance du processus de ruissellement à deux échelles l’une mettant en avant les flux d’eau entre entités parcelles et l’autre à une échelle plus fine prenant en compte l’hétérogénéité à l’intérieur d’une parcelle Nous avons défini pour ce modèle plusieurs types d’entités l’habitation la parcelle la ravine et la route Nous construisons un graphe basé sur le voisinage spatial entre entités de façon à faire porter par ce graphe les écoulements qui peuvent avoir lieu entre elles Les arcs de ce graphe indiquent qu’il peut y avoir un flux d’eau d’une entité vers une autre Chacun de ces arcs porte une pondération relative à la proportion du flux sortant d’une entité dans cette direction Pour calculer ces pondérations nous avons procédé de la façon suivante le flux se propage entre entités voisines en suivant le sens de la pente Cette pente est calculée avec la valeur moyenne des données raster du modèle numérique de terrain sur la zone couverte par chaque entité Nous obtenons ainsi le graphe d’interaction Figure 1a Pour traduire le fait que l’artificialisation impacte les flux d’eau entre les entités nous avons calculé un flux à l’intérieur de chaque entité en se basant sur le parcours des pixels des indices d’artificialisation pour chaque entité L’intensité du flux entre les entités est ainsi pondérée par les flux calculés à l’intérieur de celles ci Figure 1b La dynamique du modèle est exprimée selon des pas de temps discrets A chaque pas de temps les entités vont échanger les quantités d’eau selon la méthode décrite précédemment Pour mettre en avant le changement de l’artificialisation nous intégrons une nouvelle image contenant les indices d’artificialisation par exemple une image tous les n pas de temps A chaque intégration d’une nouvelle image nous recalculons les pondérations des flux entre entités mais seulement pour celles des entités dont on a pu détecter un changement significatif du niveau de l’artificialisation La sortie du modèle peut être visualisée sous Google Earth Les parcelles sont reliées entre elles par des arêtes orientées 598 M Castets et al FIG 1 – Graphe d’entités spatiales les nœuds en rouge sont les entités les arêtes en noir sont connectées entre entités voisines et orientées selon la pente moyenne de ces entités A droite Parcours de pixels à l’intérieur d’une géométrie pour une entité le flux entre pixels voisins est dirigé selon la pente des pixels et pondéré selon l’indice d’artificialisation suivant les flux d’eau détectés lors de la simulation Pour mettre en avant la quantité d’eau passant à travers ces flux la quantité d’eau est représentée par un volume qui varie au cours du temps La Figure 2 illustre les sorties du modèle avec un pas de temps journalier sur trois mois en simulant aléatoirement des épisodes pluvieux FIG 2 – Sorties du modèle au milieu d’un épisode pluvieux et trois jours après l’épisode pluvieux 4 Conclusion Nous avons proposé une extension du langage de modélisation Ocelet qui rend possible la manipulation conjointe de représentations vecteur ou raster des données géographiques dans les modèles de dynamiques spatiales et paysagères Ces développements ont impliqué l’inté gration d’un nouveau concept de représentation duale vecteur ou raster d’une même entité géographique Nous avons expérimenté cette extension du langage sur un modèle de ruisselle ment en travaillant en mode vecteur à une échelle parcellaire et en mode raster à une échelle plus fine Ces travaux ouvrent la voie à une meilleure intégration vecteur raster dans les tra vaux de modélisation de dynamiques spatiales et paysagères Nous envisageons d’expérimen ter plus avant les applications de forçage de modèle à l’aide de séries temporelles d’images de télédétection 599 Modéliser avec plusieurs formats de données spatiales 5 Remerciements Cette recherche est en partie financée par l’Agence Nationale de la Recherche à travers le projet DESCARTES ANR 11 AGRO 002 01 Descartes projet descartes fr Ce travail a aussi bénéficié d’une aide de l’Etat gérée par l’Agence Nationale de la Recherche au titre du programme Investissements d’avenir pour le projet GEOSUD portant la référence ANR 10 EQPX 20 Références Augusseau X F Aulanier A Bégué J Bourgoin D David G David P Degenne M Far gette E Lagabrielle G Lajoie J Laurent V Lebourgeois G Lestrelin D Lo Seen M Loi reau E Tillard P Todoroff J Tonneau et F Vitry 2013 Simulation cartographique au service de l’innovation collective géoprospective territoriale à l’île de la réunion In Spatial Analysis and GEOmatics conference SAGEO Brest FR Curé O R Forax P Degenne D Parigot et A Ait Lahcen 2010 Ocelet An ontology based domain specific language to model complex domains In The First International Conference on Models and Ontology based Design of Protocols Architectures and Services MOPAS June 13 19 Athens Greece Degenne P 2012 Une approche générique de la modélisation spatiale et temporelle ap plication à la modélisation des paysages Ph D thesis Université Paris Est Degenne P A Ait Lahcen O Curé R Forax D Parigot et D Lo Seen 2010 Modelling the environment using graphs with behaviour do you speak ocelet In International Congress on Environmental Modelling and Software July 5 8 Ottawa Ontario Canada Summary In this paper we focus on modeling expert knowledge for simulating complex landscape spatial dynamics One modeling tool to do that is the Ocelet modeling language that uses interaction graphs to describe spatial dynamics Most present approaches impose an a priori choice of spatial format between i a vector format representing the shapes of the entities or ii a gridding of space into regular elements raster In this paper we show how Ocelet was extended to support the interaction semantics between these two spatial formats vector and raster As case study we present a runoff model in a tropical insular environment 600 