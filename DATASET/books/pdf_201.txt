 Relaxation des Requêtes Skyline Une Approche Centrée Utilisateur Djamal Belkasmi Allel Hadjali Hamid Azzoune DIF FS UMBB Boumerdes Algérie djamal belkasmi ensma fr LIAS ENSMA Poitiers France allel hadjali ensma fr LRIA USTHB Alger Algérie azzoune yahoo fr Résumé Les requêtes skyline constituent un outil puissant pour l’analyse de données multidimensionnelles et la décision multicritère En pratique le calcul du skyline peut conduire à deux scénarios soit i un nombre important d’objets sont retournés soit ii un nombre réduit d’objets sont retournés ce qui peut être insuffisant pour la prise de décisions Dans cet article nous abordons le second problème et proposons une approche permettant de le traiter L’idée consiste à rendre le skyline plus permissive en lui ajoutant les objets non skyline les plus préférés L’approche s’appuie sur une nouvelle relation de dominance floue ap pelée Much Preferred Un algorithme efficace pour calculer le skyline relaxé est proposé Une série d’expériences sont menées pour démontrer la pertinence de l’approche et la performance de l’algorithme proposé 1 Introduction Les requêtes skyline Börzsönyi et al 2001 constituent un outil puissant d’analyse de don nées en vue de prendre des décisions intelligentes face à des données à grande échelle Elles permettent d’extraire l’ensemble des points les plus intéressants quand différents critères sou vent conflictuels sont pris en compte Elles s’appuient sur le principe de dominance de Pareto Soit D un ensemble de points à d dimensions une requête skyline calcule l’ensemble des points non dominés dans D Un point p domine au sens de Pareto un point q si et seulement si p est meilleur ou égal à q sur toutes les dimensions et strictement meilleur que q sur au moins une dimension Par conséquent les points skyline sont incomparables Plusieurs études ont été menées pour développer des algorithmes efficaces et introduire des variantes pour les requêtes skyline Chomicki et al 2013 Yiu et Mamoulis 2007 Khalefa et al 2008 Pei et al 2007 Hadjali et al 2010 Toutefois l’interrogation d’un ensemble de données multi dimensionnelles à l’aide de l’opérateur skyline peut conduire à deux scénarios possibles soit i un nombre important de réponses sont retournées ce qui est généralement peu informatif et 357 Relaxation des Requêtes Skyline Une Approche Centrée Utilisateur n’apporte donc pas assez d’informations à l’utilisateur soit ii un nombre réduit de réponses sont retournées ce qui peut être insuffisant du point de vue utilisateur Afin de résoudre ces deux problèmes un certain nombre de travaux ont été proposés afin de mettre en place des méthodes permettant de raffiner le skyline et donc de réduire sa taille cas i Abbaci et al 2013 Chan et al 2006a b Endres et Kießling 2011 Hadjali et al 2011 Hüllermeier et al 2008 Lin et al 2007 Papadias et al 2003 Relativement peu de travaux existent afin de relaxer le skyline dans le but d’augmenter sa taille cas ii Hadjali et al 2011 Gon calves et Tineo 2007 Dans Goncalves et Tineo 2007 les auteurs proposent une relation de dominance flexible utilisant des opérateurs flous de comparaison Ce type de dominance permet de faire augmenter le skyline avec des points qui sont seulement faiblement dominés par tout autre point Dans Hadjali et al 2011 quelques idées de relaxation ont aussi été pro posées Dans cet article inspirés par l’étude préliminaire de Hadjali et al 2011 nous abordons d’une manière détaillée le problème de la relaxation du skyline Plus précisément nous développons une approche efficace appeléeMP2R 1 pour la relaxation du skyline L’approche est fondée sur une nouvelle dominance graduelle Much Preferred MP qui signifie fortement préféré à qui conduit à une dominance plus exigeante entre les points de D Dans ce contexte un point appartient toujours au skyline tant qu’il n’est pas fortement dominé au sens de la relation MP par un autre point skyline Ainsi le nombre des points incomparables augmente et par consé quent la taille de la version relaxée du skyline notée Srelax augmente aussi Il est à noter que ces points ne faisaient pas partie du skyline car ils étaient écartés par la relation de dominance de Pareto Par ailleurs le calcul du skyline relaxé Srelax est explicitement formalisé via un algorithme optimisé et performant En résumé les contributions essentielles de cet article sont – Une nouvelle variante de la relation de dominance floue basée sur la relation MP est introduite Les propriétés sémantiques du skyline relaxé Srelax sont aussi examinées – Un algorithme efficace pour le calcul de Srelax est développé et implémenté – Une série d’études expérimentales pour étudier et analyser la pertinence et l’efficacité de Srelax sont décrites et analysées L’article est structuré comme suit La section 2 introduit les requêtes skyline Dans la section 3 nous discutons la nouvelle approche pour la relaxation du skyline basée sur la relation de dominance MP et nous présentons l’algorithme de calcul de Srelax La section 4 est dédiée à l’étude expérimentale Enfin la section 5 conclut l’article et présente les perspectives et travaux futurs 2 Les requêtes skyline Les requêtes skyline Börzsönyi et al 2001 sont un exemple spécifique de requêtes à préférences Elles s’appuient sur le principe de dominance de Pareto défini comme suit Définition 1 Soit D un ensemble de points à d dimensions et ui et uj deux points de D On dit que ui domine au sens de Pareto uj noté ui � uj ssi ui est meilleur ou égal à uj sur toutes les dimensions et strictement meilleur que uj sur au moins une dimension On a ui � uj ⇔ ∀k ∈ {1 d} ui[k] ≥ uj [k] ∧ ∃l ∈ {1 d} ui[l] > uj [l] 1 1 Much PreferredRelation forRelaxation 358 D Belkasmi A Hadjali H Azzoune où chaque tuple ui = ui[1] ui[2] ui[3] ui[d] avec ui[k] représente la valeur du ui pour la dimension k Par souci de simplicité et sans perte de généralité nous considérons que plus la valeur de ui[k] est grande meilleure elle est Définition 2 Le skyline deD noté S est l’ensemble des points qui ne sont dominés par aucun autre point de D u ∈ S ⇔ u′ ∈ D u′ � u 2 Plus de détails sur le calcul du skyline sont donnés dans Belkasmi et al 2015 3 MP2R Une approche de relaxation du skyline Soit la relation R A1 A2 Ad définie dans un espace à d dimensions D = D1 D2 Dd où Di est le domaine de l’attribut Ai On suppose que chaque domaine Di est équipé d’une relation d’ordre total Soit U = u1 u2 un un ensemble de n tuples de R Soit aussi S le skyline de U et Srelax la version relaxée de S obtenue par l’approche MP2R Comme mentionné en introduction MP2R s’appuie sur une nouvelle dominance graduelle permettant de récupérer les points les plus intéressants parmi ceux écartés par le skyline S Cette dominance utilise la relation floue "Much Preferred MP " afin de comparer deux points u et u′ Ainsi u appartient à Srelax s’il n’existe pas de point u′ ∈ U tel que u′ est Much Preferred à u noté MP u′ u sur toutes les dimensions du skyline Formellement on écrit u ∈ Srelax ⇔ u′ ∈ U ∀i ∈ {1 d} MPi u′i ui 3 où MPi est la relation Much Preferred définie sur le domaine Di de l’attributAi MPi u′i ui exprime à quel point la valeur u′i est Much Preferred à la valeur ui La nature graduelle de la relation MP permet d’associer à chaque élément u de Srelax un degré ∈ [0 1] Ce degré exprime la mesure avec laquelle u appartient à Srelax En utilisant les concepts des ensembles flous 2 la formule 3 s’écrit µSrelax u = 1−max u′∈U min i µMPi u ′ i ui = min u′∈U max i 1− µMPi u′i ui 4 où la sémantique de MPi définie sur Di est donnée par la formule 5 voir aussi Fig 1 En terme de fonction d’appartenance trapézoïdal MPi est représentée par γi1 γi2 ∞ ∞ et notée MP γi1 γi2 i Il est facile de vérifier que MP 0 0 i correspond à la relation de préférence classique exprimée par la relation d’ordre "plus grand que" µ MP γi1 γi2 i u′i ui =    0 si u′i − ui ≤ γi1 1 si u′i − ui ≥ γi2 u′i−ui −γi1 γi2−γi1 sinon 5 Soit γ = γ11 γ12 · · · γd1 γd2 un vecteur de paramètres où MP γi1 γi2 i représente la relation MPi définie sur l’attribut Ai et S γ relax représente le skyline relaxé en utilisant les pa ramètres du vecteur γ Le skyline classique S correspond à S 0 relax où 0 = 0 0 · · · 0 0 Définition 3 On dit que MP γi1 γi2 i est plus forte que MP γ′i1 γ ′ i2 i ssi γi1 γi2 ≥ γ′i1 γ′i2 2 où le ∀ est modélisé par le min et le ∃ par le max 359 Relaxation des Requêtes Skyline Une Approche Centrée Utilisateur FIG 1 – La fonction d’appartenance µ MP γi1 γi2 i i e γi1 ≥ γ′i1 ∧ γi2 ≥ γ′i2 Définition 4 Soit γ et γ′ deux vecteurs de paramètres γ ≥ γ′ ssi ∀i ∈ {1 · · · d} γi1 γi2 ≥ γ′i1 γ ′ i2 Proposition 1 Soit γ et γ′ deux vecteurs de paramètres la propriété suivant est vérifiée γ′ ≤ γ ⇒ S γ ′ relax ⊆ S γ relax La preuve de la proposition peut être consultée dans Belkasmi et al 2015 Lemme 1 Soit γ = 0 γ12 · · · 0 γd2 et γ′ = γ′11 γ′12 · · · γ′d1 γ′d2 on a S 0 relax ⊆ S γ relax ⊆ S γ′ relax Le calcul de Srelax consiste à appliquer notre algorithme de relaxation du skyline appeléCRS Computing Relaxed Skyline en utilisant un vecteur de paramètres γ fournis par l’utilisateur voir algorithme 1 Algorithme 1 CRS Input A set of tuples U Skyline S γ a vector of parameters Output A relaxed skyline Srelax 1 begin 2 Srelax = S 3 for i = 1 to n do 4 if ui ∈ S then 5 for j = 1 to n do 6 for k = 1 to d do 7 evaluate µMPk ui uj 8 compute mink µMPk 9 compute maxj mink µMPk µSrelax ui = 1−maxj mink µMPk 10 if µSrelax ui > 0 then 11 Srelax = Srelax ∪ {ui} 12 rank Srelax in decreasing order w r t µSrelax ui 13 return Srelax 360 D Belkasmi A Hadjali H Azzoune 4 Etude expérimentale Cette section présente l’étude expérimentale réalisée Elle permet de valider l’efficacité et la pertinence de l’approche MP2R pour relaxer le skyline Nous présentons l’influence de la relation de dominance "Much Preferred" MP γ1 γ2 sur la taille du skyline relaxé Les scénarios suivants ont été réalisés Scénario 1 Dans ce scénario nous fixons la valeur de γi1 et varions celle de γi2 L’analyse de ce scénario est discutée en détails dans Belkasmi et al 2015 Scénario 2 Dans ce scénario nous varions la valeur des deux seuils Le résultat obtenu est illustré par la Figure 2 L’analyse de ces courbes montre qu’on ne peut avoir de points relaxés avec un degré égale à 1 si γi1 = 0 De plus la fonction de relaxation devient plus permissive lorsque les seuils s’approchent de 1 Finalement nous constatons au travers de cette étude expérimentale que le choix des valeurs de γ = γi1 γi2 est très important dans le processus de relaxation du skyline FIG 2 – Varier γi1 et γi2 5 Conclusion Dans cet article nous avons abordé le problème de la relaxation du skyline dont la taille est assez réduite Une approche de relaxation appeléeMP2R est proposée Le concept clé de cette approche est une relation spécifique notée Much Preferred dont la sémantique est définie par l’utilisateur Un nouvel algorithme appelé CRS pour le calcul du skyline relaxé est développé L’étude expérimentale réalisée a montré d’une part que l’approcheMP2R est une très bonne alternative pour résoudre le problème de la relaxation du skyline et d’autre part que le coût de calcul de Srelax est assez raisonnable En perspective nous comptons améliorer le temps de calcul de Srelax par l’utilisation d’indexes multidimensionnels avancés Références Abbaci K A Hadjali L Lietard et D Rocacher 2013 A linguistic quantifier based ap proach for skyline refinement In IFSA NAFIPS pp 321–326 361 Relaxation des Requêtes Skyline Une Approche Centrée Utilisateur Belkasmi D A HadjAli et H Azzoune 2015 Relaxation des requêtes Une approche centrée utilisateur Technical Report 103 LIAS ENSMA " lias lab fr publications 20385 egc2016%20version%20longue pdf" Börzsönyi S D Kossmann et K Stocker 2001 The skyline operator In ICDE pp 421– 430 Chan C Y H V Jagadish K Tan A K H Tung et Z Zhang 2006a Finding k dominant skylines in high dimensional space In ACM SIGMOD pp 503–514 Chan C Y H V Jagadish K Tan A K H Tung et Z Zhang 2006b On high dimensional skylines In EDBT pp 478–495 Chomicki J P Ciaccia et N Meneghetti 2013 Skyline queries front and back SIGMOD Record 6–18 Endres M et W Kießling 2011 Skyline snippets In FQAS pp 246–257 Goncalves M et L Tineo 2007 Fuzzy dominance skyline queries In DEXA pp 469–478 Hadjali A O Pivert et H Prade 2010 Possibilistic contextual skylines with incomplete preferences In SoCPaR Cergy Pontoise Paris France pp 57–62 Hadjali A O Pivert et H Prade 2011 On different types of fuzzy skylines In ISMIS pp 581–591 Hüllermeier E I Vladimirskiy B Prados Suárez et E Stauch 2008 Supporting case based retrieval by similarity skylines Basic concepts and extensions In ECCBR pp 240–254 Khalefa M E M F Mokbel et J J Levandoski 2008 Skyline query processing for incom plete data In IEEE ICDE pp 556–565 Lin X Y Yuan Q Zhang et Y Zhang 2007 Selecting stars The k most representative skyline operator In ICDE pp 86–95 Papadias D Y Tao G Fu et B Seeger 2003 An optimal and progressive algorithm for skyline queries In ACM SIGMOD pp 467–478 Pei J B Jiang X Lin et Y Yuan 2007 Probabilistic skylines on uncertain data In VLDB pp 15–26 Yiu M L et N Mamoulis 2007 Efficient processing of top k dominating queries on multi dimensional data In VLDB pp 483–494 Summary Skyline queries have gained much attention in the last decade and are proved to be valuable for multi criteria decision making When computing the skyline two scenarios may occur ei ther i a huge number of skyline or ii a small number of returned objects which could be insufficient for the user needs In this paper we tackle the second problem and propose an approach to deal with it and to make the skyline more permissive A new fuzzy variant of dominance relationship is then introduced Furthermore an efficient algorithm to compute the relaxed skyline is proposed Extensive experiments are conducted to demonstrate the effective ness of our approach and the performance of the proposed algorithm 362 