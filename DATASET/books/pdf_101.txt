06 RNTI E33Extraction et Inférence de Connaissances à partir d’Assemblages Mécaniques Définis par une Représentation CAO 3D Harold Vilmart1 Jean Claude Léon1 Federico Ulliana2 prenom nom inria fr 1 inria IMAGINE Université Grenoble Alpes Inria 655 av de l’Europe 38330 Montbonnot Saint Martin 2 inria GRAPHIK Université de Montpellier LIRMM 860 rue de St Priest 34095 Montpellier cedex 5 Résumé L’extraction de connaissances à partir de modèles géométriques 3D et les raisonnements associés constituent un enjeu important pour permettre le développement d’ontologies capables de décrire fonctionnellement des produits manufacturés Dans ce contexte nous nous appuyons sur la logique déductive apportée par une base de connaissances étroitement couplée à un modeleur géo métrique 3D Les raisonnements faisant appel au concept de forme 3D restent difficiles à formaliser et les informations géométriques difficiles à extraire Nous proposons une formalisation de propriétés telles que ’à la même forme que’ ’est de la même famille que’ pour montrer comment l’extraction d’informations géométriques 3D est reliée à ces propriétés Par la suite une formalisation de propriétés telles que ’est un empilage’ ’est un regroupement’ est introduite pour montrer les raisonnements qui contribuent à la structuration d’assemblages 3D Ces propriétés sont illustrées à l’aide d’un exemple de pompe hydraulique 1 Introduction et contexte Les produits industriels et les systèmes mécaniques en particulier sont communément décrits sous la forme d’assemblages Dans le milieu industriel on utilise de plus en plus des bases de connaissances qui structurent les informations associées à la phase de fabrication ou de conception des produits [Rychtyckyj 2006 Kim et al 2008 ] Ces dernières couplent une base de données “produit” avec une ontologie modélisant des règles “métier” propres aux assemblages permettant ainsi d’associer des métadonnées aux composants définissant i leur type vis écrou ainsi que ii leur fonction structurelle support guidage dans l’assemblage La sémantique des métadonnées permet d’améliorer nettement l’accès aux données partagées ainsi que leur cohérence au sein d’une entreprise et ouvre de nouvelles possibilités notamment pour la conception collaborative et distribuée de nouveaux produits dans l’entreprise [Kim et al 2006 ] Dans le contexte industriel l’utilisation des ontologies est essentiellement réservée à la phase de conception Les approches de KBE Knowledge Based Engineering assistent des techniciens et ingénieurs lors de la génération de nouveaux modèles 3D complexes [La Rocca 21 Extraction et Inférence de Connaissances à partir d’Assemblages Mécaniques 3D 2012 ] Ces modèles sont générés d’une part à partir de collections d’objets simples et de leurs métadonnées métier liées à une ontologie et d’autre part à des données géométriques L’originalité des approches KBE réside dans le fait que des modèles 3D sont liés à des inférences ontologiques pendant toute la phase de développement du produit L’avantage pour l’entreprise est la réduction du temps de conception grâce à une réutilisation cohérente des composantes développées [Rychtyckyj 2006 Kim et al 2008 ] Les résultats obtenus par les approches de KBE cohérents du point de vue sémantique peuvent toutefois présenter des incohérences au niveau géométrique En effet l’enrichisse ment de la base de connaissances avec des informations de type et de fonction nécessaire pour chaque composant de l’assemblage reste le plus souvent une activité manuelle Cette tâche critique pour les phases successives de conception impose à l’utilisateur l’entrée d’un grand nombre d’informations qui peuvent engendrer des incohérences difficiles à détecter [Iyer et al 2005 Chandrasegaran et al 2013 ] De plus ce grand nombre d’informations réduit sou vent les approches de KBE à l’amélioration d’opérations routinières afin de ne pas imposer d’augmentation du temps de développement de produit [La Rocca 2012 ] La présente contribution introduit une nouvelle application du raisonnement dans le do maine industriel comportant une méthode automatique d’extraction de connaissances à partir de modèles 3D Cette méthode permet d’optimiser la construction des bases de connaissances et établit un lien fort avec les modèles 3D garant de la cohérence entre les connaissances et les modèles 3D Elle peut donc servir de support aux systèmes de KBE étendre l’utilisation du KBE à des tâches non routinières et des phases de conception plus complexes Elle combine i l’analyse géométrique des assemblages avec ii le raisonnement logique sur leurs propriétés intrinsèques À la différence des approches existantes la méthode présentée permet d’établir automatiquement un lien étroit entre les modèles 3D des composants d’un assemblage et – le type d’objet qu’ils représentent par exemple vis écrou roulement à billes carter de transmission pompe centrifuge exprimé par des concepts de l’ontologie – la fonction ou rôle de l’objet dans le système par exemple liaison encastrement dé montable guidage en rotation étanchéité exprimé par des relations de l’ontologie Cette méthode couplée avec une plateforme de conception d’assemblages permet aussi la visualisation en 3D de requêtes ontologiques complexes portant sur le type et le rôle des composants à l’intérieur de ceux ci [Palombi et al 2014 Shahwan et al 2013 ] Nous considérons l’analyse de systèmes mécaniques tels que représentés dans le domaine de la CAO Conception Assistée par Ordinateur contenant des composants représentés par des solides [Mäntylä 1988 ] Les données d’entrée sont donc constituées par la représentation CAO 3D d’un assemblage contenant 1 une description géométrique des composants et 2 une décomposition structurelle d’un produit 1 À la fin du traitement les faits extraits capturant des propriétés intrinsèques de type et fonction du modèle alimentent la base de connaissances et relient sémantique et géométrie L’interaction entre l’analyse géométrique des assemblages 3D et le raisonnement logique permettent d’améliorer l’extraction de connaissances et l’efficacité des inférences permettant de les classifier En premier lieu cette démarche permet de regrouper par une analyse géomé trique tous les composants de même forme de l’assemblage possédant des contacts de même 1 Les noms des composants sont disponibles mais ne constituent pas des informations robustes permettant de consti tuer leur identifiant à cause d’un manque de standardisation Cela n’est pas le cas dans d’autres domaines d’application des ontologies tels que la génétique ou l’anatomie [Palombi et al 2014 ] 22 H Vilmart et al " FIG 1 – a Localisation d’un empilage de composants à l’intérieur de la pompe et détail de cet em pilage constitué de deux solides les rondelles Belleville empilées tête bêche de même forme en contact b Visualisation du résultat d’une requête ontologique utilisant la propriété aLaMêmeFormeQue sur le modèle 3D de la pompe centrifuge Chaque couleur indique un ensemble de solides identiques ex jaune goujon rouge écrou Regroupements de solides participants à une même fonction 1 solides rouges et jaunes 2 solides marrons oranges et bleu vert FIG 2 – Illustration des axes de symétrie des solides S3 S2 et S1 permettant d’instancier les propriétés aTroisPlansOrthogonaux S3 aDeuxPlansOrthogonaux S2 et unPlanSymétrie S1 nature avec leurs voisins Après déduction de la fonction d’un seul d’entre eux celle ci peut être propagée à tout le groupe Considérons par exemple la notion “d’empilage simple” Un empilage simple en méca nique est défini par “un couple de solides de même forme et partageant un contact commun” L’analyse des empilages est découpée en deux phases Dans la première phase l’analyse géo métrique permet de détecter les solides de même forme ainsi que toutes les zones de contact désignées par le terme “interfaces” entre les solides présents dans l’assemblage 3D Ces informations sont intrinsèques à l’assemblage 3D Lors de la deuxième phase au niveau de l’ontologie la règle d’inférence suivante est appliquée ∀S1 S2 I Solide S1 Solide S2 Interface I aPourInterface S1 I aPourInterface S2 I aLaMêmeFormeQue S1 S2 → EmpilageSimple S1 S2 La figure 1 illustre la visualisation du résultat de l’interrogation de l’ensemble des empilages de l’assemblage présents dans la base de connaissances Le résultat est formé par deux ron delles Belleville en rouge empilées tête bêche Les empilages sont utilisés en mécanique dans des liaisons élastiques Ceci indique une des propriétés permettant d’inférer la fonction des so lides d’une part et une propriété concernant la raideur relative de ces derniers par rapport aux composants sur lesquels s’appuie l’empilage d’autre part La règle suivante exprime une deuxième contrainte métier indiquant que tout solide ayant comme interface un contact plan joue le rôle d’une fonction d’appui plan dans l’assemblage ∀S I Solide S ContactPlan I aPourInterface S I → ∃F aPourFonction S F AppuiPlan F 23 Extraction et Inférence de Connaissances à partir d’Assemblages Mécaniques 3D Les exemples montrent l’intérêt d’une approche combinant analyse géométrique 3D et raison nement permettant d’établir un lien étroit avec les fonctions des composants représentés par des solides La présente contribution a été implémentée en C++ et intégrée dans l’environ nement CAO de SALOME 2 un logiciel CAO développé par OpenCascade en collaboration avec EDF et le CEA Le serveur de triplets RDF Jena 3 a permis l’accès distant aux données L’éditeur d’ontologie CoGui 4 a permis de faire le lien entre données et connaissances Par la suite la section 2 illustre l’extraction de connaissances à partir de la géométrie 3D de composants et la section 3 présente une partie du raisonnement logique à partir des données et des connaissances La section 4 décrit l’architecture de l’environnement utilisé La section 5 analyse les travaux antérieurs et la section 6 conclut l’article 2 Extraction de Faits par Analyse Géométrique L’analyse géométrique d’assemblages 3D s’effectue à partir du fichier contenant la repré sentation CAO 3D de l’assemblage et donc de chaque composant 5 Ce fichier contient un en semble de solides et une décomposition arborescente de la structure de l’assemblage [Mäntylä 1988 ] Toutefois cette arborescence ne constitue pas une représentation intrinsèque de l’as semblage L’analyse s’appuie sur l’environnement d’un modeleur CAO 3D afin de disposer d’un certain nombre d’opérateurs géométriques permettant l’extraction de propriétés intrin sèques du modèle L’architecture mise en place rend active la géométrie 3D de l’assemblage à travers l’extraction de propriétés géométriques de forme de topologie propres à un com posant ou un groupe de composants qui contribueront ainsi au raisonnement qualitatif spatial pour la déduction d’informations structurelles propres à cet assemblage La caractérisation de formes selon des approches qualitatives reste un problème délicat [Cohn et Hazarika 2001 Chen et al 2013 ] Nous étudions une caractérisation propre aux formes 3D de pièces mécaniques telles que décrites en CAO Les objets sont des volumes c’est à dire des solides conformes à la représentation dite B Rep Boundary Representation [Mäntylä 1988 ] Actuellement les traitements effectués portent sur les surfaces canoniques c’est à dire plans cylindres cônes sphères tores décrivant la frontière de chaque solide d’un assemblage qui permettent la description complète d’un grand nombre de composants d’assemblages mécaniques Les surfaces gauches de type NURBS Non Uniform Rational B Spline définissent souvent des formes complexes qui ne comportent pas de propriétés de symétrie sur lesquelles sont basées l’extraction de connaissances L’objectif de l’analyse géométrique est d’extraire des faits alimentant la base de connais sances et permettant en particulier d’instancier les propriétés de forme symétrie et de struc ture de l’assemblage présentées dans cette section notamment aLaMêmeFormeQue S1 S2 estAxiSymétrique S aPourInterface S I Forme La propriété aLaMêmeFormeQue S1 S2 exprime le fait que deux solides sont exac tement identiques à leur position spatiale près Extraire cette propriété demande un traitement géométrique complexe afin d’être générique et précis [Mitra et al 2012 ] La comparaison de deux solides est réalisée en confrontant leurs frontières respectives qui sont décrites à l’aide d’hypergraphes [Li et al 2014 ] et de leurs repères intinsèques générés en fonction de leurs propriétés de symétrie globales 2 salome platform org 3 jena apache org 4 lirmm fr cogui 5 Plus précisé ment ce sont des fichiers au standard STEP défini selon la norme [ISO] 24 H Vilmart et al " FIG 3 – a Détection de familles de solides couleurs différentes b Interfaces géométriques entre solides interférences entre solides en rouge contacts plans en vert contacts cylindriques en bleu contact toriques en cyan Dans l’introduction la figure 1 b illustre une requête de recherche de composants de formes identiques Lors de l’affichage 3D par convention de l’interface utilisateur en CAO les solides répondant à une requête sont affichés en couleur Symétrie Les propriétés de symétries globales des solides constituent également des proprié tés élémentaires exploitées dans l’ontologie La propriété estAxiSymétrique S indique que le solide possède un seul axe de symétrie C’est le cas des surfaces de révolution comme par exemple un cylindre Les dix classes de cette propriété sont considérées pendant l’analyse dont la figure 2 illustre trois classes Famille La relation estDeLaMêmeFamilleQue S1 S2 repose aussi sur les catégories de symétries globales de la figure 2 Sans entrer dans le détail de sa définition une famille est engendrée par “tous les solides dont la frontière décrite par des hypergraphes est la même” Cela exprime le fait que les solides possèdent la même topologie et une forme semblable mais diffèrent par leurs dimensions Un résultat de requêtes de détermination de familles de solides dans un assemblage est illustré à la figure 3 Module Unmodule d’assemblage est un concept caractérisant un ensemble de solides avec des “positions relatives quelconques mais qui apparaissent au moins deux fois dans l’assemblage” Ce concept complexe généralise aLaMêmeFormeQue S1 S2 pour un ensemble de solides et servira de base à la définition du concept de sous ensemble Les propriétés de symétries sont à la base de leur extraction Interface Les interactions entre les solides d’un assemblage 3D sont exprimées par des in terfaces géométriques La propriété aPourInterface S I indique la relation entre un so lide et une de ses interfaces A titre d’exemple on peut citer le filetage entre une vis et un écrou engendrant une interférence de forme tubulaire bornée par deux surfaces cylindriques co axiales Les types d’interfaces instanciés sont Interférence X ContactPlan X ContactLinéique X ContactCylindrique X etc La figure 3 illustre un exemple d’interfaces géométriques entre les solides d’un assemblage Les interfaces fournissent des propriétés qui vont pouvoir ensuite être exploitées dans la base de connaissances pour déduire la fonction d’un composant Du fait que l’analyse de forme repose sur un processus purement algorithmique et relié à 25 Extraction et Inférence de Connaissances à partir d’Assemblages Mécaniques 3D l’instanciation de faits dans la base de connaissances ce lien garantit la cohérence entre la re présentation 3D des solides et les faits et inférences appliquées dans la base de connaissances Si une modification de forme intervient sur un solide l’impact de celle ci peut être propagé vers les représentations symboliques afin de préserver la cohérence de l’ensemble des infor mations Ces mécanismes de base permettent alors d’associer étroitement des concepts de la base de connaissances et des traitements algorithmiques propres à la géométrie 3D auxquels ces concepts font référence [Wintermute et Laird 2007 Cohn et al 2014 ] 3 Inférences et Raisonnement à partir de la Géométrie d’Assemblages 3D Sur la base des informations géométriques extraites précédemment et des faits correspon dants insérés dans la base de connaissances de nouvelles relations complexes peuvent être générées grâce aux ontologies Celles ci permettent d’inférer de nouveaux faits dans la base de connaissances toujours étroitement liés avec les modèles 3D des solides L’ontologie mise en place contient un ensemble de règles en logique du premier ordre de la forme ∀X̄ Ȳ Hypothèse X̄ Ȳ → ∃Z̄ Conclusion X̄ Z̄ capturant des connais sances métier Ici Hypothèse et Conclusion sont des ensembles d’atomes définis sur les ensembles de variables X̄ Ȳ Z̄ La sémantique formelle des règles existentielles est basée sur la notion d’homomorphisme [Baget et al 2011 ] Nous supposons le lecteur familier avec la notion de règle d’inférence Du point de vue applicatif les règles de l’ontologie peuvent être regroupées dans quatre catégories i Règles de taxonomie et de typage des relations permettant de hiérarchiser certains des concepts de l’application ou bien de typer des arguments d’une relation ii Règles permettant l’inférence de structures complexes pour définir de nouveaux concepts complexes tels que les empilages les regroupements ou les modules d’assemblages iii Règles d’inférence des fonctions des composants pour définir la fonction d’un com posant en vertu de sa forme ses interfaces géométriques et de ses propriétés de symétrie iv Contraintes de complétude et de cohérence Ce sont des règles spécifiant toutes les informations qui doivent être présentes dans la base de connaissances à la fin des traitements géométriques ainsi que les relations interdites entre les composants Taxonomie et Typage Les règles de taxonomie et de typage permettent d’organiser la hié rarchie des concepts de l’ontologie Par exemple les contacts et les appuis plans décrivent respectivement des aspects géométriques et fonctionnels des interfaces ∀I ContactPlan I → InterfaceGéométrique I ∀I AppuiPlan I → InterfaceFonctionnelle I ∀S1 S2 I sontInterfacés S1 S2 I → Solide S1 Solide S2 InterfaceGéométrique I D’autres règles taxonomiques décrivent les relations entre les symétries ∀S aSymRéflexive S → aSymétrie S ∀S estAxiSymétrique S → aSymReflexive S 26 H Vilmart et al ∀S aTroisPlanOrthogonaux S → aSymRéflexive S Structures complexes Une partie des règles de l’ontologie est dédiée à la définition de nou veaux concepts complexes concernant la structure d’un assemblage 3D À titre d’exemple parmi les propriétés structurantes nous décrivons maintenant les empilages et les regroupe ments Les empilages sont des ensembles de solides de même forme en contact les uns avec les autres Un exemple d’empilage rondelles tête bêche est donné à la figure 1 L’inférence des empilages passe d’abord par la détection des empilages simples les “couples de solides de même forme en contact” exprimée par la règle suivante ∀S1 S2 I Solide S1 Solide S2 Interface I aPourInterface S1 I aPourInterface S2 I aLaMêmeFormeQue S1 S2 → EmpilageSimple S1 S2 Ensuite les “empilages simples” sont combinés entre eux pour former des empilages à l’aide des deux règles suivantes modélisant respectivement le fait que i si deux solides forment un empilage simple alors ils appartiennent au même empilage et ii la propriété est transitive ∀S1 S2 EmpilageSimple S1 S2 → Empilage S1 S2 ∀S1 S2 S3 Empilage S1 S2 Empilage S2 S3 → Empilage S1 S3 Les regroupements sont des ensembles de solides de même forme ayant des interfaces géométriques de même nature en commun avec un seul autre solide L’inférence des regroupe ments se fait par la règle suivante en coopération avec une règle de transitivité supplémentaire ∀S1 S2 T I1 I2 Solide S1 Solide S2 Solide T Interface I1 Interface I2 aLaMêmeFormeQue S1 S2 aPourInterface S1 I1 aPourInterface S2 I2 aPourInterface T I1 aPourInterface T I2 → Regroupement S1 S2 Cette règle est appliquée si parmi trois solides deux d’entre eux ont la même forme et possèdent chacun une interface en commun avec le troisième La figure 1 dans l’introduc tion permet d’illustrer les regroupements Notamment 1 les goujons jaune avec la volute gris les écrous rouge et le carter transparent et 2 les roulements à billes marron avec l’arbre de la pompe gris L’existence de regroupements est une première étape de structura tion qui pourra être reliée à la détermination de fonctions En effet après avoir trouvé la liaison d’assemblage boulonné entre un écrou un goujon le carter et la volute l’existence de celle ci permettra de déduire qu’il existe pour tous les écrous et les goujons des regroupements semblables Fonctions L’inférence des fonctions des solides dans un assemblage 3D ajoute une dimen sion importante à la description de celui ci Les règles suivantes indiquent que la fonction des solides en contact plan respectivement linéique avec d’autres solides est de fournir un appui plan respectivement linéaire Il s’agit ici d’un premier niveau élémentaire de fonctions ∀X I aPourInterface X I Solide X ContactPlan I → ∃F aPourFonction X F AppuiPlan F ∀X I aPourInterface X I Solide X ContactLinéaire I → ∃F aPourFonction X F ContactLinéique F 27 Extraction et Inférence de Connaissances à partir d’Assemblages Mécaniques 3D Les variables existentiellement quantifiées dans la conclusion de la règle représentent l’iden tifiant de la fonction inférée à laquelle d’autres attributs seront ensuite ajoutés 6 Dans la me sure où les propriétés de la base de connaissances ne suffisent pas à determiner exactement la fonction d’un composant il peut être néanmoins utile d’indiquer ses fonctions candidates ∀X I aPourInterface X I Solide X ContactCirculaire I → ∃F G aPourFonctCandidate X F ContactCirculAxial F aPourFonctCandidate X G ContactCirculRadial G Cette approche à granularité fine pour les composants s’étend à la description des fonctions des empilages regroupements familles et modules afin d’inférer par déduction logique une description fonctionnelle de l’assemblage et d’aboutir par exemple à indiquer que l’assem blage de la figure 1 répond à la fonction de pompe centrifuge c’est à dire de circulation d’un fluide et de générateur de pression constante par effet centrifuge Ainsi l’extraction automatique de sous ensembles intelligemment structurés évite la re dondance de calculs par exemple ne pas répéter le même raisonnement pour des composants de même forme possédant des interfaces géométriques de même nature Cohérence et Complétude Les règles de cohérence et de complétude spécifient toutes les informations qui doivent être présentes dans la base de connaissances à la fin des traitements géométriques ainsi que des contraintes de cohérence des descriptions de l’assemblage On les appellera donc des contraintes On écrit ces contraintes avec la syntaxe des règles exis tentielles mais leur interprétation sémantique est différente du point de vue du raisonnement Informellement on dit qu’une contrainte exprimée par une règle existentielle est respectée chaque fois que la base de connaissance satisfait son hypothèse et donc aussi sa conclusion Si cette condition n’est pas vérifiée cela correspond à des données manquantes c’est à dire l’existence d’une incomplétude au niveau des données Nous considérons aussi des contraintes dites négatives dont la conclusion contient le seul symbole “⊥” Ces règles expriment des in cohérences au niveau des faits Lorsque l’hypothèse d’une contrainte négative est satisfaite par la base de connaissances on déclare les données incohérentes Ainsi lorsque l’analyse géométrique détermine qu’un solide possède une symétrie cen trale par exemple pour une sphère alors son centre de rotation doit être spécifié ∀S I aSymétrieCentrale S ¯ → ∃P aPointDeRotation S P Point P Ces règles ne contribuent pas aux inférences mais vérifient l’existence de certains faits il existe un point de rotation à partir d’autres une symétrie centrale Si les données requises ne sont pas déductibles à partir des faits et des connaissances dis ponibles alors la base de faits est déclarée incomplète D’une façon similaire la règle suivante indique qu’un assemblage est toujours composé d’au moins un solide ∀X I Assemblage X → ∃Y faitPartieDe Y X Solide Y Enfin à titre d’exemple de contrainte négative nous présentons la règle suivante exprimant qu’aucun centre de symétrie n’est valide pour un solide possédant aucune symétrie ∀X P AucuneSymétrie X aPourPointDeRotation X P ¯ → ⊥ L’ontologie contient des contraintes de cohérence et de complétude pour les notions que nous avons présentées notamment solides interfaces familles modules empilages regrou 6 Les variables existentiellement quantifiées dans les règles de l’ontologie s’ont utilisées seulement dans des règles acycliques dont le nombre d’applications est toujours borné Ceci garantit ainsi la terminaison du raisonnement lo gique en temps polynomial [Fagin et al 2005 ] 28 H Vilmart et al Salome Raisonneur CoGUI Serveur de Triplets Jena Plugins Traitements géométriques 1 5 Inférences 4 Visualisation 1 Extraction des données géométriques occurrences interfaces 2 3 2 Insertion des faits générés en 1 3 Import des données géométriques dans le raisonneur 4 Génération de nouveaux faits grâce aux règles de l'ontologie 5 Insertion des faits générés en 4 6 6 Envoi de reqêtes prédéfinies sur le serveur pour la visualisation FIG 4 – Architecture de l’environnement d’analyse d’assemblages mécaniques 3D pements et pour toutes les classes de symétries Au total nous pouvons compter dans l’onto logie 88 concepts 35 relations 9 règles d’inférence de structures complexes et 22 contraintes 4 Architecture du système d’analyse d’assemblages 3D L’architecture du système d’analyse géométrique et ontologique d’assemblages 3D est illustrée à la figure 4 L’approche présentée a été implémentée dans l’environnement CAO de SALOME [Salome] 7 Ce logiciel libre permet de développer ses propres plugins en C++ pour effectuer des traitements spécifiques tout en utilisant des algorithmes propres à ce même logiciel Un travail important d’implémentation a permis d’obtenir entre autres toutes les pro priétés géométriques présentées à la section 2 Les faits extraits par l’analyse géométrique sont ensuite exportés à l’aide du langage RDF et enregistrés dans un serveur de triplets permettant l’accès distant à plusieurs concepteurs de produits afin de contribuer avec leurs modèles 3D aux données de la base de connaissances Enfin le logiciel CoGui a permis de mettre en place la base de connaissances en faisant le lien entre les données et l’ontologie Ce logiciel a été utilisé en tant qu’éditeur de règles existen tielles basé sur le formalisme graphique très intuitif des graphes conceptuels [Chein et Mu gnier 2014 ] Ses fonctionnalités de raisonnement sont utilisées pour réaliser les inférences Les logiciels Jena et CoGui ont été utilisés pour la mise en œuvre de la version actuelle de l’application toutefois la modularité de l’architecture autorise naturellement leur remplace ment par d’autres systèmes de gestion de données et moteurs d’inférences Données et connaissances ainsi extraites et inférées permettent in fine la mise en place d’un système de visualisation 3D piloté par requêtes ontologiques dans l’environnement CAO de SALOME capable d’interroger des assemblages mécaniques 3D avec des requêtes portant sur leurs propriétés structurelles et fonctionnelles Quelques statistiques sur les modèles analysés sont présentées dans le tableau 1 7 SALOME est un logiciel CAO développé par OpenCascade opencascade com en collaboration avec EDF edf fr et le CEA cea fr 29 Extraction et Inférence de Connaissances à partir d’Assemblages Mécaniques 3D TAB 1 – Statistique de l’analyse des modèles Modèle Nombre de Composants Temps d’analyse géométrique Temps d’inférences Nombre total de faits Pompe centrifugeuse 47 10min 4s 1288 Agrafeuse électrique 124 12min 47min 11533 Jonction d’une voilure d’avion 148 7min 42min5s 17083 5 Analyse de travaux impliquant géométrie et raisonnement Parmi les travaux les plus proches de ceux qui ont été présentés Palombi et al 2014 proposent de relier des connaissances anatomiques avec des fonctions où la géométrie 3D des entités anatomiques est saisie manuellement Shahwan et al 2013 présentent une approche d’analyse d’assemblages 3D pour les enrichir d’informations fonctionnelles à partir de modèles 3D mais les inférences doivent être répétées pour chaque composant ce qui n’est pas efficace pour traiter des grands assemblages de plusieurs milliers de composants Wintermute et Laird 2007 ont aussi mis en place une approche incorporant une analyse géométrique mais limitée à des traitements en 2D Certaines limitations de la méréotopologie ont été analysées par Varzi 1998 et vont devoir être transposées dans le contexte des assem blages 3D L’utilisation de la méréotopologie a déjà été mise en œuvre pour définir une ontolo gie décrivant des connexions entre composants [Kim et al 2008 ] Cependant ces travaux se limitent à l’expression de liens entre certaines parties d’un modèle 3D ils présupposent égale ment une structuration des modèles géométriques en sous parties mais ils ne décrivent pas les traitements algorithmiques permettant de localiser ces parties Parmi les raisonnements spatiaux qualitatifs Cohn et Hazarika 2001 Chen et al 2013 indiquent que les raisonnements sur la forme d’objets restent une difficulté importante ayant fait l’objet de peu de développements 6 Conclusion L’originalité de la contribution proposée concerne la mise en place d’une analyse d’assem blages 3D pour en extraire et structurer des connaissances propres à ses catégories de compo sants constitutifs et à leur fonctions selon une approche automatique Des concepts de forme et de fonction des composants sont pris en compte dans la modélisation des connaissances pour structurer les assemblages 3D et rendre plus efficaces les raisonnements qui permettent l’inférence de structures complexes et de fonctions de haut niveau dans un assemblage L’architecture proposée permet de lier une approche de logique déductive avec des re présentations géométriques 3D Celles ci sont associées à des algorithmes d’extraction d’in formations géométriques et topologiques et couplées à des représentations de connaissances Ceci permet de rendre ‘actives’ les représentations 3D lors des mécanismes d’inférence Cette architecture permet de maintenir la cohérence entre les informations symboliques nécessaires aux inférences et les informations géométriques 3D Appliquée à des assemblages 3D cette démarche permet leur analyse et leur structuration comme première phase d’extraction de fonc tions L’approche a été implémentée en tant qu’extension du modeleur CAO 3D SALOME 30 H Vilmart et al Les résultats obtenus montrent que les propriétés actuellement formulées structurent effica cement et intrinsèquement un assemblage Les travaux futurs permettront l’inférence de fonc tions élémentaires puis de niveaux de plus en plus élevés [Varzi 1998 ] La base de connais sances constitue un atout important pour mettre en place les raisonnements requis Il s’agit d’une première étape permettant l’extension de l’approche de Shahwan et al 2013 dont un des intérêts concerne par exemple le support aux systèmes KBE la génération de modèles de simulation physique d’assemblages mécaniques [Boussuge et al 2014 ] ou bien d’autres phases de développement d’un produit Ces travaux ont été partiellement financé par l’ERC Expressive Références Baget J M Leclère M Mugnier et E Salvat 2011 On rules with existential variables Walking the decidability line Artif Intell 175 9 10 1620–1654 Boussuge F A Shahwan J C Léon S Hahmann G Foucault et L Fine 2014 Template based geometric transformations of a functionally enriched dmu into fe assembly models CAD Applications 11 4 436–449 Chandrasegaran S K K Ramani R D Sriram I Horváth A Bernard R F Harikf et W Gao 2013 The evolution challenges and future of knowledge representation in product design systems CAD 45 204–228 Chein M et M Mugnier 2014 Conceptual graphs are also graphs In Graph Based Repre sentation and Reasoning ICCS 2014 Iaşi Romania July 27 30 2014 Proceedings pp 1–18 Chen J A Cohn D Liu S Wang J Ouyang et Q Yu 2013 A survey of qualitative spatial representations Knowledge Engineering Review 30 1 106–136 Cohn A G et S M Hazarika 2001 Qualitative spatial representation and reasoning An overview Fundamenta Informaticae 46 1–29 Cohn A G S Li W Liu et J Renz 2014 Reasoning about topological and cardinal direction relations between 2 dimensional spatial objects Journal of Artificial Intelligence Research 51 493–532 Fagin R P G Kolaitis R J Miller et L Popa 2005 Data exchange semantics and query answering Theor Comput Sci 336 1 89–124 ISO Systèmes d’automatisation industrielle et intégration représentation et échange de don nées de produits Iyer N S Jayanti K Lou Y Kalyanaraman et K Ramani 2005 Three dimensional shape searching state of the art review and future trends CAD 37 5 509–530 Kim K Y D G Manley et H Yang 2006 Ontology based assembly design and informa tion sharing for collaborative product development Comput Aided Des 38 12 1233–1250 Kim K Y H Yang et D W Kim 2008 Mereotopological assembly joint information representation for collaborative product design Robotics and Computer Integrated Manu facturing 24 6 744–754 31 Extraction et Inférence de Connaissances à partir d’Assemblages Mécaniques 3D La Rocca G 2012 Knowledge based engineering Between ai and cad review of a language based technology to support engineering design Advanced Engineering Informatics 26 159–179 Li K G Foucault J C Léon et M Trlin 2014 Fast global and partial reflective symmetry analyses using boundary surfaces of mechanical components CAD 53 70–89 Mitra N M Pauly M Wand et D Ceylan 2012 Symmetry in 3d geometry extraction and applications In M P Cani et F Ganovelli Eds STAR of Eurographics conference Cagliari Italy pp 29–51 Mäntylä M 1988 An Introduction to Solid Modeling Computer Science Press College Park MD Palombi O F Ulliana V Favier J C Léon et M C Rousset 2014 My corporis fabrica an ontology based tool for reasoning and querying on complex anatomical models J of Biomedical Semantics 20 5 Rychtyckyj N 2006 Measuring long term ontology quality A case study from the auto motive industry In G Sutcliffe et R Goebel Eds 19th Int Florida Artificial Intelligence Research Society Conf Melbourne Beach Florida pp 147–152 The AAAI Press Salome open source platform for numerical simulation salome platform org last access 08 04 16 Shahwan A J C Léon G Foucault M Trlin et O Palombi 2013 Qualitative behavioral reasoning from components’ interfaces to components’ functions for dmu adaption to fe analyses CAD 45 2 383–394 Varzi A 1998 Basic problems of mereotopology In N Guarino Ed Formal Ontology in Information Systems pp 29–38 Amsterdam IOS Press Wintermute S et J E Laird 2007 Predicate projection in a bimodal spatial reasoning sys tem In R C Holte et A Howe Eds 22nd AAAI Conf on Artificial Intelligence Vancouver British Columbia pp 1572–1577 The AAAI Press Summary Knowledge extraction from 3D geometric models and reasoning is an important issue to the development of ontologies capable of functional description of man made products In this context we rely on an architecture for deductive logic containing a knowledge base coupled with a 3D geometric modeler Reasoning mechanisms addressing the concept of shape of 3D objects are still difficult to formalize and geometry related information is difficult to extract from 3D models We propose formal properties such as ’has the same shape’ ’belongs to the same family’ to show how the extraction of 3D geometry is connected to these properties Then formal properties such as ’is a pilling’ ’is a grouping’ are introduced to show how complementary reasonings can contribute to 3D assembly structuring These properties are illustrated through an example of hydraulic pump 32 