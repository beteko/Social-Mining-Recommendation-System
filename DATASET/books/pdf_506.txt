agrégation robuste données massives volée application compteurs électriques communicants benoît grossin yousra chabchoub avenue général gaulle 92140 clamart benoit grossin notre champs 75006 paris bilab télécom paristech barrault 75634 paris cedex yousra chabchoub résumé années venir plusieurs millions compteurs électriques communicants seront déployés ensemble territoire français surer fiabilité réseau cette envergure proposons topologie communication multi chemins repose duplication données trans mises toute exploitation données collectées alors tenir compte présence éléments dupliqués article proposons nouvelle méthode permettant calculer ligne consommations électriques agrégation spatiale adapter algorithme probabiliste mation sketch considine contexte compteurs communicants cette approche avantage insensible duplication permet fiter structure massivement distribuée réseau communication compteurs électriques expérimentation cette méthode données réelles montre donne bonne précision estimation consom mations agrégées cette approche aussi complétée méthode basée théorie sondages obtient meilleure réactivité estimateur rapidement données significativement partielles erreur inférieure introduction pannes pertes paquets fréquentes réseaux cause problèmes interférence collision entre paquets faible puissance signal plusieurs techniques développées mises oeuvre limiter perte données garantir certaine fiabilité transmissions citer exemple codes correcteurs essentiellement basés redondance exemple caire encore duplication papier limite étude duplication envoyer donnée plusieurs augmenter chances arriver moins destination suite envoi multiple envisageables meilleur destination reçoive exactement message message perdu malgré duplication enfin fréquent message agrégation robuste données massives volée plusieurs perte assez faible souhaite garantir réception message ajouter mécanisme acquittement toujours possible contexte réseaux ressources limitées niveau destination traitement données tenir compte elles peuvent répéter problème largement étudié littérature plusieurs techniques dites order duplicate insensitive conçues utilisées différents domaines application comme exemple réseaux capteurs flajolet martin parmi pionniers domaine algorithme proba bilistic counting flajolet martin estimer nombre éléments distincts multi ensemble ensemble élément répéter point algorithme assure garantie statistique erreur estimation utilise faible mémoire approche basée sketches fortement reprise adaptée différents autres contextes considine proposent exemple considine adaptation probabilistic counting estimation fréquences éléments encore somme éléments distincts ensemble cadre réseaux capteurs papier avons abord appliqué algorithme summation sketch considine nouveau contexte agrégation temps consommations électriques grande échelle notre estimer ligne consommation électrique agrégée différentes échelles france telle connaissance grande utilité pilotage réseau production électriques cette application totalement innovante basée compteurs électriques communicants encore phase déploiement france avons aussi proposé amélioration summation sketch introduisant estimateur réactif théorie sondages reste papier organisé comme section présentons contexte applicatif savoir architecture réseau collecte informations consommations triques enjeux cette application description algorithmes flajolet sketch considine summation sketch donnée section section expliquons abord adaptation algorithme considine notre contexte nouvelle méthode proposée résultats expérimentaux algorithmes cités précé demment présentés partie conclusion perspectives données partie contexte applicatif niveau mondial énergéticiens engagent actuellement compteurs électriques communicants communément connus terme anglo saxon smart meters parle alors smart metering motivation enjeux projets identiques plupart centrés besoins facturation exploitation réseau distribution maîtrise énergie nombreuses initiatives apparaître choix variés termes périmètre couverture fonctionnelle nologies utilisées grossin chabchoub projet français compteurs communicants gestionnaire réseau distribution électricité france initié projet teurs communicants actuellement phase pilote projet terme déploiement millions compteurs évolués territoire français décret introduction compteurs communicants évolués représenterait vraie révolution acteurs français électricité abord diversité données trans mises données relatives conduite réseau alarmes données gestion relatives fourniture électricité informations relatives consommation chaque client aussi abondance fréquence relève disposition accès temps courbes consommation individuelle détaillée appelées courbes charge laisse imaginer nombreuses possibilités comme exemple offre service clients alerter détection consommation anormale agrégée consommations électriques agrégation spatiale multi échelles agrégation temporelle aussi utile pilotage réseau production électrique intérêt suscité données devrait donner naissance ensemble important services devra offrir information gestionnaire réseau distribution électricité aussi besoins internes distributeur services proposés autres acteurs marché électrique français proposition réseau multi chemins périmètre national projet représente majeur qualité communica entre millions points mesure système information unique requiert architecture fiable robuste effet pannes pertes paquets fréquentes réseaux notamment cause problèmes interférence collision entre paquets faible puissance signal option retenue pilote pensons architecture fortement maillée serait solution intéressante assurer bonne qualité communi cation réseau compteurs cette envergure effet topologie proposant sieurs chemins entre chaque compteur permet déjouer efficacement défaillance transmission maillon réseau plusieurs copies chaque mesure réalisée compteurs seront envoyées destinataire unique central selon chemins diffé rents fiabilité alors conséquent engendre duplication messages transit réseau reçus destinateur notons cette proposition réseau multi chemin multi pathing seule solution assurer fiabilité robustesse réseau aussi envisager appuyer protocoles transmission robuste aspect étudié article quelque approche envisagée robustesse fiabilité communication terme bande passante utilisée comme indiqué architecture hiérarchique retenue pilote cours différente celle proposée grappe concentrateurs mêmes gèrent chacun grappe compteurs exploitation semble moins sensible besoin robus tesse communications données collectées batch quotidiennement contraintes temps moins pesantes ordre grandeur journée mettent envisager interroger nouveau compteurs concentrateurs aurait mesures adapté services comme facturation agrégation robuste données massives volée tolérer latence relativement élevée douter besoin services temps réels multiplier devra alors orienter modèle disposition données générera données massif besoin assurer bustesse transmission alors crucial pourra reposer mécanisme identification données manquantes nouvelle transmission cadre prospectif proposons réseau communication multi chemins thode agrégation données adaptée cette topologie démarque largement choix solutions actuels notons néglige cadre problème intégrité données autrement suppose données erronées agrégation consommations électriques individuelles volée parmi services rendus possibles déploiement national compteurs communi cants celui calcul agrégat courbes consommations électriques individuelles diffé rentes échelles nationale régionale segment clientèle immédiats compte simplicité intérêt simple somme permet exemple mieux connaître consommation clients études commerciales besoins réseau aussi service candidat idéal glissement temps évoqué précédemment cadre réseau multi chemins proposons sécuriser transmission données forme agrégat alors prendre compte présence éléments dupliqués autres caractéristiques cadre plicatif comme aspect massivement distribué forte volumétrie travaux décrits suite article placent cadre cette problématique posent reconstitution volée quasi temps courbe charge agrégée synchrone environnement compteurs communicants suite article allons étudier méthode astucieuse estimer synchrones cadre réseau multi chemin redondance valeurs sommer principe estimation agrégat méthodes sketches approche sketch choix adapté contexte applicatif calculer somme éléments dupliqués représente majeur opérateur somme sensible présence éléments dupliqués imaginer garder trace éléments reçus compter seule chaque valeur méthode naïve contexte applicatif présente forte volumétrie somme millions points mesures dupliqués sommer chaque instant consi autant accomplir cette tâche approche standard représenterait difficulté insurmontable actuel notre considérer calcul somme présence duplication contexte complet exploitation unique multi services fortement sollicité répondre toutes tâches seront attri buées judicieux positionner chaque opération réalisée contexte ressources informatiques limitées puisse réaliser pleinement ensemble tâches attribuées esprit contexte particulier réseaux grossin chabchoub capteurs considine proposé approche alternative appelée summation sketch reposant transformation données brutes objet particulier appelé sketch propriétés permettent estimer somme valeurs brutes originelles cette estimation parfaitement insensible duplication ressources informatiques embarquées capteurs étant limitées cette approche économe calcul surtout mémoire utilisée aspect souligné aggarwal aggarwal consi dèrent méthodes reposant sketches utiles uniquement quand contraintes matérielles utilisation sketches permet distribuer complexité calcul somme présence éléments dupliqués chaque compteur pourrait générer sketches relatifs mesures chargeant collecter espace mémoire limité servant estimation résultat final opposé approche naïve concentre ensemble complexité point profite structure fortement distribuée smart metering retrouve approche sketch éléments paradigme mapreduce ghemawat mapper compteurs calculant chaque mesure sketch selon algorithme particulier reducer collectant sketches agrégeant mémoire paragraphes précédents éléments contexte posés choix approche sketch justifiée intéresse maintenant principes méthode retenue méthode utilisée celle proposée considine méthode exten astucieuse travaux flajolet martin convient ailleurs présenter premier temps travaux originels ensuite expliquer modifications proposées considine opérations sketches reprenant système description introduit utiliserons fonctions suivantes applicables sketches identifier opéra tions autour sketches processus génération sketch retourne résultat fusion sketches transforme sketch estimation nombre éléments distincts allons expliciter fonctions cadre sketches permettant estimer cardi nalité somme sketch estimer cardinalité années flajolet martin proposé méthode estimer nombre éléments distincts cardinalité opérateur count distinct multi ensemble grande dimension algorithme probabiliste proposé opère seule passe opérations révèle économe place mémoire nécessaire calcul cardinalité flajolet martin repose objet sketch sketch vecteur principe sketch parcourir éléments ensemble éléments souhaite estimer cardinalité chaque applique fonction génération sketch transforme vecteur génération comme initialement vecteur agrégation robuste données massives volée élément calcule transformation aléatoire fonction hachage position gauche représentation binaire force notons processus construction générer aléatoire terministe effet éléments identiques doivent travers aboutir résultat condition nécessaire assurer insensibilité estimateur présence éléments dupliqués vecteurs générés différents éléments seront ensuite fusionnés vecteur unique simple logique cette opération appel méthode chaque élément alors position premier vecteur obtenu suite opérations fusion avoir estimation robuste flajolet martin utilisent concept moyenne stochastique stochastic averaging alors calculé vecteurs indépendants noteb obtient ainsim valeurs notéesr estimation cardinalité enfin donnée formule suivante erreur standard estimateur approximativement notons indice précision intéressant comparativement méthodes alternatives durand flajolet flajolet giroire summation sketch estimer somme considine auteurs donnent problématique suivante dispose sources données chaque instant chaque source envoie valeur entière notée cherche calculer somme valeurs tracer courbe consommation agrégée fonction temps hypothèse toutes sources synchrones aussi contexte données peuvent dupliquées considine proposent adapter méthode sketch flajolet cette problématique modifications portent uniquement processus génération sketches reste algorithme reste inchangé traitement étant chaque instant passera notion temps alléger notations chaque source génération revient insérer éléments distincts sketch autrement résultat opération fusion suivante evali ensuite sketches seront fusionnés obtenir équivalent vecteurb déroulement reste algorithme sketch estimation somme donnée partir paramètre calculé vecteur notons applique couple sources valeur compter somme élément dupliqué couple répète processus génération ainsi défini nécessite appels fonction coûteux valeurs élevées remédier problème considine proposent stratégie simulation résultat obtenu insertion éléments distincts basant géométrique grossin chabchoub détails considine impact cette simplification négligeable valeur prise estimateur reste asymptotiquement biais sketches compteurs communicants méthode standard proposition nouvelle méthode positionnement application sketches architecture compteurs communicants replaçons summation sketches fonctionnement caractéristiques explicités section précédente contexte smart metering chaque mesure lisée compteur traitée fonction générer sketch sketch substitue mesure brute envoyée compteur vient compléter ainsi basiquement messages envoyés compteurs contiennent identifiant compteur mesure brute consommation électrique horodatée sketch associé schéma thétique architecture réseau collecte proposé figure collecte mesures brutes traite sketches espace mémoire limité autre taille sketch temps distinct proposer service estimation consommations électriques agrégées quasi temps entre sources données compteurs destinataire topologie réseau multi chemin assure fiabilité communication comme précédemment estimation somme basée mation sketches perturbée présence éléments dupliqués performance estimateur sketches contexte applicatif replaçons sketches fonctionnement caractéristiques explicités section précédente contexte smart metering architecture compteurs communicants sketches compléter messages envoyés compteurs contiennent mesures consommations électriques summation sketch nombre maléa utiliser mécanisme moyenne stochastique collecte mesures brutes traite sketches espace mémoire limité autre taille sketch temps distinct proposer service estimation synchrone entre sources compteurs destinateur topologie réseau multi chemin assure fiabilité communication comme précédemment estimation somme perturbée présence éléments dupliqués figure schéma architecture proposée positionnement fonctions sketch principe estimation synchrone exemple topologie multi chemins millions compteurs tvalsg valsg valsg nvalsg beachsketchsf 150000000 170000000 190000000 210000000 230000000 250000000 270000000 instant synchrone réelle synchrone estimée synchrone synchrone estimée schéma architecture proposée positionnement fonctions sketch principe estimation synchrone cette configuration transposition travaux considine domaine compteurs communicants testée section expérimentation quantifier formances estimation obtenues notamment discutant impact mémoire allouée niveau agréger sketches reçus masse agrégation robuste données massives volée méthode réactive proposition nouvel estimateur proposer service estimation consommations agrégées quasi temps frustrant avoir attendre réception niveau ensemble copies mesures instant connaître estimation somme mesures proposons utiliser estimateur courant théorie sondages appuyant sketches estimateur horvitz thompson estime somme population partir population aléatoire plaçons cadre plans sondage aléatoire simple probabilité inclusion égale hypothèse copies mesures instant arrivent aléatoirement niveau dispose moment échantillon aléatoire mesures compteurs instant échan tillon passant mesure seule mesure réception première mesure relative instant ensemble mesures totalité compteurs souvent sieurs exemplaires compte structure multi chemin moment instant considéré somme population compteurs moins copie mesure réalisée mécanisme summation sketch taille ensemble compteurs suppose réfère formule estimateur manque taille population nombre compteurs lesquels moins message mesure ceptionné cette valeur accessible utilisant sketches estime nombre éléments distincts compteurs proposons alors estimateur modifié suivant reposant mation sketches estimateur original ssample nsample estimateur modifie summationsketches fmsketches taille totale population totale considérée nombre total compteurs nsample taille population échantillonnée ssample somme variable considérée cette population échantillonnée fmsketches nombre compteurs estimé sketches réceptionné moins mesure instant considéré summationsketches somme estimée summation sketches mesures reçues notons fmsketches summationsketches évoluent réception mesures remarques importantes rapport cette proposition utilisation conjointe théorie sondages sketches sketch alourdit message envoyé rapport proposition précédente espace mémoire nécessaire niveau estimateur possède propre intervalle confiance notre proposition troduit nouveaux éléments imprécision estimations fmsketches summationsketches conditions compte forme estimateur sente précision dégradée rapport estimateur original estimateur réactif aussi testé section relative expérimentations grossin chabchoub expérimentation mesures utilisé cette expérimentation correspond consommation trique clients journée prise hasard notons données réelles consommation ensemble limité clients servi générer volume conséquent mesures temps horaire mesures compteur algorithmes cités codés système gestion données stream avons encore simulé différentes topologies réseau données dupliquées vérifier insensibilité sketches phénomène perte données simulée expérimentation présentée article notons cependant expérimentations préliminaires intégraient simulation perte permis valider intérêt duplication comme solution problème effet réussite transmission conformes attentes théoriques performance summation sketch contexte applicatif conditions expérimentation présentées paragraphe précédent sultats obtenus probants figure calcul synchrone summation sketches instant synchrone réelle synchrone estimée estimation courbe consommation électrique agrégée summation sketches comme souligné précédemment précision estimation obtenue valeur nombre vecteurs maintenir mémoire chaque temps rappel erreur standard estimateur contexte réseau capteurs mémoire critère fortement limitant valeur trouve alors naturel lement bornée contexte utilisation proposé article méthode parcimo nieuse estimation synchrone niveau souhaitable concurrencer autres services proposés contrainte empreinte mémoire largement moins forte capteur pourquoi tentant utiliser valeurs conséquentes proposer estimation précise streambase agrégation robuste données massives volée figure présente qualité estimation obtenue fonction basant indicateur absolute percent error performances summation sketches conformes attentes jusqu environm environ valeurs aléatoires ckées chaque vecteur ensuite performances dégradent fortement selon seuil correspond taille échantillon nécessaire chaque vecteur résultats soient assez significatifs dessous déséquilibre impor contenus vecteurs principe moyenne stochastique valide ailleurs considine soulignent phénomène proposent mécanisme visant équilibrer contenus vecteurs cependant mécanisme alourdit méthode exemple opération passe complexité contexte déploiement national 100nc pourrait utiliser valeurs jusqu environ erreur standard théorique associée notons notre proposition utilisation sketches conditions données massives passerait échelle puisque sources portent principale complexité processus sketches savoir génération 10000 facteur summation sketches erreur standard théorique impact espace mémoire alloué facteur qualité estimation performance nouvel algorithme théorie sondages application notre proposition basée théorie sondages donne résultats suivants figure mesures instant mesures dupliquées exemple valeur fixée combinaison sketches théorie sondages permettent estimer synchrone mesure arrivée mesures exemple estimation valeur somme finale collecté moitié mesures relatives instant considéré ainsi nouvelle méthode proposée donne résultats données utilisé notons distribution valeurs compteurs données considérées assez régulière déduit partir figure somme toutes valeurs proportionnelle nombre valeurs reçues autrement valeurs compteurs plutôt homogènes représente cadre adapté application théorie sondages cette propriété reste vraie taille population augmente grossin chabchoub 50000000 100000000 150000000 200000000 250000000 300000000 100000 200000 300000 nombre mesures reçues estimation based summation sketches estimator estimation based summation sketches sketches horvitz thompson estimators actual actual actual performance nouvel estimateur théorie sondages conclusion perspectives article avons proposé utiliser topologie multi chemins assurer fiabilité réseau grande envergure compteurs communicants cette robustesse gendre duplication messages transit reçus responsable entre autres collecte mesures consommations électriques individuelles toute exploitation données tenir compte présence éléments dupliqués avons problématique intéresse savoir calcul synchrone calcul somme consommations électriques individuelles utilisation summation sketch représente solution élégante adaptée contexte traitements massivement tribués alors sollicité terme calcul empreinte mémoire garantit passage échelle nécessaire contexte envisagé summation sketch estimateur agrégat somme parfaitement insensible présence éléments dupli avons garanties précision pouvait obtenir acceptables bornées erreur standard pouvant réduite jusqu mètre envisagé rendre estimateur réactif avons proposé utilisation conjointe summation sketch théorie sondages estimer agrégat final données partielles premiers résultats obtenus encourageants mandent étude approfondie notamment quantifier intervalles confiance associés notons enfin travail préciser topologie retenir cours notamment question utilisation noeuds intermédiaires réseau simple relais sketches transmettre espaces potentiels stockage intermédiaire résultats partiels agrégation robuste données massives volée références aggarwal survey synopsis construction streams streams caire taricco biglieri interleaved coded modulation transactions information theory considine hadjieleftheriou byers kollios robust approximate aggregation sensor management systems trans database ghemawat mapreduce simplified processing large clusters communications durand flajolet loglog counting large cardinalities proceedings symposium algorithms flajolet gandouet meunier hyperloglog analysis optimal cardinality estimation algorithm proceedings conference analysis algorithm flajolet martin probabilistic counting algorithms applications journal computer system sciences giroire january estmating number active flows stream sliding window proceedings ninth workshop algorithm engineering experiments fourth workshop analytic algorithmics combinatorics analc0 décret calendrier déploiement dispositifs comptage réseaux publics électricité legifrance gibbons seshan anderson synopsis diffusion robust aggrega sensor networks transactions sensor networks summary coming years several millions communicating electric meters deployed france guarantee robustness network propose multi topology based duplication transmitted analysis collected account presence duplicated elements paper propose method online accounting aggregated electric consumption spatial aggregation adapt probabilistic algorithm summation sketch considine context communicating electric meters approach advantage insensitive duplication allow exploitation widely distributed structure communica network future communicating electric meters experimentation method shows gives accuracy estimation aggregated consump tions approach extended method based sampling theory obtain better reactivity estimator error significant partial