 Un langage d’interrogation à la SPARQL pour les graphes conceptuels Marc Legeay David Genest Stéphane Loiseau LERIA Université d’Angers 2 boulevard Lavoisier 49045 Angers Cedex 01 {prénom nom} univ angers fr Résumé Cet article propose un langage générique d’interrogation pour le mo dèle des graphes conceptuels D’abord nous introduisons les graphes d’inter rogation Un graphe d’interrogation est utilisé pour exprimer un ou entre deux sous graphes ainsi qu’une option sur un sous graphe optionnel En suite nous proposons quatre types de requêtes interrogation sélection descrip tion et construction en utilisant les graphes d’interrogation Enfin les réponses à ces requêtes sont calculées à partir d’une opération basée sur l’homomorphisme de graphe 1 Introduction Le modèle des graphes conceptuels Sowa 1984 Chein et Mugnier 2009 permet de repré senter des connaissances sous la forme d’un graphe étiqueté Le modèle des graphes concep tuels utilise une représentation graphique visuelle des connaissances afin de faciliter la compré hension pour les utilisateurs La méthode d’interrogation du modèle est basée sur l’opération principale des graphes conceptuels un homomorphisme de graphes appelé la projection cette opération permet de déterminer si les connaissances exprimées dans un graphe conceptuel ap pelé graphe requête peuvent être déduites de celles exprimées dans la base de connaissances représentée par un graphe conceptuel appelé graphe fait Les objectifs de ce modèle sont proches d’une partie de ceux des langages du Web sé mantique tels que RDF RDF Schema ou OWL Manola et al 2004 Brickley et Guha 2004 McGuinness et al 2004 qui sont généralement interrogés en utilisant SPARQL Garlik et al 2013 une recommandation officielle du W3C disponible dans plusieurs outils SPARQL offre plus de flexibilité par rapport aux graphes conceptuels dans l’interrogation d’une base de connaissances D’une part SPARQL permet d’exprimer une disjonction entre plusieurs parties d’une requête SPARQL utilise le mot union et d’identifier des parties comme obligatoires ou optionnelles D’autre part SPARQL permet d’interroger la base grâce à quatre types de requêtes l’interrogation la sélection la description et la construction La requête d’interroga tion permet de savoir si la connaissance représentée par la requête est présente dans la base La requête de sélection permet de trouver et extraire de la base des connaissances identifiées dans la requête comme importantes La requête de description permet d’obtenir des informations sur des connaissances de la requête La requête de construction permet de déduire de nouvelles connaissances à partir de celles contenues dans la base 227 Un langage d’interrogation à la SPARQL pour les graphes conceptuels Cet article propose de combiner la simplicité de la représentation visuelle des graphes conceptuels avec la puissance du modèle d’interrogation du Web sémantique pour améliorer l’expression des requêtes des graphes conceptuels La contribution de cet article est triple D’abord le graphe d’interrogation est introduit La notion de graphe d’interrogation permet d’exprimer des conditions de disjonction – un ou entre deux de ses sous graphes – et des conditions d’option – un sous graphe est préféré mais non nécessaire – dans un graphe concep tuel Ensuite le graphe d’interrogation nous permet de définir un langage d’interrogation pour les graphes conceptuels formé de quatre types de requêtes requête d’interrogation requête de sélection requête de description et requête de construction Une requête d’interrogation per met de savoir si le graphe de la requête est déductible du graphe fait Une requête de sélection permet de trouver et extraire du graphe fait des sommets identifiés comme étant importants dans le graphe requête Une requête de description permet d’obtenir des informations com plémentaires du graphe fait liées à un sommet particulier du graphe requête Une requête de construction permet de déduire de nouvelles connaissances en utilisant les connaissances ex traites du graphe fait Enfin l’opération basique de calcul utilisée pour interroger et obtenir des réponses est introduite la projection d’un graphe d’interrogation dans un graphe fait Cette projection est définie en utilisant la projection classique d’un graphe conceptuel dans un graphe fait Aucun langage générique d’interrogation pour les graphes conceptuels n’a encore été pro posé mais différentes idées ont été mises en avant De même que la requête de sélection la possibilité d’identifier certains sommets dans un graphe requête pour facilement exploiter le résultat d’une projection a déjà été proposé dans Sowa 1984 Notre approche est différente de Sowa 1984 dans lequel les sommets sont simplement marqués puisque nous proposons de les nommer pour pouvoir facilement les identifier dans le résultat de la projection Dans la communauté de SPARQL Corby et Faron Zucker 2007 propose une implémentation de la recherche de motifs de graphes de SPARQL en utilisant la projection classique des graphes conceptuels Notre approche à l’inverse est de transposer les idées de SPARQL dans le modèle des graphes conceptuels L’article est organisé comme suit La section 2 rappelle les bases du modèle des graphes conceptuels et de la projection La section 3 présente le modèle des graphes d’interrogation La section 4 présente la projection d’un graphe d’interrogation dans un graphe conceptuel fait ainsi que la requête d’interrogation La section 5 présente la requête de sélection La section 6 présente la requête de description La section 7 présente la requête de construction Enfin la section 8 présente notre implémentation et donne quelques éléments pour comparer notre langage d’interrogation des graphes conceptuels avec SPARQL 2 Modèle des graphes conceptuels Le modèle des graphes conceptuels Chein et Mugnier 2009 représente les connaissances par un graphe défini sur un vocabulaire Le vocabulaire définit des ensembles ordonnés de types de concepts et de types de relations Chaque ensemble est ordonné par une relation de spécialisation Un concept peut être spécifié par un individu s’il ne l’est pas alors il est appelé générique Chaque type de relations possède une signature qui renseigne l’arité et le type de concepts de chaque argument Le vocabulaire rassemble l’ensemble des types de concepts 228 M Legeay et al l’ensemble des types de relations et leur signature et l’ensemble des individus Le vocabulaire est utilisé pour étiqueter les sommets du graphe Définition 1 Un vocabulaire est un quadruplet TC TR I σ où – TC l’ensemble des types de concepts est partiellement ordonné par une relation ≤ et possède un plus grand élément – TR l’ensemble des types de relations est partiellement ordonné par une relation≤ et est partitionné en sous ensembles T 1R T k R de types de relations respectivement d’arité 1 k Deux types de relations avec une arité différente sont incomparables – TC et TR sont deux ensembles finis disjoints – I est l’ensemble des marqueurs individuels qui est disjoint de TC et TR est appelé le marqueur générique I∪{ } représente l’ensemble des marqueurs et est ordonné comme suit est plus grand que tous les éléments de I et les éléments de I sont incomparables deux à deux – σ est une application qui associe à chaque type de relations r ∈ T jR 1 ≤ j ≤ k une signature σ r ∈ TC j > Humain Homme Femme Nom · · · Lien2 > > aPourParent Humain Humain aPourPère Humain Homme · · · I = {H1 H2 Jean } FIG 1 – Extrait d’un vocabulaire TC TR I σ avec TC partiellement représenté par l’arbre de gauche TR partiellement représenté par l’arbre de droite et la signature σ de chaque relation est précisée à coté de chaque type de relation Exemple La figure 1 montre un extrait du vocabulaire utilisé dans les exemples suivants Un graphe conceptuel est un multigraphe biparti défini sur un vocabulaire Un des en sembles de sommets est appelé l’ensemble des sommets concepts et l’autre ensemble est appelé l’ensemble des sommets relations représentant les liens entre les concepts Chaque sommet est étiqueté Un sommet relation est étiqueté par un type de relations et un sommet concept est étiqueté par un couple formé d’un type de concepts et d’un marqueur Si un concept c est le i ème argument d’une relation r alors il y a une arête entre c et r étiquetée par i et le type de concepts de c doit respecter les contraintes de la signature de r Un sommet concept individuel est référencé par un marqueur individuel de I Un sommet concept générique est ré férencé par le marqueur générique Nous considérons les graphes sous forme normale deux sommets concepts différents ne peuvent pas être étiquetés par le même marqueur individuel Définition 2 Soit un vocabulaire V = TC TR I σ Un graphe conceptuel défini sur V est un quadruplet G = C R E l qui satisfait les conditions suivantes – C R E est un multigraphe fini non orienté et biparti C est l’ensemble des sommets concepts R est l’ensemble des sommets relations E est l’ensemble des arêtes 1 1 Une arête entre un sommet concept c et un sommet relation r est notée rc 229 Un langage d’interrogation à la SPARQL pour les graphes conceptuels – l est la fonction d’étiquetage des sommets et des arêtes de C R E qui satisfait 1 Un sommet concept c est étiqueté par une paire l c = type c marqueur c où type c ∈ TC et marqueur c ∈ I ∪ { } 2 Deux sommets concepts différents ne peuvent pas être étiquetés par le même indi vidu 3 Un sommet relation r est étiqueté par l r ∈ TR 4 Le degré d’un sommet relation r est égal à l’arité de l r 5 Les arêtes incidentes à un sommet relation r sont totalement ordonnées et étique tées de 1 à l’arité de l r Homme H1 Homme H2 Homme Humain Humain aPourPère aPourPère aPourParent Gf Gr FIG 2 – Projection de Gr dans Gf La projection est l’opération d’interrogation du modèle des graphes conceptuels Soient un graphe requête Gr et un graphe fait Gf définis sur le même vocabulaire Gr se projette dans Gf si les informations représentées par Gr se déduisent de celles représentées par Gf Définition 3 Soient Gr = Cr Rr Er lr et Gf = Cf Rf Ef lf deux graphes concep tuels définis sur le même vocabulaire Une projection π de Gr dans Gf est une application de Cr ∪Rr vers Cf ∪Rf telle que – ∀c ∈ Cr ∀r ∈ Rr si rc ∈ Er alors π r π c ∈ Ef et lr rc = lf π r π c – ∀s ∈ Cr ∪Rr lf π s ≤ lr s Les sommets de Gf qui correspondent aux sommets de Gr sont appelés les images des sommets de Gr par π Exemple Deux graphes conceptuels Gr et Gf sont représentés dans la figure 2 Par souci de lisibilité des graphes présentés ici nous employons la simplification visuelle des relations binaires les arêtes étiquetées 1 resp 2 sont représentées par un arc du concept resp de la relation vers la relation resp le concept Une projection de Gr dans Gf est représentée via les flèches en gras 3 Graphes d’interrogation Alors que dans le modèle classique des graphes conceptuels le graphe requête est un graphe conceptuel ordinaire comme le graphe fait cet article propose de construire des requêtes plus complexes en s’appuyant sur un modèle de requête plus riche qu’un graphe conceptuel ordi naire ce modèle est basé sur les graphes d’interrogation Un graphe d’interrogation permet de préciser des conditions de disjonction ou d’option sur un graphe conceptuel Il est construit en une structuration hiérarchique de blocs qui décrivent un graphe conceptuel un bloc contient une partie du graphe conceptuel et sert à décrire une disjonction une option ou simplement une partie standard du graphe conceptuel 230 M Legeay et al Un bloc est défini comme un ensemble de sommets du graphe associé à un type de bloc Tous les sommets concepts de l’ensemble doivent avoir leurs sommets relations voisins dans l’ensemble ceci permet à un sommet concept du bloc d’être caractérisé par les relations aux quelles il est lié Différents types de blocs permettent d’identifier la condition d’un bloc l’Option le bloc est dit optionnel la Disjonction le bloc est dit de disjonction et le Standard le bloc est dit standard Un bloc optionnel permet d’exprimer que la partie du graphe qu’il contient est facultative on recherche dans le graphe fait un graphe avec la partie optionnelle mais si elle n’est pas trouvée un graphe privé de la partie optionnelle conviendra Un bloc de disjonction est com posé de blocs fils et exprime une disjonction entre ses blocs fils on recherche dans le graphe fait un graphe avec seulement un des fils Définition 4 Soit un graphe conceptuel G = C R E l Un bloc du graphe G est un couple b = S T où – S ⊆ C ∪R est l’ensemble des sommets du bloc tel que ∀c ∈ S ∩ C ∀r ∈ R si rc ∈ E alors r ∈ S – T ∈ {Standard Option Disjonction} est le type du bloc Humain Attribut Emancipé Nom Nom Nom Attribut Adulte prénommé nommé surnommé att att StandardDisjonction Standard Option Standard FIG 3 – Graphe d’interrogation Une arborescence est utilisée afin de structurer les blocs d’un graphe requête Les blocs sont les sommets de l’arborescence Les notions de bloc racine bloc père et blocs fils sont définies grâce au vocabulaire lié aux arborescences La structuration est hiérarchique elle impose que la relation père fils entre blocs vérifie l’inclusion des sommets du bloc fils dans ceux du bloc père et que si deux blocs ont un sommet en commun alors un de ces blocs est un ancêtre de l’autre Définition 5 Soit un graphe conceptuel G = C R E l Une structuration H de G est une arborescence B A r où la racine r est le bloc C ∪ R Standard B étant l’ensemble des blocs de G qui forme l’ensemble des sommets de l’arborescence et A l’ensemble des arcs La structuration est telle que – Soit b = Sb Tb ∈ B \ {r} pere b = Sp Tp alors Sb ⊆ Sp – Soient b = Sb Tb b′ = Sb′ Tb′ ∈ B si Sb ∩ Sb′ 6= ∅ alors Sb ⊆ Sb′ ou Sb′ ⊆ Sb – Soit b = Sb Disjonction alors |fils b | ≥ 2 et Sb = ⋃ Sf Tf ∈fils b Sf Définition 6 Un graphe d’interrogation Gi = G H est un couple où G est un graphe conceptuel etH est une structuration de G Exemple La figure 3 représente un graphe d’interrogation qui possède cinq blocs de graphe représentés par des cadres étiquetés 231 Un langage d’interrogation à la SPARQL pour les graphes conceptuels 4 Projection et requête d’interrogation Les graphes d’interrogation sont utilisés comme base de construction pour chacun des quatre types de requêtes Un graphe d’interrogation peut être développé en un ensemble de graphes conceptuels en suivant les conditions d’option et de disjonction Cet ensemble de graphes conceptuels appelé l’ensemble des graphes développés du graphe d’interrogation représente l’ensemble des graphes conceptuels dont on cherche à savoir s’ils sont déductibles du graphe fait Cet ensemble permet de définir une projection d’un graphe d’interrogation dans un graphe fait comme étant une projection d’un graphe développé dans le graphe fait Pour obtenir un graphe développé à partir d’un graphe d’interrogation des opérations sont appliquées sur le graphe d’interrogation pour aboutir à un graphe ne contenant que des blocs standards Les blocs op tionnels seront retirés ou leur type sera changé en Standard Le type des blocs de disjonction sera changé en Standard et seulement un et un seul de ses fils sera conservé Définition 7 Soit Gi = G H un graphe d’interrogation avecH = B A r Soit b ∈ B un bloc optionnel Le graphe Gi dans lequel le type de b est changé en Standard est un développement de Gi Le graphe Gi dans lequel b est retiré est un développement de Gi Soit b ∈ B un bloc de disjonction Le graphe Gi dans lequel le type de b est changé en Standard et dans lequel tous les fils de b sauf un sont retirés est un développement de Gi Définition 8 Soit Gi = G H un graphe d’interrogation L’ensemble des graphes développés GD de Gi est l’ensemble de tous les graphes concep tuels associés aux graphes d’interrogation ne contenant que des blocs standards obtenus grâce à une suite d’applications de l’opération de développement à partir de Gi Humain Nom Nom Nom Attribut Adulte prénommé nommé surnommé att G1 Humain Nom Nom Attribut Adulte prénommé nommé att G2 Humain Nom Nom Nom Attribut Emancipé prénommé nommé surnommé att G3 Humain Attribut Emancipé Nom Nom prénommé nommé att G4 FIG 4 – Graphes développés Exemple Les graphes conceptuels de la figure 4 forment l’ensemble des graphes développés GD = {G1 G2 G3 G4} du graphe d’interrogation Gi figure 3 Pour définir la projection d’un graphe d’interrogation dans un graphe fait on construit les projections des graphes développés dans le graphe fait La projection d’un graphe développé est généralement une projection du graphe d’interrogation L’exception est due à la sémantique 232 M Legeay et al de l’option en effet la partie optionnelle d’un graphe doit être présente dans la réponse si elle est présente dans le graphe fait dans ce cas les projections qui ne contiendraient pas le bloc optionnel ne sont pas des projections du graphe d’interrogation Notons que ces dernières projections sont prolongées 2 par la projection contenant les informations optionnelles On définit donc l’ensemble des projections d’un graphe d’interrogation dans un graphe conceptuel comme l’ensemble des projections des graphes développés du graphe d’interrogation privé des projections prolongées Définition 9 Soient un graphe d’interrogation Gi = G H un graphe conceptuel Gf défini sur le même vocabulaire V que G et l’ensemble des projections ΠGD des graphes développés GD de Gi dans Gf L’ensemble des projections du graphe d’interrogation Gi dans Gf est Π = {π ∈ ΠGD| π′ ∈ ΠGD π ⊂ π′} Homme H1 Attribut Emancipé Homme H2 Homme H3 Femme F1 Attribut Mineur Nom Jean Nom Dupont Nom Lucie Nom Lulu prénommé nommé att aPourPère aPourPère prénomménommé surnomméaPourPère att nommé FIG 5 – Graphe conceptuel Gf Une requête d’interrogation permet de vérifier si une information est déductible de la base de connaissances Ce type de requête correspond à l’interrogation classique du modèle des graphes conceptuels en l’enrichissant ici de disjonctions et d’options Une requête d’in terrogation n’est donc composée que d’un graphe d’interrogation Une réponse à une requête d’interrogation est simplement une projection du graphe d’interrogation de la requête dans le graphe fait Définition 10 Soit un graphe conceptuel Gf défini sur un vocabulaire V Une requête d’interrogation est un graphe d’interrogation Gi = G H G étant défini sur V Une réponse à une requête d’interrogation Gi est une projection π de Gi dans Gf Homme H1 Nom Jean Nom Dupont Attribut Emancipé prénommé nommé att FIG 6 – Image d’une projection de Gi dans Gf Exemple Le graphe d’interrogation Gi de la figure 3 peut être utilisé comme requête d’inter rogation Il n’existe qu’une projection de Gi dans Gf figure 5 La figure 6 montre l’image de la réponse à la requête d’interrogation 2 Une fonction f D → I prolonge une fonction f ′ D′ → I′ noté f ′ ⊂ f si D′ ⊂ D I′ ⊆ I et ∀d ∈ D′ f d = f ′ d 233 Un langage d’interrogation à la SPARQL pour les graphes conceptuels 5 Requête de sélection Dans une requête d’interrogation l’image de certains sommets peut être plus importante que l’image des autres sommets de la requête Cet article propose un type de requête dans lequel on peut identifier les sommets jugés importants et dont on veut retenir les images par la projection du graphe d’interrogation la requête de sélection Une requête de sélection est donc un couple composé d’un graphe d’interrogation et d’une fonction de nommage qui associe à des noms à sélectionner des sommets du graphe Définition 11 Soit un ensemble de noms N Une requête de sélection est un couple Rs = [Gi select] où Gi = G H est un graphe d’interrogation avec G = C R E l et où select est une fonction de nommage définie comme suit select N → C ∪R Une réponse à une requête de sélection est une fonction qui associe à chaque nom de l’ensemble des noms à sélectionner de la requête un sommet du graphe fait Si le graphe d’interrogation se projette dans le graphe fait les noms à sélectionner seront associés avec l’image dans le graphe fait si elle existe du sommet du graphe d’interrogation auxquels ils sont liés Un sommet peut ne pas avoir d’image par la projection dans ce cas le nom n’est associé à aucun sommet Humain Nom Nom Nom Jean Nom Lucie Nom Lulu prénommé nommé Standard Option surnom prénomGi Réponses prénom surnom prénom surnom Nomsurnommé FIG 7 – Requête de sélection et ses deux réponses Définition 12 Soient un graphe conceptuel Gf = Cf Rf Ef lf une requête de sélection Rs = [Gi select] avec select définie sur l’ensemble de noms N et une projection π de Gi dans Gf Une réponse à la requête de sélection Rs est une fonction partielle de N dans Cf ∪ Rf associant à chaque élément n de N le sommet π select n de Gf s’il existe Exemple La figure 7 montre une requête de sélection Rs = [Gi select] où la fonction de nommage select définie sur N = { prénom surnom} est représentée sur Gi La requête permet de connaître le prénom et s’il existe le surnom de tous les humains du graphe fait Les deux réponses à l’exécution de Rs dans Gf figure 5 sont présentées en partie droite de la figure 7 6 Requête de description La requête de sélection permet d’obtenir les images des sommets qui intéressent l’utilisa teur la requête de description permet elle d’obtenir non seulement les images des sommets 234 M Legeay et al qui intéressent l’utilisateur mais aussi leur description La description d’un sommet est for mée par les sommets voisins qui apportent des informations sur ce sommet Une requête de description est un couple composé d’un graphe d’interrogation et d’une fonction de nommage qui à un nom de l’ensemble des noms à décrire associe un sommet du graphe Étant donné que seuls les concepts peuvent être décrits l’ensemble à décrire ne doit contenir que des noms se référant à des sommets concepts Définition 13 Soit un ensemble de noms N Une requête de description est un couple Rd = [Gi desc] où Gi = G H est un graphe d’interrogation avecG = C R E l et où desc est une fonction de nommage définie comme suit desc N → C Une réponse à une requête de description est un sous graphe du graphe fait dans lequel figurent les images des concepts à décrire les relations qui sont liées à ces concepts par une arête étiquetée par 1 et les concepts liés à ces relations Seules les relations reliées par une arête étiquetée par 1 sont sélectionnées puisque se sont les relations dont le concept à décrire est le sujet Homme H3 Humain HommeaPourPère Standard père Gi Réponses Homme H2 Homme H3 Nom Dupont aPourPère nommé Homme H2 Homme H3 Nom Dupont aPourPère nommé FIG 8 – Requête de description et ses trois réponses Définition 14 Soient un graphe conceptuelGf = Cf Rf Ef lf une requête de description Rd = [Gi desc] avec desc définie sur l’ensemble de noms N une projection π de Gi dans Gf et l’ensemble des sommets Sπ du graphe conceptuel de Gi qui ont une image dans Gf par π Une réponse à la requête de description Rd est un sous graphe Gd = Cd Rd Ed ld de Gf tel que 1 C0 = {π desc d |d ∈ N desc d ∈ Sπ} 2 Rd = {r ∈ Rf |rc ∈ Ef c ∈ C0 lf rc = 1} 3 Cd = C0 ∪ {c ∈ Cf |rc ∈ Ef r ∈ Rd} 4 Ed = {nn′ ∈ Ef |n n′ ∈ Cd ∪Rd} 5 ∀n ∈ Cd ∪Rd ∪ Ed ld n = lf n Exemple La figure 8 montre une requête de description Rd = [Gi desc] où la fonction de nommage desc définie sur N = { père} est représentée sur Gi La requête permet de décrire tous les humains qui sont pères Les trois réponses à l’exécution de Rd dans Gf figure 5 sont présentées en partie droite de la figure 8 H2 et H3 sont pères mais H2 est père à la fois de H1 et de F1 235 Un langage d’interrogation à la SPARQL pour les graphes conceptuels 7 Requête de construction Une requête de construction est composée de deux graphes un graphe d’interrogation appelé graphe condition et un graphe conceptuel appelé graphe modèle Le principe d’une requête de construction est d’une part d’extraire des informations du graphe fait à l’aide du graphe condition qui doit se projeter dans le graphe fait et d’autre part d’exploiter ces in formations afin de construire un nouveau graphe conceptuel appelé graphe réponse à partir du graphe modèle Une requête de construction peut être vue comme une règle Salvat 1998 dont la partie condition est définie par le graphe condition et la partie conclusion est obtenue par le graphe modèle Pour lier les sommets du graphe condition à ceux du graphe modèle on utilise une fonction lien qui associe à un sommet du graphe condition un sommet du graphe modèle Un sommet du graphe condition qui est lié à un sommet du graphe modèle doit avoir la même étiquette que ce dernier Notons qu’en utilisant l’extension des types conjonctifs Chein et Mugnier 2004 il serait possible que deux sommets liés ne possèdent pas la même étiquette Définition 15 Une requête de construction est un triplet Rc = [Gi Gm lien] où Gi = G H avec G = C R E l est un graphe d’interrogation appelé graphe condition Gm = Cm Rm Em lm est un graphe conceptuel appelé graphe modèle tels que G et Gm sont définis sur le même vocabulaire lien est une fonction partielle définie comme suit lien C ∪ R → Cm ∪ Rm et tout sommet s de G lié au sommet lien s = s′ de Gm possède la propriété suivante l s = lm s′ Une réponse à une requête de construction est un graphe réponse construit sur le modèle du graphe modèle comme suit Les sommets du graphe modèle liés aux sommets du graphe condition sont étiquetés par les images des sommets du graphe condition dans le graphe fait Les sommets qui ne sont pas liés dans le graphe modèle gardent leurs étiquettes Il se peut que des sommets du graphe condition ne possèdent pas d’image par la projection les sommets liés au graphe modèle sont alors retirés du graphe réponse ainsi que toutes les relations éventuel lement connectées à ces sommets Ce cas se présente lorsqu’un sommet du graphe modèle est lié à un sommet du graphe condition qui appartient à un bloc option ou de disjonction Définition 16 Soient un graphe conceptuel Gf = Cf Rf Ef lf une requête de construc tion Rc = [Gi Gm lien] avec Gi = G H où G = C R E l et avec Gm = Cm Rm Em lm une projection π de Gi dans Gf et l’ensemble Sπ des sommets de G qui ont une image dans Gf par π Une réponse à la requête de construction Rc est un graphe conceptuel appelé graphe ré ponse Gr = Cr Rr Er lr tel que – Cr = Cm \ {c = lien c′ ∈ Cm|c′ ∈ C c′ ∈ Sπ} – Rr = Rm \ {r = lien r′ ∈ Rm|r′ ∈ R r′ ∈ Sπ} \ {r ∈ Rm|rc ∈ Em c ∈ Cr} – Er = {nn′ ∈ Em|n n′ ∈ Cr ∪Rr} – lr est définie de la façon suivante ∀s ∈ Cr ∪Rr ∪ Er si ∃s′ ∈ C ∪R tel que s = lien s′ lr s = lf π s′ sinon lr s = lm s Exemple La figure 9 montre la requêteRc = [Gi Gm lien] où la fonction lien est représentée directement sur le graphe via les pointillés Cette requête peut s’apparenter à une règle qui dit que si un humain a pour parent un autre humain alors ce dernier est un parent du premier mais 236 M Legeay et al Humain Humain Humain Humain Homme H2Homme H1 Homme H3Homme H2 Homme H2Femme F1 Homme H3parentDe aPourParent parentDe parentDe parentDe Standard Option RéponsesGi Gm FIG 9 – Requête de construction et ses quatre réponses si cet humain n’a pas de parent personne n’est son parent Les quatre réponses à l’exécution de Rc dans Gf figure 5 sont présentées en partie droite de la figure 9 8 Conclusion Cet article présente les graphes d’interrogation utilisés pour interroger un graphe concep tuel représentant une base de connaissances grâce à la projection d’un graphe d’interrogation dans un graphe conceptuel Les graphes d’interrogation sont utilisés dans quatre types de re quêtes fournissant ainsi au modèle des graphes conceptuels un langage d’interrogation riche L’aspect visuel du modèle d’interrogation est un choix important qui a été privilégié pour rester proche des caractéristiques du modèle des graphes conceptuels Un prototype implémente ce langage d’interrogation en utilisant la bibliothèque Cogitant Genest 2014 Deux extensions au modèle des graphes conceptuels peuvent être considérés dans notre approche La première extension ajoute les datatypes aux types de concepts Raimbault et al 2009 Les datatypes permettent d’étiqueter les concepts avec des valeurs comme string int ou date et d’utiliser les opérateurs < ¬ ≤ pendant la projection La seconde ex tension permet à un sommet d’être étiqueté par des types conjonctifs Chein et Mugnier 2004 Brièvement l’adaptation de l’extension des datatypes à notre langage requiert d’associer une expression avec un sommet datatype à l’aide de noms dans les blocs Les noms seraient obte nus grâce à une fonction de nommage associée directement avec le graphe d’interrogation qui nomme ainsi les sommets datatypes L’expression permet de filtrer les valeurs que le concept associé peut prendre lors de la projection grâce aux opérateurs Brièvement l’adaptation de l’extension des types conjonctifs à notre langage permet de ne pas obliger que deux sommets liés dans une requête de construction soient étiquetés de la même manière Ainsi un sommet d’une réponse à une requête de construction peut être étiqueté par la conjonction des types de concept du graphe modèle et du graphe fait Puisque notre langage d’interrogation pour les graphes conceptuels s’inspire de SPARQL une comparaison de ces deux langages s’impose Cela requiert d’étudier les différences et similarités entre le modèle des graphes conceptuels et RDF ainsi que de comparer les re quêtes SPARQL avec les requêtes graphes conceptuels Baget et al 2010 définit RDFS un sous ensemble de RDF tel que la transformation entre RDFS et les graphes conceptuels est naturelle Des travaux futurs s’intéresseront à la définition de SPARQL un sous ensemble de SPARQL pour interroger une base de connaissances RDFS Une requête SPARQL resp requête graphes conceptuels se transformerait en requête graphes conceptuels resp requête SPARQL et la réponse d’une requête graphes conceptuels resp requête SPARQL contien 237 Un langage d’interrogation à la SPARQL pour les graphes conceptuels drait les mêmes connaissances que la réponse à la requête SPARQL resp requête graphes conceptuels L’interrogation des graphes conceptuels pourrait en conséquence servir d’inter face visuelle à SPARQL et simplifier l’interface des requêtes SPARQL Références Baget J F M Croitoru M Leclère et M L Mugnier 2010 Translations between RDF S and Conceptual Graphs In ICCS’10 18th Int Conf on Conceptual Structures Volume 6208 of LNAI pp 28–41 Springer Brickley D et R V Guha 2004 RDF Vocabulary Description Language 1 0 RDF Schema Chein M et M L Mugnier 2004 Concept types and coreference in simple conceptual graphs In ICCS’04 12th Int Conf on Conceptual Structures Volume 3127 of LNAI pp 303–318 Springer Chein M et M L Mugnier 2009 Graph based knowledge representation computational foundations of conceptual graphs Springer Corby O et C Faron Zucker 2007 Implementation of SPARQL query language based on graph homomorphism In ICCS’07 15th Int Conf on Conceptual Structures Volume 4604 of LNAI pp 472–475 Springer Garlik S H A Seaborne et E Prud’hommeaux 2013 SPARQL 1 1 query language World Wide Web Consortium Genest D 2014 Cogitant 5 3 0 reference manual cogitant sourceforge net files cogitant pdf Manola F E Miller et B McBride 2004 RDF primer W3C recommendation McGuinness D L F Van Harmelen et al 2004 OWL web ontology language overview W3C recommendation Raimbault T D Genest et S Loiseau 2009 Conceptual Graphs and Datatypes In ICCS’09 17th Int Conf on Conceptual Structures Volume 5662 of LNAI pp 270–283 Springer Salvat E 1998 Theorem Proving Using Graph Operations in the Conceptual Graph Forma lism In ECAI pp 356–360 Sowa J F 1984 Conceptual Structures Information Processing in Mind and Machine Addison Wesley Summary This paper proposes a general query language for conceptual graphs First we introduce kernel query graphs A kernel query graph can be used to express an “or” between two sub graphs as well as an “option” on an optional sub graph Second we propose a way to express four kinds of queries ask select describe and construct using kernel query graphs Third the answers of queries are computed by an operation based on graph homomorphism 238 D Sémantique et Ontologies Un langage d'interrogation à la SPARQL pour les graphes conceptuels Marc Legeay David Genest Stephane Loiseau