articles assemblage pdfInterrogation résumés données Nesrine Gabsi Fabrice Clérot Georges Hébrail Institut TELECOM TELECOM ParisTech Barrault 75013 Paris prénom telecom paristech France Telecom avenue Marzin 22307 Lannion prénom orange ftgroup Résumé systèmes gestion données conçus traiter masse importante données produites ligne façon continue Etant donné ressources matérielles permettent conser toute cette volumétrie seule partie récente mémorisée mémoire Ainsi requêtes évaluées systèmes peuvent données récentes conséquent tuels peuvent traiter requêtes portent périodes longues proposons article approche permettant évaluer requêtes portent période longue mémoire fenêtres appels données récentes données historisées présentons niveau logique cette approche ainsi implantation technique échantillonnage associée technique fenêtre point repère appliquée conserver représentation compacte données Introduction Contrairement systèmes transactionnels classiques données conservées avant traitées Systèmes Gestion Données Babcock 2002a effectuent traitement volée seule passe conservation priori données permettent poser requêtes continues Compte volume débit données conservent données récentes celles passé récent structures appelées fenêtres données peuvent analysées posteriori ainsi nécessaire besoin analyse préciser priori tâche avant arrivée données Cependant nouveau besoin portant données écoulées exprimé tâches réalisables solution permettant traitement posteriori consiste conserver résumé résumer contenu façon construire modèle résumé beaucoup petit taille permet répondre tâches manière approchée Interrogation résumés données résumés typiquement stockés bases données permettant utilisateurs interroger langage interrogation classique conservation permet poser requêtes passé Cependant plusieurs applications nécessaire poser requêtes portent données passé données histo riques mémorisées résumé données présent données conservées mémoire exemple requête domaine financier consiste envoyer alerte indice boursier observé dernières heures écarte celui observé évaluation telles requêtes certain nombre problèmes traitement requête porte période longue réalisée capables prendre considération période récente capables prendre compte passé papier présente nouvelle approche permettant évaluer requêtes portent longue période nécessitant ainsi données présent données passé Travaux connexes Généralement existe trois scénarios possibles évaluer requêtes système gestion données premier consiste interroger données archivées données histo riques présentent système avant arrivée requêtes largement étudié traditionnels second scénario consiste poser requêtes continues données éphémères recherche sujet permis développer ainsi nouveaux langages interrogation Arasu permettent traiter données récente dernière classe requêtes intervenir archivée données récentes interrogation telles requêtes sujet récent encore ouvert Chandrasekaran Franklin auteurs intéressent traitement requêtes intervenir passé générale consiste évaluer requêtes portent données présent concaténées données historiques Cependant article intéresse requêtes courtes durées minutes plage horaire précise journée semaine minimiser entrées sorties interrogation revanche cette communication notre intérêt porte périodes temporelles glissantes1 longues durées années existe plusieurs approches résumé approches dites simples Reservoir pling Vitter approches dites complexes StreamSamp Csernel interrogation résumés simples triviale qualité résultats médiocre reservoir sampling poids associés échantillons augmentent linéairement insatisfaisante qualité réponses requêtes Tandis interrogation complexes difficile fournit meilleur performance article présente inter rogation résumé complexe précisément résumés conçus approche StreamSamp StreamSamp StreamSamp technique échantillonnage aléatoire données arrivée données échantillonnées placées aspect glissant fenêtres concerne partie récente partie historique Gabsi échantillons taille Lorsque atteint algorithme mémorise échan tillon ainsi début constitution Lorsque échantillons constituée algorithme fusionne anciens échantillons former échantillonnage aléatoire nouvel échantillon taille couvrant ainsi période temporelle grande consiste ainsi conserver échantillons taille constante étalent périodes temporelles durée variable courtes présent longues passé lointain modéliser représentativité échantillons algorithme système pondération croissante Csernel détails fonctionnement algorithme Spécification problème cette communication sommes intéressés évaluation requêtes brides Définition requête hybride porte données anciennes données récentes données anciennes disponibles forme résumé données données récentes forme grandes familles requêtes hybrides peuvent distinguer requêtes référen données récentes période passée vérifier indices boursiers actuels écartent moyenne requêtes référen périodes récentes période passée mobile requête permet détecter éventuelles fraudes systèmes bancaires comparant activité actuelle carte crédit activité derniers jours glissants traitement première catégorie requête simple suffit appliquer seule requête résumé enchaîner suite traitement fenêtre glissante données récentes Tandis traitement seconde catégorie requête compliqué puisqu requête glissante données systèmes gestion données existants posent outils nécessaires traitements objectif lequel travail consiste étendre existant enrichir façon pouvoir évaluer requêtes glisantes portant données associée utilisateur définit requêtes continue période longueur items Cette requête réévaluée items2 nombre items conserver mémoire items traités forme fenêtre glissante jusqu situations peuvent résulter cette description totalité période décrite requête utilisa mémorisée mémoire Ainsi cette requête traitée mécanisme classique requête posée utilisateur porte données peuvent mémorisées totalité mémoire figure système ainsi combiner traitement données stockées résumé période données présentes mémoire période traitons article approche définit section suivante consiste mettre fenêtre temporelle comprenant données nécessaires évaluation paramètre utilisateur Interrogation résumés données Exemple fenêtre faisant appel données passé données récentes requête Cette fenêtre chaque items insérés mémoire Approche proposée article considérons observé instants mesure arrivée items traité algorithme résumé considérons résumé échantillonnage aléatoire conservé arrivée disposons ainsi échantillon toute fenêtre passé simplifier considérons requêtes agrégat appliquées ensemble période interrogée fenêtres logiques exprimées terme nombre items traité requêtes peuvent alors estimées partir échantillons conservés quantifier imprécision utilisation résumé intervalle confiance associé réponse requête difficultés généraliser requêtes réalisant sélection définie condition attributs quantitatifs qualitatifs pouvoir répondre requêtes définies précédemment maintenons bleaux mémoire centrale3 premier tableau couvre période ensemble éléments satisfont requête utilisateur inclus mémoire tableau maintenu façon standard second tableau THist couvrant période contient items satis requête utilisateur extraits partir résumé résumé élaboré utilisant algorithme StreamSamp conservé disque table nommée Résumé chaque rafraîchissement fenêtre temporelle tableau façon standard tableau THist aussi items ayant timestamp inférieur supprimés remplacés items extraits appartiennent intervalle 3Nous supposons dispose espace nécessaire maintenir mémoire centrale tableaux Gabsi Temps latence Débit approche décrite dessus puisse fonction correctement assurer instant items timestamp inférieur sauvegardés résumé délai nécessaire traiter écrire valider résumé disponible partir instant débit arrivée items fenêtre temporelle items couvre période assurer fonctionnement approche contrainte respectée Cependant pratique difficile débit temps latence contrainte porte alors items arrivent débit variable cette contrainte appliquée débit maximum Toutefois cette condition satisfaite pouvons envisager technique échantillonnage fenêtre glissante Ainsi fenêtre taille contient items récents plutôt échantillon aléatoire taille correspondant items Babcock 2002b algorithme Implantation approche proposée avons testé solution proposée Esper technique résumé utilisée StreamSamp Csernel travail antérieur Gabsi permit évaluer performances cette approche résumé Esper Esper source utilisé communauté active ensemble bibliothèques permettant déclarer schéma ainsi créer requêtes continues requêtes peuvent appliquer trois types fenêtres glissantes sautantes partitionnées Esper items appelés événements requête reçoit entrée événements fournit sortie événements individuels plusieurs événements chaque événement événements serveur Esper5 invoque méthode appelée update arguments cette méthode tableaux remplis volée serveur Esper exécution requête tableau oldEvents contient dernier événement expiré fenêtre alors tableau newEvents contient dernier événement inséré fenêtre Implantation approche Esper implantation approche Esper définition nouvel opérateur fenêtrage opérateur reçoit paramètres utilisateur permet spécifier taille fenêtre laquelle appliquer requête permet préciser rafraîchissement résultat idéal nombre items système fonction charge cependant implantation proposé paramètre supplémentaire définition fenêtre items fenêtre présent prise charge Esper Cependant données passé tableau maintenu mémoire centrale contient items ainsi leurs poids nécessaires évaluation requête maintenir fenêtre glissante données chaque invocation méthode update supprime tableau items ayant expiré fenêtre requête 4Event Processing Language Langage interrogation Esper tâche serveur Esper consiste compiler enregistrer exécuter requêtes Interrogation résumés données appliquée résumés nouveaux items extraits insérés bleau Après tableau algorithme méthode update appel fonctions calcul agrégats intervalle confiance algorithme dessous illustre fonctionnement méthode update Esper Algorithm update Require Taille fenêtre intérêt Agrégat requête Tableaux THist Nombre items mémoire rafraîchissement fenêtre Update automatique while THist taille THist Timestamp THist Supprimer Supprimer indice tableau THist while SELECT Résumé WHERE Timestamp BETWEEN Résultat Exécuter_requête THist Ajouter Résultat Insertion nouveaux éléments tableau Réponse Fonction_Agrégat return Réponse Esper fournit fonctions agrégats intervalles confiance offre possibilité implanter nouvelles fonctions Ainsi fonctions faisant intervenir dération items fournissant intervalle confiance agrégat développer requête utilisateur illustrée dessous appliquée Flux_CONSO ayant structure suivante Timestamp id_Client Consommation Cette requête permet retourner consommation moyenne électricité fenêtre taille items rafraîchissement items SELECT CONSOMMATION Flux_CONSO évaluation cette requête permet retourner valeurs valeur estimateur moyenne ainsi intervalle confiance calculer intervalle confiance agrégat appel théorie sondages exemple dessous illustre calcul bornes intervalle confiance agrégat moyenne partir échantillon taille taille tableaux THist concaténés poids Gabsi solution proposée coûteuse étant donné chaque effectuée fenêtre glissante éléments supprimées tableau THist remplacés items suivent extraits Conclusion perspectives génération actuelle Systèmes gestion données conçue misée interroger présent révèle inadaptée interrogation passé Cependant plusieurs applications telle applications décision cessaire interroger seulement présent également passé article avons proposé nouvelle approche permettant répondre besoin telles plications implantation cette approche proposée utilisant Esper comme système gestion données StreamSamp comme algorithme résumé évaluer requêtes quantifier imprécision utilisation résumés fonctions doivent implantées Esper perspective travail étudier fenêtres physiques ailleurs travaux étude performances technique posée cours Références Arasu Widom continuous query language Semantic dations query execution Technical report Journal Babcock Datar Motwani Widom 2002a Models issues stream systems Babcock Datar Motwani 2002b Sampling moving window strea Philadelphia Chandrasekaran Franklin Remembrance streams Overload sensitive management archived streams Csernel Clérot Hébrail Streamsamp Datastream clustering tilted windows through sampling Gabsi Clérot Hébrail Résumé hybride données échantillon classification automatique Vitter Random sampling reservoir Trans Softw Summary Stream Management Systems designed process large amounts Given hardware resources cannot store recent stream stored buffer Therefore cannot handle queries relate periods propose paper approach evaluate queries include recent periods present definition approach implementation using Esper