Résumés interrogations requêtes Julien Aligon Patrick Marcel Negre Université François Rabelais Tours Laboratoire Informatique place Jaurès 41000 Blois prénom tours Résumé façon assister analyse entrepôt données repose ploitation fouille fichiers requêtes notre connais sance existe méthode permettant obtenir représentation concise exploitable papier proposons méthode résumer interroger requêtes requête résume autre requête séquence requêtes résume autre Notre cadre formel composé algèbre simple destinée résumer requêtes mesure évaluant qualité résumé obtenu proposons également plusieurs stratégies calculer automatiquement résumés bonne qualité montrons propriétés simples résumés peuvent utilisées interroger efficacement tests requêtes montré intérêt notre approche Introduction maintenant établi exploitation requêtes aider utilisateur grandes bases données entrepôts données Khoussainova particulièrement contexte collaboratif exemple proposer recomman dations Chatzopoulou Giacometti 2009a Stefanidis notre connaissance simple fournir utilisateur représentation concise résumé apparaît grande taille rarement abordé littérature Khoussainova résumé aurait nombreux avantages comme aider administrateur paramétrer serveur indique membres fréquemment accédés permettre utilisateur avoir première genre requêtes lancées autres utilisateurs aider utilisateur lancer nouvelles sessions analyse exemple refaisant écrire nouvelles requêtes partant prenant exemple article développons travaux entrepris résumé requêtes Aligon 2010a proposions langage manipulation requêtes résumer requêtes mesure qualité résumé rithme glouton construction automatique résumés requêtes utilisant Résumés interrogations requêtes dimensions notre exemple jouet cette proposons nouvel algorithme calcul résumés langages étudions propriétés indiquons comment propriétés utilisées interroger Finalement présentons implémentation notre cadre quelques tests illustrant efficacité papier organisé comme section suivante motive présente notre approche rappelons notre cadre sections ajoutant propriétés opérateurs section présentons notre nouvel algorithme résumé introduisons quelques propriétés résumés obtenus langages section présente exploitation propriétés notre cadre interroger section présente notre implémentation tests conduits discutons travaux connexes concluons section Motivation présentation intuitive cette section illustrons exemple jouet intérêt notre méthode fonctionnement exemple données décrivant ventes boissons dimensions données Figure Considérons requêtes lancées utilisateur entrepôt loggées forme séquence chaque requête demande respectivement ventes Pepsi Paris Marseille ventes régions North South ventes Orangina second semestre régions North South abord notons plusieurs manières résumer pertinentes exemple résumant seule requête mentionnant membres fréquemment interrogés intéressera administrateur souhaitant savoir quels indexes positionner notre exemple telle requête demanderait ventes régions North South requête autre manière résumer permettrait utilisateur savoir grossièrement forme requête interrogeant ventes France utilisateur intéressé détails pourra ensuite interroger trouver requêtes précises autre intérêt résumé compact pouvoir utilisé amont rendre interrogation efficace papier proposons résumés soient exprimés manière flexible clarative langage manipulation requêtes appelé expressions définies cette algèbre permettent résumer plusieurs requêtes combinant forme seule requête appliquer principe proposons algorithme construisant Aligon expressions résumer séquences qualité résumés ainsi produits évaluée biais mesure étendant mesures classiques rappel préci langage cette section définissons formellement notre langage résumé requêtes Définitions préliminaires Comme notre langage résumé requêtes adapté requêtes commen définir requête Notons article intéressons résultat requête sorte définition résultat requête donnée dimensionnel défini comme instances relation schéma étoile instance relation chacune dimensions instance relation table faits dimension schéma membre constante dimension considérons membres arrangés selon hiérarchie notons couvre membre ancêtre cette hiérarchie référence cellule cellule uplet membre dimension définissons requêtes multidimensionnelles comme ensembles références peuvent exprimés comme produits cartésiens multi ensembles raison laquelle utilisons multi ensembles ainsi pouvons définir opérateurs comptent nombre occurrences membres dimensionnel multi ensemble membres dimension requête multi ensemble références séquence requêtes notée ensemble requêtes apparaissant queries suite considérons dimensionnel nitions suivantes varie entre requête donnée multi ensemble membres dimension requête notée multi ensemble ensemble fonction retournant occurrences chaque élément Exemple Considérons trois requêtes notre exemple décrit précédente avons Pepsi July08 Paris Marseille Cette requête ensemble références Pepsi July08 Paris Marseille ensembles références July08 North South Orangina North South opérateurs langage algébrique composé opérateurs unaires binaires manipulent requêtes retournent requête appelée requête résumée résumé rateurs construisent nouvelle requête partir celle paramètre traitant chaque Résumés interrogations requêtes dimension indépendamment autres présentons maintenant formellement opérateurs commençant opérateurs binaires opérateurs ensemblistes siques Garcia Molina étendus plusieurs dimensions ainsi opérateur priorité retourne requête parmi paramètres Définition Opérateurs binaires Soient requêtes opérateur Soient requêtes opérateurs unaires nombre mostfreq retourne requête donnée paramètre requête laquelle seuls membres fréquents chaque dimension retenus retourne requête donnée paramètre requête laquelle seuls membres couvrants chaque dimension retenus selon hiérarchie dimension retourne requête donnée paramètre requête laquelle seuls petits ancêtres communs membres chaque dimension retenus selon hiérarchie dimension Définition Opérateurs unaires requête telle mostfreq désigne restriction fonction ensemble fonction retourne ensemble donné membres dimension ancêtre commun selon Exemple Considérons premières requêtes Exemple avons Pepsi July08 July08 Paris Marseille North South July08 Pepsi Paris Marseille mostfreq July08 July08 Paris Marseille North South Pepsi July08 July08 North South France Considérons composé trois requêtes résumons gardant références communes toutes requêtes obtenons résumons fonction fréquences requêtes obtenons mostfreq July08 July08 North North South South résumons fonction obtenons France Propriétés opérateurs donnons maintenant quelques propriétés simples aisément démontrables vérifiées opérateurs Certaines propriétés comme distributivité mutativité utilisées implémentation notre cadre Soient requêtes opérateurs conservent leurs propriétés classiques mostfreq idempotents mostfreq mostfreq mostfreq Aligon distributif associatif commutent Finalement mostfreq Mesure qualité résumé Cette section présente mesure utilisée évaluer qualité résumé introdui cette mesure intuitivement donnons définition formelle avant conclure propriétés opérateurs cette mesure Intuition cherchons évaluer requête correspond ensemble références requêtes résume fidèlement autre requête autre opéra teurs résument conservant ajoutant retirant références requêtes résumer constituer résumé manière évaluer cette fidélité mesurer proportion ajouté enlevé opérateur sommes tournés mesures rappel précision classiques recherche information notre mesures vraient étendues prendre compte relation couverture exploitée opéra teurs exemple considérons expression exemple résumant France Cette expression résume retirant toutes références ajoute référence France donne rappel précision nulle pourrait considérer résumé fidèle référence ajoutée couvre références retirées rappel serait excellent précision dépendrait nombre références couvertes référence ajoutée présentes références retirées Ainsi proposons étendre rappel précision prise compte relation couverture général possible choisissons relation couverture définie références puisque requêtes peuvent assimilés ensembles références Ainsi définie manière générale cette mesure présente intérêt pouvoir appliquée requêtes importe couple ensembles références Définitions propriétés définissons abord notion couverture référence autre couverture ensemble références Définition Couverture référence couvre référence ensemble références cover covers Reprenons exemple Appelons cover Pepsi Orangina July08 August08 September08 October08 November08 December08 Paris Blois Marseille cover cover Pepsi July08 Paris Marseille Résumés interrogations requêtes July08 Blois cover avons cover cover attend rappel maximum précision mauvaise Ainsi proposons rappel mesurant proportion références cover trouvées cover rapport références cover favorisant maximal lement précision mesurera proportion références cover trouvées cover rapport références cover favorisant maximal évidemment résumé ensemble alors considérons Définition measure Soient ensembles ensemble dimensions permettant calculer couverture recall défini cover cover cover precision définie cover cover cover mesures agrégées mesure classique measure Notons opérateurs maximisent recall precision opérateur opérateur conduisent recall precision étant entre autres opérateurs conduisent precision recall étant entre Finalement propriété suivante aisément démontrable Propriété measure maximale Soient ensembles semble dimensions permettant calculer couverture measure seulement couvrent exactement ensemble références Résumé cette section présentons algorithmes permettant résumer utilisant mesure qualité définie dessus détail algorithmes disponible Aligon 2010b Algorithmes résumé algorithme SummarizeLog algorithme glouton résume résumant cessivement requêtes moyen opérateurs jusqu atteindre taille donnée expression employée celle maximise mesure qualité faisant varier choix expression utilise stratégies première teste chaque requête couple requêtes consécutives quelle opération maximise qualité expression alors application cette opération stratégie seconde teste chaque couple requêtes consécutives quelle opération binaire maximise qualité applique cette ration teste résultat opérateur unaire maximise qualité expression alors forme opérateur unaire opérateur binaire stratégie résumé également résumé appelons query ensemble requêtes impliquées expression qualité testée chaque itération SummarizeLog qualité locale entre requêtes intervenant expression résultat expression qualité globale pourra évaluée entre initial résumé Aligon Propriétés résumés Notons abord résumé définit partition construction chaque requête définie expression impliquant séquence distincte requêtes Propriété Partitionnement résumé définit partition chaque résume expression séquence quences ainsi résumées étant disjointes recouvrant intégralité utilisant propriétés opérateurs identifions langages parti culiers appelés respectivement langage composé opérateurs misant recall langage composé opérateurs maximi precision mostfreq langages conduisent propriétés simples Appelons requête member ensemble membres paraissant member ensemble requêtes member member Propriété Requête obtenue requête définie expression membre existe membre member alors member query member query contre member alors member query Cette propriété indique notamment résumé construit uniquement rations maximisant recall membre couvert membre résumé apparaît requêtes intervenant expression propriété duale concerne precision Propriété Requête obtenue requête définie expression membre member alors member query propriétés étendent trivialement résumés Propriété Résumé obtenu résumé construit expressions partir membre couvert membre alors aucun couvert apparaît contre couvre membres couvre membres Propriété Résumé obtenu résumé construit expressions partir membre apparaissant apparaît nécessairement section suivante illustre intérêt propriétés Interrogation cette section illustrons utilisation propriétés données dessus interro efficacement utilisant résumés accéder uniquement ensembles considérons recherches simples comme exemple existe Résumés interrogations requêtes requêtes comportent membre membre couvert Quelles requêtes comportent membre croisement membre couvert Quelles requêtes suivent requête comportant membre recherches exprimées opérations suivantes Définition Recherche membre lookup queries members lookupDescendant queries members getQueries queries members getCoveredQueries queries members getSuccessors queries queries members Supposons résumés soient disponibles premier construit second construit décrivons brièvement algorithmes implémentation opérations algorithmes détaillés Aligon 2010b Considérons opération lookup propriétés assurent alors lookup couvert membre alors lookup false contraire propriétés assurent suffisant chercher parmi requêtes figurant définition requêtes membre couvre algorithme lookup propriétés donné dessous égale algorithme lookupDescendant suffit exploiter dernière partie propriété Exemple exemple résumés North South Orangina July08 North South Pepsi July08 Paris Marseille appel lookup Pepsi uniquement répondre appel lookup France nécessite uniquement accéder répondre false appel lookup Orangina nécessite uniquement accéder répondre répondre false appel lookup August08 nécessite accéder finalement évite accéder puisque August08 apparaître opérandes union résultat contient algorithme getQueries déduit aisément celui lookup retournant quêtes pertinentes candidateQueries booléen getQueries permet également trouver requêtes croisement membres apparaît correspondent getQueries getQueries extension requêtes références apparaissent getQueries getCoveredQueries puisqu suffira ajouter opérateur correspondant dernière partie propriété Finalement getQueries lisée opération getSuccessors requêtes stockées ordre apparition Implémentation tests measure SummarizeLog lookup implémentés résumer requêtes implémentation faite considérant dimensions Aligon concernées résident mémoire Celles représentées arbres stockant chaque membre cardinalité couverture niveau algorithmes calcul measure trouvent Aligon 2010a tests réalisés E8400 exploitables windows utilisés proviennent synthétiques données exemple FoodMart fournie moteur Mondrian manque place détaillons comment générés cette génération simulant analyse expliquée Negre générés densité assez élevée dimensions parmi possibles utilisées naviguer répartis fichiers respectivement requêtes manque place seuls quelques tests présentés lecteur intéressé pourra référer Aligon 2010b tailles résumés exprimées fraction taille original premier connaître fréquence apparition chaque opérateur expressions construites SummarizeLog résultat montre manière générale aucun opérateur jamais utilisé fréquences apparitions diverses observe mesure measure privilégier opération union mostfreq utilisé opérateurs ensemblistes engendrent multi ensembles suivant concerne temps exécution algorithme SummarizeLog stratégies présentées section figure montre temps SummarizeLog évolue manière polynomiale taille résumer avère assez couteux importants temps reste néanmoins acceptable figure puisqu suffit minutes environ deuxième stratégie réduire fichier manière générale stratégie reste efficace demandant moins tests qualité partie couteuse algorithme SummarizeLog Efficacité SummarizeLog focalisons maintenant langage permettant générer résumés recherche suivant concerne qualité globale résumés obtenus utilisant measure occurrence precision entre toutes références initial celles résumés obtenus figure autre regardant proportion requêtes inintéressantes résumés obtenus requête inintéressante ayant uniquement membre toutes dimensions figure Résumés interrogations requêtes qualité globale dégrade rapport entre intersection couvertures couverture donne measure faible opération augmente grâce opération union jusqu atteindre maximum stabiliser dernière chute expliquant utilisation détériorant nouveau precision noter également rapidité atteinte valeur maximale qualité fonction nombre requêtes compréhensible densité assez élevée Ainsi requêtes mieux celles couvrent visitée moins chance résumant qualité dégradée nombre requêtes inintéressantes augmente abord parce elles bénéficient recall jusqu présence dégrade precision elles alors absorbées autres requêtes constate finalement stratégie utilise moins systématiquement donne meilleurs résultats tests menés montrent comportement similaire Qualité résumés obtenus Finalement dernier concerne efficacité lookup figure montre moyen rapidité recherche lookup membres tirés aléatoirement partir résumés calculés significatif petits résumés Notons toutefois comme résumés résident mémoire Efficacité lookup Aligon Travaux existants perspectives résumé données structurées sujet abordé nombreux domaines comme serveurs Zadrozny Kacprzyk extraction motifs exemple Ndiaye inclut séquences évènements bases données Saint données multidimensionnelles Pitarch cubes données Lakshmanan Plusieurs travaux théorie ensembles flous Zadrozny Kacprzyk Saint techniques compression lesquelles important données originales puissent régénérées Lakshmanan Ndiaye outre arriver résumé données résume domaine bases données Saint Lakshmanan résumé appliqué instance données données valeurs mesures prises compte Golfarelli analyse requêtes uniquement choisir matérialiser résumer article proposons résumer requêtes quence requêtes lancées données instance données résumer appuyons essentiellement information directement disponible hiérarchies décrites tables dimension avons besoin supposer descriptions imprécises exemple théorie ensembles flous résumé celui données résumées requête résume autre requête résume autre intéressons régénération données partir résumé utilisation interroger efficacement contributions appuient langage résumé requêtes permet spécifier résumé mesure évaluer qualité résumé algorithme calculer automatiquement résumé requêtes bonne qualité Notre approche implémentée résumer requêtes quelques tests préliminaires illustrent intérêt notre connaissance existe aucun travail traitant problème représentation concise exploitable requêtes données Comme indiqué Khoussainova nombreux fournissent service logging requêtes principalement tuning physique visualisation conviviale adaptée vigation travaux précédents Colas proposons organiser requêtes forme volumineux naviguer fastidieux outil efficace visualisation navigation encore développé travail cette direction futurs travaux devront étudier efficacité cadre analyse ligne derons notamment extension contexte collaboratif seulement séquence requêtes composé plusieurs séquences requêtes lancées différents utilisateurs cette excluons modifier langage pourrait donner véritable algèbre manipuler requêtes Références Aligon Marcel Negre 2010a framework summarizing queries ICMWI Special Track Warehousing Résumés interrogations requêtes Aligon Marcel Negre 2010b Résumé interrogation requêtes Technical report Université François Rabelais Tours tours aligon_j Chatzopoulou Eirinaki Polyzotis Query recommendations interactive database exploration SSDBM Colas Marcel Negre Organisation requêtes forme Volume Toulouse Cépaduès Garcia Molina Ullman Widom Database Systems Complete Upper Saddle River Prentice Press Giacometti Marcel Negre 2009a Recommending multidimensional queries DaWaK Giacometti Marcel Negre Soulet 2009b Query recommendations discovery driven analysis DOLAP Golfarelli Handling large workloads profiling clustering DaWaK Khoussainova Balazinska Gatterbauer Suciu collaborative query management system crdrdb Lakshmanan Quotient summarize semantics Morgan Kaufmann Ndiaye Giacometti Marcel Soulet based summaries large association Negre Exploration collaborative cubes données thesis Université François Rabelais Tours Perng Event summarization system management Berkhin Caruana Pitarch Laurent Poncelet Summarizing multidimensional streams hierarchy graph based approach PAKDD Saint Raschia Mouaddib General purpose database summarization Stefanidis Drosou Pitoura Results Relational Databases PersDB Zadrozny Kacprzyk Summarizing contents server fuzzy linguistic approach Summary paper propose method summarizing query basic query summarizes another query which sequence queries summarizes another framework allows declaratively specify summary includes measure assess quality summaries propose several strategies automatically puting quality summary query simple properties summaries query efficiently Tests query showed usefulness approach