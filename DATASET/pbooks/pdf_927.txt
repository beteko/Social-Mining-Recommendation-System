Microsoft version_finale docDes fonctions oubli intelligentes entrepôts données Aliou Sabine Goutier Georges Hébrail Barrault 75634 PARIS Cedex FRANCE hebrail Général Gaulle 92141 CLAMART Cedex FRANCE georges hebrail sabine goutier Résumé entrepôts données stockent quantités données massives arrivent saturation langage spécifications fonctions oubli défini résoudre problème offrir possibilité effectuer analyses historique données spécifica tions définissent résumés agrégation échantillonnage conserver parmi données oublier Cette communication présente langage spécifications ainsi principes algorithmes assurer façon mécanique gestion fonctions oubli Introduction jours moyens stockage soient performants moins moins chers entrepôts données arrivent saturation question données conserver forme historique poser rapidement choisir quelles données doivent archivées quelles données doivent conservées actives entrepôts données solution appliquée général assurer chivage périodique données anciennes Cette solution satisfaisante archivage remise ligne données opérations coûteuses point considérer données archivées données perdues pratique inutilisa futur point utilisation cadre analyse cette communication proposons solution éviter saturation trepôts données langage spécifications fonctions oubli données anciennes défini déterminer données doivent présentes entrepôt données chaque instant spécifications fonctions oubli conduisent supprimer façon mécanique données oublier conservant résumé celles agrégation échantillonnage agrégation échantillonnage constituent techniques complémentaires résumer données Considérons entrepôt données analyse click stream sites temps données détaillées anciennes deviennent moins moins utiles peuvent agrégées exemple agréger données conserver certaines données jugées intéres santes choisies façon aléatoire pouvoir effectuer analyses données entrepôt langage spécifications défini cadre modèle relationnel chaque table défini moyen spécifications ensemble uplets archiver raisons applicatives parmi uplets archiver échantillons peuvent conservés cadre utilisation entrepôt algorithmes mettre fonctions oubli intelligentes entrepôts données contenu entrepôt conformément spécifications fonctions oubli présentés noter algorithmes gérés administrateur bases données étudiés programmés prototype Oracle Cette communication apporter réponse problème saturation entrepôts approche décrite applique façon générale bases données relationnelles suite papier structurée comme section expose rapport fonctions oubli section présentées spécifica tions fonctions oubli après avoir défini formellement donnée présenté exemple motivation section propose structures données adaptées stockage données agrégées présente algorithmes mettre contenu entrepôt après application fonctions oubli section traite conservation échantil Enfin section conclusion perspectives associées travail présentées travail relier travaux vacuuming approche permettant primer physiquement données temporelle données anciennes certaine seuil concept développé Jensen Jensen lorsqu particulière spécifiée données antérieures cette considérées comme étant inaccessibles doivent supprimées physiquement données technique réduction données décrite cadre bases données multidimensionnelles langage spécifications proposé réduire granularité données anciennes agrégeant données anciennes niveaux supérieurs grossiers travaux similaires nôtres Cependant approches proposons cette communication appliquent entrepôts données largement bases données relationnelles contraintes référentiel peuvent exister entre tables différence travaux appliquent données multidimensionnelles stockées données auteurs proposent conserver détail certaines données perspective analyse données récemment beaucoup travaux effectués données existe besoin résumer données rapport temps exemple problème calcul agrégats temporels données suggéré maintenir agrégats différents niveaux granularité rapport temps données anciennes agrégées niveaux grossiers alors données récentes agrégées niveau cette communication reprenons concepts travaux façon agrégées données spéci administrateur entrepôt contrôlé travail relier aussi expiration données Garcia Molina cadre matérialisées Gupta Mumick approche consiste détecter données suppression affecte maintenance matérialisées entrepôt citer également travaux Toman expiration données problème étudier expiration données contexte bases données histo risées stockent historique différents états données Cependant travaux intéressons historique différents états données historique données stockées explicitement données entrepôt données évoquer principe ramasse miettes Boehm programmes ramasse miettes constitue forme gestion automatique mémoire déterminer objets référencés récupérer stockage utilisé objets ramasse miettes analyser liens entre objets avant suppri travaux aussi lorsque fonctions appliquées uplets peuvent archiver alors référencés autres uplets encore archivés section traite problème similaire lorsque contraintes référentielles darin existent entre tables Notre contribution cette communication extension réalisation proto œuvre langage spécifications fonctions oubli présenté travail spécifications définies administrateur données permettent appliquer façon mécanique fonctions oubli gèrent suppression données archiver prise compte contraintes référen tielles résumés conservés agrégats échantillons données détaillées Chaudhuri auteurs montrent répondre requêtes utilisant seulement échantillons données agrégées totale lorsque dispose données agrégées données détaillées correspon dantes toujours possible répondre requêtes agrégation fournissant réponses approximatives autre théorie échantillonnage Ardilly montré inférer propriétés ensemble données partir échantillons fouille données comme arbres décisions exemple seulement considérer agrégats données détaillées justifie notre approche conservation résumés données archiver Spécification fonctions oubli Notion donnée cadre travail considérons chaque donnée uplet table notre étude associée notée correspondra valeur attribut explicitement associé donnée timestamp système représentant dernière donnée donnée calculé courante notée défini comme étant différence entre dates dates peuvent exprimées unités temps suivantes seconde SECOND minute MINUTE heure MONTH trimestre QUARTER année adoptons conventions suivantes MINUTE secondes MONTH QUARTER calculer utiliserons dates unité SECOND quelles soient unités temps donnée calculé manière suivante fonctions oubli intelligentes entrepôts données exprimée niveau SECOND a_la_seconde exprimée niveau SECOND a_la_seconde a_la_seconde a_la_seconde fonction transforme seconde exprimée seconde considérant premier instant période temps verte cette exemple a_la_seconde a_la_seconde Fevrier Quelques exemples illustration présentés dessous SECOND a_la_seconde a_la_seconde 2635200 SECOND MONTH Enfin relation ordre définie entre considérant seulement en_secondes en_secondes en_secondes fonction transforme secondes durée expri autre unité temps utilisant conventions présentées dessus exemple MONTH Exemple motivation considérons entrepôt données contenant tables suivantes CLIENT cliID Ville Salaire COMMANDE cmdID Date_cmd montant cliID chaque table attribut souligné représente primaire identifiant table CLIENT attributs cliID identifiant ville salaire client table COMMANDE cmdID désigne identifiant Date_cmd associée mande montant montant commande cliID étrangère référençant table CLIENT Considérons fonction suivante table COMMANDE SUMMARY TABLE COMMANDE CLIENT cliID TIMESTAMP Date_cmd HIERARCHY Geographie Ville Département Région MONTH DETAIL MONTH montant CLIENT Ville CLIENT montant Département MONTH montant Région montant SAMPLE WHERE montant SUMMARY fonction oubli indique abord applique table COMMANDE associé chaque uplet COMMANDE timestamp fourni colonne Date_cmd TIMESTAMP Date_cmd spécifications définissent quand données détaillées uplets table COMMANDE doivent archivées résumé conserver après application fonction oubli données moins jours données inférieur garde détail table COMMANDE uplets table COMMANDE données supérieur peuvent archivées versions agrégées données doivent conservées données compris entre doivent agrégées Ville noter Ville attributs table CLIENT référencée COMMANDE rendu possible grâce spécification CLIENT cliID données compris entre doivent décrites agrégats niveau Département passage agrégation ville agrégation département possible utilisant hiérarchie Géographie existe hiérarchie nommée Géographie entre attributs Ville Dépar tement Région données compris entre doivent agrégées Région Année données compris entre doivent agrégées Aucun agrégat conservé données supérieur Enfin spécification SAMPLE WHERE montant signifie conservation échantillon aléatoire simple composé uplets parmi uplets archivés montant supérieur Langage spécifications fonctions oubli langage défini spécifier fonction oubli associée chaque table données grammaire langage présentée annexe comprend caracté ristiques supplémentaires telles discrétisation attributs numériques utiliser comme attributs lesquels effectuer agrégation Lorsque spécifications fonctions oubli définies application fonctions oubli automatique algorithmes structures stockage nécessaires assurer gestion fonctions oubli Gestion fonctions oubli agrégation Structure stockage données agrégées fonction oubli contenir plusieurs spécifications agrégation Chacune spécifications indique niveau agrégation dépendant partir spécifications associe famille cubes utilisés stocker données agrégées famille cubes liste dimensions dimension Temps espace vectoriel mesures chaque mension associée liste ordonnée niveaux Niveaux comprenant valeur agrège complètement dimension niveaux dimension représentent hiérarchie noter cadre travail considère existe seulement Cette possibilité présentée cette communication écrit fonctions oubli intelligentes entrepôts données hiérarchie dimension dimension Temps organisée manière vante Niveaux SECOND MINUTE MONTH QUARTER Considérant notre exemple avons C_COMMANDE EMPLACEMENT TOTAL_MONTANT levels EMPLACEMENT VILLE DEPARTEMENT REGION levels levels MONTH utilisant famille cubes associer cette famille appelé aussi cuboïde selon certaines références chaque spécification agrégation famille cubes défini veaux chaque niveau associé ensemble leurs représentant domaine chaque niveau également associé ensemble valeurs représentant domaine cellule tuple Reprenant exemple présenté paragraphe avons MONTH montant Ville VILLE SUM_MONTANT montant Département MONTH DEPARTEMENT MONTH SUM_MONTANT montant Région REGION SUM_MONTANT montant SUM_MONTANT différentes spécifications peuvent ordonnées rapport cubes peuvent également ordonnés moins agrégé agrégé utilise notation noter signifie partition données détaillées induite celle induite données agrégées algorithmes proposons mettre données agrégées basés trois propriétés mesures agrégation additives différents cubes disjoints données agrégées celle données détaillées commutent Additivité mesures agrégation mesures agrégation considère additives expressions calculées partir mesures additives notre exemple montant représente mesure additive Cette propriété assure cubes données appartenant peuvent calcu partir données noter considère fonction rément cette communication remplacée fonctions COUNT spécification défini valeur spécifiée juste après ordre total existe seulement hiérarchie dimension différents cubes disjoints avons spécifications agrégation ordonnées rapport Considérant spécifications ordonnées ciées respectivement cubes avons tuple table COMMANDE notre exemple compte nière suivante seulement conséquence cubes fonction oubli disjoints aucune cellule incluse fonctionnellement cellule agrégé différents cubes contenus exclusifs stockent données périodes différentes temps Commutativité mises mises effectuer données agrégées fonctions oubli types uplet détail archiver table stocké données agrégées peuvent transférées autre agrégé Puisque répercussion uplets détail cubes chaque uplet compte celui satisfait critère spécifica correspondante alors équivalent commencer répercuter détail cubes effectuer transfert données agrégées entre cubes commencer transfert entre cubes ensuite répercuter uplets détail noter mises effectuer fonctions oubli peuvent appliquées instant façon régulière exemple chaque façon irrégulière spora diquement chaque application fonctions oubli nouveaux uplets table peuvent satisfaire critères spécifications agrégation doivent agrégés stockés cubes correspondants Egalement lorsque données agrégées vérifient critère spécification correspondante vérifient critère respondant agrégé données doivent alors transférées noter hypothèse espace stockage nécessaire contenir données différents cubes limité rendu possible différents cubes disjoints propriété présentée dessus système activation désactivation cellules cubes Lorsqu donnée passer autre cellule occupait supprimée désactivée répercuter donnée commencera vérifier occuper place cellule désactivée auquel cette cellule activée conséquence propriété commutativité mises distinguons procédures peuvent exécutées ordre quelconque procédure trans données agrégées entre cubes procédure répercute uplets détail archivés cubes algorithmes présentés dessous chaque cellule caractérisée champs position mesure position cellule ensemble valeurs niveaux dimensions déterminent cette cellule position cellule Paris Paris mesure correspondante égale Transfert données agrégées entre cubes chaque critère spécification détermine données doivent agrégées fonctions oubli intelligentes entrepôts données chaque chaque cellule spécifications associées respectivement cubes parcours accéléré index dimension Temps cellule couvrant trouvé incrémentation chaque mesure agrégation COUNT sinon sinon sinon vérifier existe cellule désactivée ctrouvé remplacer trouvé ctrouvé position position ctrouvé mesure mesure activer Ctrouvé sinon créer cellule désactiver cellule noter cubes possible cellules puissent satisfaire critère spécification correspondant suivant elles vérifient critère spécification correspondant Cette situation survient général lorsque fonctions oubli appli quées pendant certain temps exemple considérant notre exemple présenté graphe lorsque fonctions oubli appliquées pendant correspondant deuxième spécification MONTH montant Ville doivent directement transférées agrégé explique présence algorithme premières boucles imbriquées Répercussion uplets détail cubes ordre traitement cubes important chaque uplet stocké chaque detail table agrégés selon dimensions spécifications associées pectivement cubes spécification DETAIL suppose existe index dimension Temps chaque cellule detail cellule ayant mêmes valeurs dimensions trouvé incrémentation chaque mesure agrégation COUNT notre exemple MONTH DETAIL sinon sinon sinon vérifier existe cellule désactivée ctrouvé remplacer trouvé ctrouvé position position ctrouvé mesure mesure activer ctrouvé sinon créer cellule Gestion contraintes référentielles cette section considérons définition plusieurs fonctions oubli chacune associée table problème alors existe contraintes référentiel entre tables lesquelles définies fonctions oubli Considérons notre exemple table FACTURE FactID Date_fact montant cmdID FactID identifiant Date_fact représente facture montant montant facture cmdID étrangère référençant attribut cmdID table COMMANDE timestamp fonction oubli définie FACTURE fourni lonne Date_fact spécifications suivantes défnies MONTH DETAIL MONTH montant MONTH problème apparaît lorsqu uplet archiver table COMMANDE exemple référencé uplet autre table FACTURE notre encore archivé Considérant notre exemple applique fonctions oubli exemple chaque arriver uplets table COMMANDE soient spécifiés archiver alors uplets FACTURE respondants encore archivés puisque factures garde pendant commandes elles peuvent archivées propo solution suivante suspendre archivage jusqu archivé marquer archiver chaque application fonctions oubli alors vérifier uplets référencent archivés auquel uplet devra archivé notre exemple marquer uplets table COMMANDE spécifiés archiver pourront archivés lorsque uplets table FACTURE correspondants référencent auront archivés noter aucune autorisée uplets marqués archiver Gestion conservation échantillons Comme présenté paragraphe langage spécifications permet conserver échantillons données archivées spécification SAMPLE indique assurer maintenance échantillon aléatoire simple taille chaque données détaillées archivées uplets échantillonnés stockés table séparée ayant structure table laquelle définie fonction oubli chaque application fonctions oubli nouveaux uplets peuvent archiver doivent compte échantillon suppose exemple fonctions oubli intelligentes entrepôts données échantillon aléatoire simple individus conservé parmi uplets archi nouveaux uplets archiver depuis dernière oubli maintenance échantillon assurée manière incrémentale utilise algorithme réservoir Vitter Vitter propriété fondamentale algorithme après traitement chaque individu réservoir constitue échan tillon aléatoire individus visités noter taille échantillons fixée définition spécification SAMPLE Comme indiqué section échantillons aléatoires population peuvent utilisés inférer information cette population totale partir données observées échantillons Ardilly Reprenant notre exemple estimer somme montants commandes partir échantillon uplets archiver table COMMANDE effectuer telles estimations effectif population uplets échantillonner conservé Conclusion perspectives avons proposé solution résoudre problème saturation entrepôts données langage défini spécifier données archiver résumés agrégats échantillons conserver Lorsque fonctions oubli définies algorithmes présentés mettent contenu entrepôt façon automatique confor mément spécifications fonctions oubli prototype développé Oracle implémentation langage ainsi algorithmes présentés perspective associée travail exploitation résumés conservés effec analyses répondre manière approximative requêtes données après application fonctions oubli solution présentée applique bases données relationnelles schéma étoile pourrait intéressant définir fonctions oubli spécifiques cubes données Références Ardilly Techniques sondage Technip Boehm Bounding Space Usage Conservative Garbage Collectors Proceedings SIGPLAN SIGACT Symposium Principles Programming languages pages January Hébrail Picard Fonctions oubli entrepôts données Clermont Ferrand Janvier Chaudhuri Motwani Narasayya Robust Optimisation Based Approach Approximate Answering Aggregate Queries Proceedings SIGMOD pages Santa Barbara California réservoir considéré comme vecteur longueur étant taille échantillon Multi dimensional regression analysis series streams pages China Garcia Molina Labio Expiring warehouse Proceedings Conference pages Gardarin Bases Données objet relationnel Eyrolles Gupta Mumick Selection Views Materialize Warehouse Transactions Knowledge Engineering volume pages Jensen Vacuuming TSQL2 Temporal Query Language Snodgrass editor Chapter Kluwer Academic Publishers Jensen Pedersen Specification Based Reduction Dimensional Warehouses TimeCenter TechReport Toman Expiration Historical Databases Proceedings International Symposium Temporal Representation Reasoning Press Vitter Random Sampling Reservoir Transactions Mathematical pages March Annexe Grammaire langage majuscules constructions entourées facultati celles suivies doivent apparaître moins symbole signifie autre forme possible éléments commence représentent séquence phanumérique quelconque fonction_oubli SUMMARY TABLE nom_table liste_use_join_table TIMESTAMP SYSTEM nom_colonne specif_discretise specif_hierarchie specif_detail liste_specif_agregation specif_KEEP SUMMARY nom_table idAtt liste_use_join_table use_join_table liste_use_join_table use_join_table use_join_table empty nom_table colonnes colonnes colonne colonnes colonne colonne idAtt specif_discretise empty discretisation specif_discretise discretisation discretisation DISCRETISE colonne idAtt intervalle idAtt intervalle valeur numerique valeur numerique valeur numerique nombre fonctions oubli intelligentes entrepôts données nombre chiffre nombre chiffre chiffre specif_hierarchie empty hierarchie specif_hierarchie hierarchie hierarchie HIERARCHY dimension niveaux hierarchie dimension idAtt niveaux hierarchie niveau hierarchie niveaux hierarchie niveau hierarchie niveau hierarchie idAtt specif_detail empty critere DETAIL liste_specif_agregation specif_agregation liste_specif_agregation specif_agregation specif_agregation critere agregation donnees critere valeur niveau temps valeur chiffre valeur chiffre niveau temps SECOND MINUTE MONTH QUARTER agregation donnees mesures liste mesures agregation mesures agregation agregation COUNT colonne COUNT liste empty liste niveaux liste niveaux niveau liste niveaux niveau niveau table colonne discretise niveau temps specif_KEEP empty SAMPLE valeur WHERE condition condition expression condition logique expression table colonne expression simple expression simple idAtt valeur numerique logique Summary amount stored warehouses grows quickly saturated overcome problem propose language specifying forgetting tions stored order preserve possibility performing interesting analyses historical specifications include definition summaries deleted These summaries aggregates samples deleted house forgetting functions specified warehouse automatically updated order follow specifications paper presents language speci fications structure summaries algorithms update warehouse