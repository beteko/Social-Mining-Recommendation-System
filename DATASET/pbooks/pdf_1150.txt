Mining Frequent Queries Schemes Dominique Laurent Nicolas Spyratos Oumar Universite Cergy Pontoise 95302 Cergy Pontoise Cedex FRANCE dominique laurent cergy Universite Paris 91405 Orsay Cedex FRANCE spyratos Universite Gaston Berger Saint Louis SENEGAL oumar extraction toutes reque quentes donne relationnelle proble difficile conside reque conjonctives montrons proble devient possible suivant toile donne satisfont ensemble pendances fonctionnelles contraintes rentielles toile approprie entrepo donne pendances fonctionnelles contraintes rentielles contraintes usuelles bases donne conside instances faibles montrons reque quentes exprime lection projection peuvent extraites algorithmes Apriori Introduction general problem mining frequent queries relational database queries whose answer cardinality above given threshold known intractable consider conjunctive queries Goethals However mining frequent queries database allows production relevant association rules cannot obtained other approaches dealing multiple tables Dehaspe Raedt Turmeaux because these approaches association rules mined table other mining frequent queries possible obtain rules whose right sides frequent queries mined different tables following example serves running example throughout paper illustrates point Example database containing three tables Sales customers products sales transactions respectively suppose table defined attributes Cname Caddr standing respectively identifiers names addresses customers table defined attributes Ptype standing respectively identifiers types products table Sales defined attributes where stands quantity product bought customer Mining Frequent Queries Schemes frequent queries mined possible least customers living Paris Indeed stated facts queries σCaddr Paris σCaddr Paris Ptype Sales frequent confidence greater equal Notice cannot replaced Sales because customers transactions would taken account paper problem mining frequent queries database becomes tractable under restrictions warehousing Indeed warehouses organized according schemes which constraints functional dependencies referential constraints assumed contribution paper database scheme selection projection queries frequent computed based level algorithm Apriori Agrawal computation tractable formalism database satisfying functional dependencies represented instance denoted Ullman Roughly speaking tuples attributes difference between tuples standard tuples tuples contain values Using unique table consider queries where conjunctive selection condition attributes total projection restrictions tuples whose values constants Given query answer denoted tuples satisfy selection condition support denoted cardinality Example Referring Example assume satisfies functio dependencies Cname Caddr satisfies tional dependency Ptype Sales satisfies functional dependency scheme scheme which table Sales dimensional tables Denoting functional dependencies given above instead consi dering queries Example consider following queries σCaddr Paris Caddr σCaddr Paris Ptype Caddr Ptype although involve table computation supports confidence takes account there exist customers table whose identifiers occur table Sales scheme scheme problem mining frequent conjunctive queries treated according following steps being based level algorithm Apriori Agrawal compute frequent queries relation scheme frequent compute frequent queries where conjunction selection conditions knowledge except Goethals other addresses general computing frequent queries given database Goethals considers conjunctive queries paper points considering restrictions database scheme functional dependencies leads tractable complexity Although hints possible restrictions mentioned Goethals specific actually studied shall considering scheme associated constraints leads tractable level algorithms approach Casali related because cubes schemes multi dimensional However frequent queries considered Casali involve table Therefore contrary approach possible frequent queries defined attributes however Casali takes account hierarchies dimensions which approach mentioned previously approaches dealing mining frequent queries multi relational databases Dehaspe Raedt Turmeaux consider table given mining consequently these approaches association rules Example except Turmeaux these proaches restricted conjunctive queries paper paper organized follows Section recall basics instance semantics schemes Section deals queries interest approach Section algorithms provided computation frequent queries Section concludes paper Background recall Ullman relational model databases given universe attributes every attribute associated values called domain denoted Moreover relational database scheme consists tables where table associated attribute called scheme denoted relational database table contains relation finite tuples Universal Relation Scheme Interfaces Universal relation scheme interfaces introduced early order logical independence relational model Given database universe attributes functional dependencies logical independence achieved associating single table denote called instance refer Laurent Ullman details contruction simply contrary standard relations tuples contain values instance table which queries addressed precisely every relation scheme denote tuples contains value there exists Mining Frequent Queries Schemes tuple every attribute tuples possible consider queries where selection condition involving attributes paper consider queries whose selection condition conjunction selection conditions where attribute constant Schemes dimensional scheme consists distinguished table called table other tables called dimension tables primary respectively every foreign table attribute called measure scheme Moreover following simplified notation denoted respectively denoted Example scheme database running example dimensional scheme where dimension tables table Sales measure Moreover database defined dimensional scheme consider instance simplify table removing tuples which there exists every attribute which constant justified performing simplification because doing change answers queries symbol denote simplified table important simplified table contains kinds tuples either total tuples tuples containing value there mapping between these tuples tuples table tuples containing constants attributes single dimension value occur table denote total tuples tuples containing constants attributes dimension remainder paper consider fixed dimensional scheme table dimension tables fixed database scheme Moreover simplification assume every dimension reduced single attribute other known practice cardinality table higher dimension table order situation account assume every Example refer database introduced Example where universe attributes Cname Caddr functional depen dencies Cname Caddr Ptype consider database consisting following three relations Cname Caddr Paris Paris Paris Tours Sales simplified instance which values represented following Cname Caddr Paris Tours Paris Paris Paris Paris Notice example contain respectively tuples first tuples whereas empty Moreover answers queries Example shown below Caddr Paris Paris Paris Caddr Paris Paris Frequent Queries Queries Definition Given database dimensional scheme scheme Denoting false selection conditions respectively following conjunctive selection conditions Selection conditions called selection conditions Moreover denote queries where union relation schemes According Definition order simplify notations denote convention denoted Mining Frequent Queries Schemes compare queries using standard query containment ordering Ullman contained denoted databases fixed dimensional scheme define following operators selection conditions define respectively respectively Otherwise respectively respectively Otherwise conjunction elementary selection conditions occur queries σS1ZS2 σS1YS2 σS1YS2 σS1ZS2 σS1YS2 σS1ZS2 lattice property approach compute frequent queries using level algorithm Apriori Agrawal Frequent Queries Definition database dimensional scheme every query support denoted understood cardinality answer query frequent frequent understood greater equal given support threshold Referring Example given support threshold equal frequent whereas turns notion support monotonic respect queries Since requires scheme previous plication stated follows frequent frequent either Consequently frequent queries computed using level algorithm Morever notice frequent query frequent other given standard relation relation scheme finite tuples defined attributes However property partial tuples meaning framework Indeed table Example Caddr Caddr whereas following proposition shows cases monotonicity Proposition relation schemes satisfying statements either every selection condition Based Proposition frequent queries computed consi dering lattice empty subsets starting itself level candidate relation schemes cardinality pruned follows every attribute found frequent cannot frequent there exists found frequent previous cannot frequent important given dimension frequent imply frequent Moreover Proposition assumption imply following corollary Corollary every query functional dependencies further optimization based following given standard relation relation scheme finite tuples defined attributes satisfies every selection condition Moreover scheme every relation scheme denoted defined every Proposition relation schemes every selection condition Therefore applying Proposition context level algorithm every didate query there exists attribute frequent found frequent following example illustrates Proposition Proposition Example Consider database Example support threshold equal recall query σCaddr Paris Ptype where Caddr frequent Therefore computing frequent queries where Caddr Proposition without computation query σCaddr Paris Ptype frequent other since frequent Using Proposition queries frequent computing frequent queries without computation following schemes frequent support equal Caddr Cname Cname Caddr Cname Caddr Mining Frequent Queries Schemes Algorithms Frequent Queries algorithm given below following notations given integer denotes candidate relation schemes dinality subsets denotes candidate relation schemes cardinality subsets denotes union Similarly given integer denotes frequent queries whose corresponding scheme cardinality subset denotes frequent queries whose corresponding scheme cardinality subset denotes union denote number distinct tuples obtained scanning tables respectively given relation scheme there exists Algorithm Input simplified instance associated database dimensional scheme cardinalities tables support threshold Output queries frequent Method computation based Corollary return while generation candidates level considering subsets cardinality relation schemes generate pruning based Proposition pruning based Proposition whether frequent pruning based Proposition pruning based Proposition computation computation supports compute additional pruning computation supports while return details comments Algorithm Comment immediate consequence Corollary concerning comment candidates level obtained removing attribute frequent schemes level details about function generate mention considering attributes according fixed ordering allows efficiently perform Comments consequences Proposition particular portant comment pruned considering subsets Similarly comments consequences Proposition comment comes every support equal requires computation Moreover Proposition dimensions considered generated previous comment related condition while Comments count contained dimension scheme subset additional pruning mentioned comment Indeed every Therefore frequent Summarizing remarks above Algorithm level algorithm scans table level prunings Apriori possible Frequent Queries frequent queries computed applying algorithm Apriori frequent query output Algorithm queries Mining Frequent Queries Schemes considered decreasing ordering cardinalities schemes order prune candidate queries based Proposition Proposition algorithm given below denote respectively candidate respectively frequent queries where selection condition containing exactly conjuncts Moreover denotes queries frequent Algorithm Input simplified instance table associated database dimensional scheme output Algorithm responding support threshold Output queries frequent Method computation based Proposition while generation selection conditions based Definition generate selection conditions based standard pruning pruning based Proposition computation supports compute while return review steps Algorithm follows stated comment Proposition implies obtained Concerning comment simply selection conditions level obtained selection conditions queries Apriori Comment refers standard pruning phase Apriori noticed comment Proposition allows additional pruning based computing superset already computed every selection condition Comment specifies table scanned compute supports scanning could option instead scanning Computational Issues Although experiments report would point ments approach First table efficiently computed using instance external joins Ullman other finding frequent queries database dimensional scheme requires appli cations level algorithm schemes frequent However likely frequent queries interest Instead users interested schemes while other users would focuss other schemes propose following policy Algorithm users Storing frequent queries their supports could serve basis queries issued users Assuming users frequent queries different schemes rarely modify Algorithm restricted specified schemes additional prunings frequent queries computed stored their supports tional prunings possible Conclusion Further paper considered instance model relational databases order design level algorithms computation frequent queries database dimensional scheme Moreover shown additional prunings respect Apriori possible currently implementing approach future research directions include following Considering schemes sophisticated schemes snowflake constellation schemes reported Levene Loizou provides suitable theoretical basis investigation Since closely related approach presented investigating tionships between approaches Since cubes schemes notions multi dimensional relationships between Casali investigated further rences Agrawal Mannila Srikant Toivonen Verkamo discovery association rules Advances Knowledge Discovery Mining pages Press Casali Cichetti Lakhal Extracting semantics cubes using transversals closures pages Mining Frequent Queries Schemes Dehaspe Raedt Mining association rules multiple relations Dzeroski Lavrac editors International Workshop Inductive Logic Programming volume pages Springer Verlag Giacometti Laurent Spyratos Composition mining contexts efficient extraction association rules volume pages Springer Verlag Giacometti Laurent Spyratos Mining rules databases multiple tables Problems perspectives International Conference Computing Anticipatory Systems CASYS Belgique Goethals Mining queries unpublished paper Workshop induc databases constraint based mining Hinterzarten Germany available informatik freiburg talks Goethals slides Koperski Zaiane mining query language relational databases SIGMOD Workshop pages Laurent Luong Spyratos Querying instances under extension chase semantics International Journal Mathematics Levene Loizou snowflake schema warehouse design Information Systems Psaila extension mining association rules Mining Knowledge Discovery volume pages Turmeaux Cassard Salleb Vrain Apprentissage caracte ristiques Journe francophones Extraction gestion Connais sances pages Ullman Principles Databases Knowledge Systems volume Computer Science Press Summary problem mining frequent queries database intractable consider conjunctive queries paper problem becomes tractable under following restrictions database scheme scheme database satisfies functional dependencies referential constraints schemes considered appropriate warehouses while functional dependencies referential constraints common constraints encounters databases approach based instance semantics considers selection projection queries instances context frequent queries mined using level algorithms Apriori