Indexation virtuelles médiateur traitement XQuery Clément Jamard Georges Gardarin Laboratoire PRiSM Université Versailles 78035 Versailles Cedex France prénom prism Résumé Intégrer traitement requêtes recherche information médiateur problème difficile notamment certaines sources données permettent recherche clefs distance classer résultats suivant pertinence article abordons intégration fonctionnalités principales standard XQuery XLive médiateur XQuery avons choisi indexer virtuelles documents documents virtuels sélectionnés transformés objets sources opérateur sélection médiateur étendu supporter recherches information documents recherche clefs classement résultat ainsi supportés Notre formule classement résultats adaptée format données structurées nombre clefs différents éléments distance entre éléments résultat Introduction XQuery devenant standard interroger nouveaux besoins apparaissent recherche information Buston spécifient prédicats fonctionnalités recherche information intégrer XQuery comme recherche élément contenants clefs classement résultats selon pertinence recherche suffixes préfixes premier ensemble fonctionnalités requises XQuery défini Buxton TexQuery Yahia langage précurseur Certaines fonctionnalités citées précédemment comme simple recherche clefs communes présentes plupart données distribuées abord recomposer partitions avant pouvoir effectuer recherche contenu importantes fonctionnalités souvent nécessaires applications faciles implanter système distribué classement résultats recherches conjonctives clefs recherches racines leurs préfixes suffixes difficilement réalisables auparavant recomposer données dispersées Indexation virtuelles médiateur nombreux systèmes médiation données basés XQuery disponibles comme Papakonstantinou XQuark basés architecture intégration travers globales supportent ensemble langage XQuery notre connaissance aucun entre supporte langage XQuery alors plupart applications intégration données orientées recherche information textuelle Rappelons objectif essentiel médiateur fédérer sources données autour architecture répondant manque capacité sources plupart natifs relationnels permettent recherche plusieurs clefs documents majorité systèmes capacités différentes Google interrogé collection virtuelle documents système efficace effectuer recherche clefs classer résultats suivant pertinence Xyleme Abiteboul natif permet aussi effectuer recherche efficace clefs systèmes capacités propres intéressantes aucun permet répondre toutes fonctionnalités XQuery existe besoin intégration fonctionnalités langage systèmes médiation sorte pouvoir interroger manière uniforme toutes sources hétérogènes Certaines capacités difficilement intégrables elles spécifiques système comme classer résultats suivant pertinence chaque système offrir propres fonctions Jusqu Université Versailles avons impliqué développement XQuark Fusion médiateur source XQuark avons extrait projet médiateur léger nommé XLive utilisé comme outil recherche XLive Gardarin intègre interroge sources relationnelles XQuery large ensemble XQuery reconnu incluant expressions requêtes imbriquées Chaque source fédérée possède propre adaptateur wrapper capable exécuter ensemble XQuery modèle exécution XAlgébre algèbre dérivée algèbre relationnelle adaptée données structurées Cette algèbre représente documents comme tuples éléments désignés XPath référençant arbres codant tuples appelés XTuple médiateur évalue plans composés opérateurs XAlgebre ensembles XTuples recompose résultats données interrogées XLive distribuées plusieurs sources point important intégration fonctionnalités recherche information XLive gestion capacités sources techniques indexations implémentées sources capables permettre recherches clefs documents comme clefs souvent recherchés éléments précis indexation position requise Plusieurs techniques indexation proposées systèmes centralisés recherche éléments contenant clefs aperçu techniques disponible Gardarin techniques comme index Suciu indexes Kaushik indexes permettent réduire taille index indexant chemins XPath utiles chemins peuvent déterminés modèles spécifiques index sélectionnant chemins fréquemment demandés réduisant longueur chemins Kaushik encore basant charge requêtes index Fabric Cooper évite référencer nœuds codant chemins nœuds terminaux feuilles Jamard Gardarin stockant Patricia Cette approche nécessite extensions garder ordre chemins permettre correspondance partielle éléments Notre approche propose unifier capacités sources travers médiateur définit données distribuées plusieurs sources permet interrogation XQuery médiateur matérialise éviter réplication données indexe position texte éléments structurant proposons système indexation efficace contenu textuel repose guide applé ViewGuide véritable résumé structurel dérivé définition Notre système adapté localisation clefs localisation données sources XQuery Bremer Gertz propose techniques similaires recherche information XQuery aussi indexation adaptée structure arborescente permet résoudre requêtes pattern arbre filtres applicables données système centralisé originalité notre approche indexer virtuelles avoir solution complète opérationnelle efficace comme montre premières mesures suite article organisée comme section présente système indexation proposé section présente traitement requêtes indexées méthode classement résultats suivant pertinence résultats expérimentaux notre système ensuite rapportés conclusion rappelle contributions introduit travaux futurs Indexation textuelle principale question savoir comment intégrer méthodes recherche contenu sources distribuées hétérogènes systèmes médiation utilisent souvent cibler recherche sources données pertinentes combiner intérêt recherche information avons décidé utiliser matérialisées contenu indexé médiateur stocké Principes avons choisi indexer contenu création maintenir index mises position termes mémorisée niveau médiateur permet répondre efficacement requêtes XQuery index détermine indirectement adresse éléments évite importants transferts données entre sources médiateur seules données pertinentes échangées évite également médiateur manipuler travers opérations complexes recherche information ensemble données Ainsi gérer index compact efficace notre approche éviter médiateur opérations difficiles identifiants utilisés notre index référencent structures gérées adaptateurs objets sources structures permettent localisation extraction recomposition données efficacement partir sources Lorsqu source celle reporter médiateur mettre identifiants index mécanisme trigger polling périodique source mécanisme report dépend adaptateur source Indexation virtuelles médiateur Position termes retrouver éléments contenant terme contenu textuel indexé façon précise position terme identifiée document chemin élément contenant proposons système identification élément coder cette position façon compacte unique Système numérotation élément identifié identifiant document global identifiant élément correspondant chemin menant élément Définition Identifiant document global Identifiant numérique alloué médiateur identifiant document Définition Identifiant élément Identifiant déterminant manière unique élément chemin coder utilisons guide résumant structure Définition Guide ViewGuide Arbre représentant structure commune documents nœuds correspondent éléments attributs liens entre éléments marqués cardinalité simple multiple Chaque chemin distinct documents représenté seule guide collection catalog return critic author return author author genres title collection review review where return review return rating author comments collection comments comment where return comment comment comments review critic critic review author genres title rating author comments comment critic review author genres title rating author comments comment review critic author author genres title rating author comments comment comment Définition XQuery Viewguide Instance document Requête XQuery définition ViewGuide ViewGuide quelque similaire DataGuide Widom diffère points suivants uniquement résumé structurel documents Jamard Gardarin dérivé définition requête définissant liens annotés cardinalité multiple éléments ViewGuide permet attribuer identifiant élément chaque élément document Chaque élément correspond identifiant numérique unique déterminé parcours préfixe arbre figure présente exemple ViewGuide élément critic document cette contient élément monovalué englober plusieurs éléments review multivalué création guide impose requête définissant figure décrive complètement structure documents clause Return composé façon suivante préfix identifiant correspondant chemin guide suffixe regroupant cardinalités éléments multivalués traversés racine élément concerné identifier chemin correspondant critic review ViewGuide traverse éléments dernier identifiant utile chemin unique ViewGuide document exemple figure possède élément review contenant éléments correspond chemin critic review identifiant élément suffixe associé identifiant chemin permet identifier manière unique deuxième élément premier élément review suffixe utilisé éléments multivalués élément monovalué suffixe exemple chemin critic title indiquer position élément identifiant document associé identifiant chemin figure chaque élément critic document élément author seconde review quatrième document identifié couple identifie manière unique élément coder chemins multiples utilisons patterns identifiant éléments permettant spécifier plusieurs éléments multivalués traversés chemin critic review spécifie élément review choisir pattern correspondant premier importe review patterns identifiants utilisés traitement requête Définition Pattern identifiants ayant suffixe signifiant élément valide Index médiateur liste inversée termes importants donnant chacun position virtuelle Définition Index index termes donnant chaque terme liste identifiants apparaît terme Préfixe Suffixes Préfixe Suffixes Tables position record1 record2 Indexation virtuelles médiateur position terme repérée couple index permet retrouver toutes positions création médiateur insère entrées index mises sources répercutées entrées index paires terme table position table position table référençant préfixe suffixes chaque retrouve ligne préfix ensemble suffixes ordonnés Cette organisation entrées illustrée tableau utilisée algorithme traitement requêtes Position sources données structure appelée Source maintient mapping entre document sources contenant données composant document données considérées comme documents locaux référencés identifiant identifiant associé opération extraction Définition Identifiant document local Identifiant numérique alloué wrapper permettant récupérer données correspondantes source création chaque wrapper source contenant données reçoit requête extraire données wrappers fournissent données médiateur construit résultats suivant définition chacune données renvoyées correspondance objet local dépend wrapper wrapper fichier fichier bases identifiant document bases relationnelles référence requête XQuery permettant transformation tables relationnelles partir wrapper capable interroger source renvoyer données correspondantes médiateur recompose alors document suivant définition récupérant données Definition Source Structure mapping entre plusieurs exemple données review comment réparties trois sources document exemple alors quatre correspondant successivement review comment Traitement requête algorithme traitement requêtes retrouve entrées index correspondant recherche textuelle liste parties correspondant documents sélectionnés alors extraites recomposer documents détaillons cette partie comment effectue recherche éléments contenant clefs comment étendre cette recherche fonctionnalités XQuery introduisons aussi notre système classement résultats suivant pertinence Trouver éléments pertinents recherche plusieurs clefs XQuery repose paramètres espace recherche liste clefs espace recherche définit ensemble éléments lesquels effectuer recherche typiquement XPath Jamard Gardarin concentrons recherches conjonctives clefs éléments devant contenir clefs prédicats requêtes forme ftcontains éléments clefs expressions régulières joker wildcard autorisées requête retourner éléments critic ayant élément review contenant termes databases exprime XQuery comme collection critic_view critic where review ftcontains databases return ALGORITHM INTERSECT INPUT keyword position VARIABLES intersect current_id test_id tmp_res identif search_space filter result result current_id nextElement search_space WHILE hasNextElement search_space intersect test_id nextElement search_space Aucun élément document Itération élément suivant WHILE test_id current_id current_id test_id Trouve prochain élément WHILE test_id current_id test_id nextElement search_space Intersecte espace recherche tmp_res intersection test_id current_id search_space intersection valide passe liste suivante intersection invalide passe élément suivant tmp_res tmp_res descendantOf result intersect tmp_res intersect current_id test_id current_id nextElement search_space break Intersection valide entre toutes listes résultat validé intersect result intersect last_res intersect current_id nextElement search_space Algorithme intersection recherche éléments résultat effectue étapes Déterminer espace recherche Calculer ensemble éléments contenant chacun clefs Extraire données sources recomposer résultats espace recherche définit utilisant patterns identifiants élément dérivé expression XPath correspondant prédicat requête XPath définissant espace recherche requête exemple critic review correspond pattern recherche clefs effectue élément review descendants clefs peuvent trouver parmi éléments comments comment author rating retrouver identifiants correspondant descendant élément matrice booléenne indique relation ancêtre descendant entre identifiants élément ancêtre guide Cette matrice fournit méthode rapide retrouver relation entre éléments espace recherche critic review ainsi déterminé patterns allant médiateur interroge index calculer ensemble entrées contenu espace recherche chaque ensemble éléments résultat Indexation virtuelles médiateur intersection entrées opération intersection entrées détermine ancêtre commun éléments appartient espace recherche réduire nombre opérations intersections intersections calculées éléments respectant conditions suivantes ordre égalité identifiants documents intersection éléments documents différents nulle préfixe correspond descendant espace recherche entrées espace recherche considérées suffixe intersecté correspond intersection calculée figure décrit algorithme intersection calcule chaque intersection valide entre listes identifiants espace recherche première condition vérifiée lignes sélectionnant entrées document seconde vérifiée chaque accès identifiants lignes élément choisi parmi lignes tables position correspondant espace recherche troisième appliquée ligne vérifiant intersection calculée Comme entrées ordonnées suffixe tables position aucune intersection oubliée condition ligne sélectionne toujours petit intersection algorithme appliqué tables position tableau espace recherche identifiant seules entrées lignes sélectionnées intersections valides entre record1 record2 record1 record2 Toutes autres intersections espace recherche calculées traitement autres patterns Supporter fonctionnalités XQuery Recherche plein texte XQuery permet recherches niveau élément chemin depuis racine document identifie cette position aussi relativement autres élément chemin position texte identifient cette position index présenté précédemment permet répondre requêtes position niveau élément autres fonctionnalités comme distance entre ordre classement résultats nécessitent connaître position termes précisément entrées index peuvent complétées ajouter position rapport début texte élément fonctionnalités index élément élément position données tableau Index élément Index élément position ftcontains information ftcontains distance ftcontains stemming ftcontains ordered ftcontains thesaurus ftcontains information starts ftcontains inform regex ftcontains exact content ftcontains without content ftcontains Prédicats XQuery calculable index Jamard Gardarin Classement résultats méthode classement associe poids pertinence chaque résultat médiateur classer résultats provenant plusieurs sources regrouper renvoyer ordre classement architecture proposée permet calculer poids chaque résultat avant recomposer données calcul réalisé interrogation index formule classement précise aussi calculable informations contenues index poids résultat somme poids chaque élément résultat contenant plusieurs clefs Notre approche basée spécificité chaque résultat Cette méthode donne influence éléments proche racine résultat effet proches racine importants éléments profonds arbre résultat Cette méthode reste encore assez simple puisqu prend compte position relativement entre éléments contenant plusieurs recherchés voient influence également augmenter pourcentage clefs présent élément rapport ensemble clefs recherchés facteur polynomial ajustant poids élément Finalement formule suivante calcule poids élément poids recherché nombre total recherchés prédicat nombre recherchés présents élément distance entre élément racine résultat nombre liens constante permet faire varier influence distance racine facteur polynomial permet augmenter influence éléments contenant recherchés poids total résultat somme poids chaque élément contenant clefs Cette formule modulable adapter besoin utilisateur étendue remplacée Ainsi médiateur intégrer autres formules reposant informations index formule ajustable suivant application autres systèmes proposent solutions concrètes classer résultats requête recherche clefs XRANK propose formule calculée suivant nombre entrant sortant inter intra document élément système utilise comme métrique proximité termes fenêtre minimum contenant termes facteur reste global tenant compte structure résultat distance aussi prise compte comme notre approche éléments éloignés moins importance autres systèmes comme Gerhard opérateur imprécision donnant degré similarité entre structure résultat demande requête XIRQL Norbert découpe documents objets recherche objets suivant pertinence contenu Retour expériences avons testé performances système trois données données présentées tableau stockées taille données Indexation virtuelles médiateur taille composée suivant structure critic avons mesuré temps recherche trois prédicats critic review ftcontains critic ftcontains without content title critic ftcontains données Exécution Intersection Mediator 18501 données Evaluation intersection requêtes renvoient documents contenant clefs recherche définie plusieurs parties éléments review review title ensemble nombre clefs varient entre temps exécution requêtes moyenne exécutions Pentium 512Mo mémoire second tableau tableau donne temps exécution clefs chaque données exécution réalisée indexée opérateur recherche médiateur occupe opération recherche chaque document temps présenté recherche index inclut temps recherche index Index Source extraction recomposition résultats médiateur opérateur recherche temps inclut recomposition résultats suivant définition application prédicat recherche clefs opérateur sélection Comme prévu exécution utilisant index efficace seulement résultats pertinents extraits sources chaque donnée ratio obtenu requêtes sélectionnant ensemble documents 26words words Temps évaluation recherche index temps recherche index algorithme intersection listes présenté dernier tableau tableau requête Comparé temps exécution total requête tableau précédent recherche index représente moins tests Jamard Gardarin préliminaires montrent validité approche moins données transférées opération recherche niveau médiateur rapide index premier graphe figure illustre temps algorithme intersection retrouver entrées pertinentes requêtes remarque exécute rapidement sélections faites algorithme intersection espace recherche étant restreint celui second graphe figure présente temps recherche index chaque donnée temps recherche augmente linéairement lorsqu nouveau ajouté recherche Finalement requêtes basiques moins clefs système efficace temps recherche index négligeable Conclusion article avons présenté intégration XQuery médiateur principale difficulté intégrer sources répondant capacités proposons utiliser indexées permettre intégrer fonctionnalités sources médiateur indexe utilisant résumé structurel guide permet coder position éléments XPath indexer contenu opérateur recherche clefs utilise algorithmes basés système identifiant exécution requête XQuery système intègre formule classement adaptée structure arborescente résultats reste autres aspects important aborder gestion capacités sources Lorsqu source reconnaît partie XQuery construites devraient prendre compte cette capacité limiter indexation sources capables distribuant traitement requête sources capables classement résultats semble simple source classement global testé détails notamment comparaison autres formules vraies applications dernier aspect préciser gestion mises jours sources index insertion suppression objets sources Références Abiteboul Cluet Ferran Rousset Xyleme project Computer Networks Yahia Botev Shanmugasundaram TeXQuery Search Extension XQuery Liquid WebLogic liquiddata docs11 Bremer Gertz XQuery Integrating Document Retrieval WebDB Buxton Editors XQuery XPath Requirements Working Draft xquery requirements index adaptive structural summary graph structured SIGMOD Indexation virtuelles médiateur Chung adaptive index SIGMOD Conference Cooper Sample Franklin Hjaltason Shadmon Index Semistructured Gardarin Federating heterogeneous sources IASTED Conference pages Scottsdale Norbert Großjohann XIRQL Query Language Information Retrieval Documents SIGIR Gardarin Georges Treeguide Index Enabling Efficient Query Processing Bases Données Avancées Montpellier Octobre Botev Shanmugasundaram XRANK Ranked Keyword Search Documents SIGMOD Conference Information Integrator Content software Kaushik Shenoy Bohannon Gudes Exploiting local similarity indexing paths graph structured Suciu Index Structures Expressions Papakonstantinou queries algebra Enosys integration platform Knowl Theobald Weikum Index Based Search Engine Querying Relevance Ranking Widom stanford XQuark XQuark project source information integration components based XQuery xquark Summary Supporting query mediator difficult problem because sources provide keyword search ranking paper report integration functionalities emerging XQuery standard XLive XQuery mediator approach index virtual documents views Selected virtual documents demand mapped source objects mediator selection operator efficiently extended support search views Keyword search result ranking integrated results using relevance formula adapted results based number keywords elements distance searched nodes